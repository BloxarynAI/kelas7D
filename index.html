<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Website Kelas 7D - SMPN 2 Banjarnegara</title>
    <link rel="icon" type="image/png" href="icon.jpg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #42a5f5;
            --secondary-color: #90caf9;
            --accent-color: #bbdefb;
            --text-color: #37474f;
            --light-text: #ffffff;
            --dark-text: #202020b7;
            --card-bg: #f5f5f5;
            --admin-color: #ff7043;
            --header-gradient: linear-gradient(135deg, #42a5f5 0%, #2196f3 100%);
            --success-color: #4caf50;
            --warning-color: #ff9800;
            --danger-color: #f44336;
            --dark-input: #3a3a3a;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f9f9f9;
            color: var(--text-color);
            overflow-x: hidden;
            transition: background-color 0.6s, color 0.6s;
        }

        /* Header & Navigation */
        header {
            background: var(--header-gradient);
            color: var(--light-text);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 15px rgba(33, 150, 243, 0.3);
            position: relative;
            z-index: 1000;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo i {
            font-size: 2rem;
        }

        .logo h1 {
            font-size: 1.4rem;
            font-weight: 600;
        }

        .logo p {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .header-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        /* Notification Bell */
        .notification-bell {
            position: relative;
            cursor: pointer;
            color: var(--light-text);
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            transition: background-color 0.3s;
        }
        
        .notification-bell:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: #f44336;
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .notification-panel {
            position: absolute;
            top: 50px;
            right: 0;
            width: 350px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            display: none;
            max-height: 400px;
            overflow-y: auto;
        }

        .notification-panel.active {
            display: block;
            animation: fadeIn 0.3s;
        }

        .notification-header {
            padding: 15px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .notification-header h3 {
            margin: 0;
            font-size: 1.1rem;
        }

        .notification-list {
            list-style: none;
        }

        .notification-item {
            padding: 15px;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .notification-item:hover {
            background-color: #f9f9f9;
        }

        .notification-item.unread {
            background-color: #f0f7ff;
        }

        .notification-title {
            font-weight: 600;
            margin-bottom: 5px;
            color: #333;
        }

        .notification-time {
            font-size: 0.8rem;
            color: #888;
        }

        /* Theme Toggle */
        .theme-toggle {
            background: none;
            border: none;
            color: var(--light-text);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s;
        }

        .theme-toggle:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .hamburger {
            display: none;
            flex-direction: column;
            justify-content: space-around;
            width: 30px;
            height: 25px;
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
            z-index: 10;
        }

        .hamburger-line {
            width: 30px;
            height: 3px;
            background-color: var(--light-text);
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .hamburger.active .hamburger-line:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .hamburger.active .hamburger-line:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active .hamburger-line:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }

        /* Sidebar Navigation */
        .sidebar {
            position: fixed;
            top: 0;
            right: -300px;
            width: 300px;
            height: 100vh;
            background: var(--header-gradient);
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.2);
            transition: right 0.4s ease;
            z-index: 999;
            padding: 80px 20px 20px;
            overflow-y: auto;
        }

        .sidebar.active {
            right: 0;
        }
        
        .sidebar-nav {
            list-style: none;
        }

        .sidebar-nav li {
            margin-bottom: 15px;
            opacity: 0;
            transform: translateX(50px);
            transition: all 0.4s ease;
        }

        .sidebar.active .sidebar-nav li {
            opacity: 1;
            transform: translateX(0);
        }

        /* Accordion Menu Styles */
        .accordion-menu {
            list-style: none;
            padding: 0;
        }

        .accordion-item {
            margin-bottom: 10px;
            border-radius: 8px;
            overflow: hidden;
            background-color: rgba(255, 255, 255, 0.1);
            margin-bottom: 15px;
            opacity: 0;
            transform: translateX(50px);
            transition: all 0.4s ease;
        }

        .sidebar.active .accordion-item {
            opacity: 1;
            transform: translateX(0);
        }

        .accordion-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 15px;
            cursor: pointer;
            color: var(--light-text);
            transition: background-color 0.3s;
            font-size: 1.1rem;
        }

        .accordion-header:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .accordion-header i {
            margin-right: 10px;
            width: 25px;
            text-align: center;
        }

        .accordion-arrow {
            transition: transform 0.3s ease;
            font-size: 0.8rem;
        }

        .accordion-item.active .accordion-arrow {
            transform: rotate(180deg);
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            background-color: rgba(255, 255, 255, 0.05);
        }

        .accordion-content.active {
            max-height: 300px;
        }

        .sub-menu {
            list-style: none;
            padding: 0;
        }

        .sub-menu li {
            padding: 10px 15px 10px 50px;
            cursor: pointer;
            color: var(--light-text);
            transition: background-color 0.3s;
            font-size: 0.95rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .sub-menu li:last-child {
            border-bottom: none;
        }

        .sub-menu li:hover {
            background-color: rgba(255, 255, 255, 0.15);
            transform: translateX(5px);
        }

        /* Main Content */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .page {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Login Form */
        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 80vh;
        }

        .login-form {
            background-color: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 400px;
            text-align: center;
        }

        .login-form h2 {
            margin-bottom: 20px;
            color: var(--primary-color);
            font-weight: 600;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-color);
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
            font-family: 'Poppins', sans-serif;
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .btn {
            background: var(--header-gradient);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(33, 150, 243, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(33, 150, 243, 0.4);
        }

        .btn-admin {
            background: linear-gradient(135deg, #ff7043 0%, #f4511e 100%);
            box-shadow: 0 4px 8px rgba(244, 81, 30, 0.3);
        }

        .btn-admin:hover {
            box-shadow: 0 6px 12px rgba(244, 81, 30, 0.4);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success-color) 0%, #2e7d32 100%);
            box-shadow: 0 4px 8px rgba(76, 175, 80, 0.3);
        }

        .btn-success:hover {
            box-shadow: 0 6px 12px rgba(76, 175, 80, 0.4);
        }

        .btn-warning {
            background: linear-gradient(135deg, var(--warning-color) 0%, #f57c00 100%);
            box-shadow: 0 4px 8px rgba(255, 152, 0, 0.3);
        }

        .btn-warning:hover {
            box-shadow: 0 6px 12px rgba(255, 152, 0, 0.4);
        }

        .btn-danger {
            background: linear-gradient(135deg, var(--danger-color) 0%, #d32f2f 100%);
            box-shadow: 0 4px 8px rgba(244, 67, 54, 0.3);
        }

        .btn-danger:hover {
            box-shadow: 0 6px 12px rgba(244, 67, 54, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
            box-shadow: 0 4px 8px rgba(108, 117, 125, 0.3);
        }

        .btn-secondary:hover {
            box-shadow: 0 6px 12px rgba(108, 117, 125, 0.4);
        }

        /* Cards */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .card {
            background-color: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s;
            height: 280px;
            display: flex;
            flex-direction: column;
            cursor: pointer;
            margin-bottom: 30px;
            transition: background-color 0.6s, box-shadow 0.6s;
        }

        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
        }

        .card-img {
            height: 180px;
            background-color: var(--accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .card-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .card-img i {
            font-size: 3.5rem;
            color: var(--primary-color);
            z-index: 1;
        }

        .card-content {
            padding: 15px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .card h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-weight: 600;
        }

        .card h3 {
            margin-bottom: 8px;
            color: var(--primary-color);
            font-weight: 600;
            font-size: 1rem;
        }

        .card p {
            color: #666;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        /* Search Container */
        .search-container {
            position: relative;
            margin: 20px 0;
            max-width: 500px;
        }

        .search-input {
            width: 100%;
            padding: 12px 15px 12px 45px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .search-input:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .search-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #888;
        }

        /* Dark Mode Styles */
        .dark-mode .search-input {
            background-color: #3d3d3d;
            border-color: #555;
            color: #ffffff;
        }

        .dark-mode .search-input::placeholder {
            color: #bbbbbb;
        }

        .dark-mode .search-input:focus {
            background-color: #4a4a4a;
            border-color: var(--primary-color);
            color: #ffffff;
        }

        .dark-mode .search-icon {
            color: #bbbbbb;
        }

        /* User Info Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .user-modal {
            background-color: white;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            overflow: hidden;
            transform: translateY(50px) scale(0.9);
            opacity: 0;
            transition: all 0.4s ease;
        }

        .modal-overlay.active .user-modal {
            transform: translateY(0) scale(1);
            opacity: 1;
        }

        .modal-header {
            background: var(--header-gradient);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .modal-body {
            padding: 20px;
        }

        .user-info {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .user-photo {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            overflow: hidden;
            border: 4px solid var(--accent-color);
            background-color: var(--accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .user-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .user-details {
            text-align: center;
        }

        .user-details h2 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .user-details p {
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .detail-label {
            font-weight: 600;
            color: var(--text-color);
        }

        /* Admin Features */
        .admin-panel {
            background-color: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            margin-bottom: 30px;
        }

        .admin-panel h2 {
            color: var(--admin-color);
            margin-bottom: 20px;
            font-weight: 600;
            padding-bottom: 10px;
            border-bottom: 2px solid #f5f5f5;
        }

        /* Table Styles */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }

        th {
            background-color: var(--primary-color);
            color: white;
            font-weight: 500;
        }

        tr:last-child td {
            border-bottom: none;
        }

        tr:hover {
            background-color: #f9f9f9;
        }

        .action-menu {
            position: relative;
            display: inline-block;
        }

        .action-btn {
            background: none;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            color: var(--text-color);
            padding: 5px;
        }

        .dropdown-menu {
            display: none;
            position: absolute;
            right: 0;
            top: 100%;
            background-color: white;
            min-width: 180px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            z-index: 1;
            overflow: hidden;
        }

        .dropdown-menu.show {
            display: block;
            animation: fadeIn 0.3s;
        }

        .dropdown-menu button {
            width: 100%;
            text-align: left;
            padding: 12px 15px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background-color 0.2s;
        }

        .dropdown-menu button:hover {
            background-color: #f5f5f5;
        }

        /* Announcements */
        .announcement {
            background-color: white;
            border-left: 5px solid var(--primary-color);
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s;
        }
        
        .dark-mode .announcement {
            background-color: #3d3d3d;
        }

        .announcement:hover {
            transform: translateX(5px);
        }

        .announcement h3 {
            color: var(--primary-color);
            margin-bottom: 10px;
            font-weight: 600;
        }

        .announcement-meta {
            font-size: 0.85rem;
            color: #888;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .announcement-meta i {
            font-size: 1rem;
        }

        /* Schedule */
        .schedule-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .schedule-day {
            background-color: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s;
        }

        .schedule-day:hover {
            transform: translateY(-5px);
        }

        .schedule-day h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--accent-color);
            font-weight: 600;
        }

        .schedule-item {
            padding: 10px 0;
            border-bottom: 1px dashed #e0e0e0;
            display: flex;
            justify-content: space-between;
        }

        .schedule-item:last-child {
            border-bottom: none;
        }

        .schedule-time {
            font-weight: 500;
            color: var(--secondary-color);
            min-width: 100px;
        }

        /* Floating notification */
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 15px 25px;
            background-color: #4caf50;
            color: white;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.5s;
        }

        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }

        .notification.error {
            background-color: #f44336;
        }

        /* Album Foto Styles */
        .album-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .album-card {
            background-color: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .dark-mode .album-card {
            background-color: #3d3d3d;
        }

        .album-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
        }

        .album-thumbnail {
            height: 180px;
            overflow: hidden;
            position: relative;
        }

        .album-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }

        .album-card:hover .album-thumbnail img {
            transform: scale(1.05);
        }

        .album-info {
            padding: 15px;
        }

        .album-title {
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .album-meta {
            display: flex;
            justify-content: space-between;
            color: #888;
            font-size: 0.85rem;
        }

        /* Photo Modal */
        .photo-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .photo-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .photo-modal-content {
            max-width: 90%;
            max-height: 90%;
            position: relative;
        }

        .photo-modal-content img {
            max-width: 100%;
            max-height: 90vh;
            border-radius: 8px;
        }

        .photo-modal-close {
            position: absolute;
            top: -40px;
            right: 0;
            color: white;
            font-size: 2rem;
            cursor: pointer;
        }

        .photo-modal-nav {
            position: absolute;
            top: 50%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            transform: translateY(-50%);
            padding: 0 20px;
        }

        .photo-modal-nav button {
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .photo-modal-nav button:hover {
            background-color: rgba(255, 255, 255, 0.4);
        }

        .photo-info {
            color: white;
            text-align: center;
            margin-top: 15px;
        }

        /* Jadwal Piket */
        .piket-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .piket-day {
            background-color: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }

        .piket-day h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--accent-color);
            font-weight: 600;
        }

        .piket-list {
            list-style: none;
        }

        .piket-list li {
            padding: 10px 0;
            border-bottom: 1px dashed #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .piket-list li:last-child {
            border-bottom: none;
        }

        .piket-status {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .piket-status.completed {
            background-color: var(--success-color);
        }

        .piket-status.pending {
            background-color: var(--warning-color);
        }

        .piket-status.missed {
            background-color: var(--danger-color);
        }

        /* Upload Form */
        .upload-form {
            background-color: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            margin-bottom: 30px;
        }
        
        .dark-mode .upload-form {
            background-color: #3d3d3d;
        }

        .upload-area {
            border: 2px dashed #ccc;
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            margin-bottom: 20px;
            cursor: pointer;
            transition: border-color 0.3s;
        }

        .upload-area:hover {
            border-color: var(--primary-color);
        }

        .upload-area i {
            font-size: 3rem;
            color: #ccc;
            margin-bottom: 15px;
        }

        .upload-area p {
            color: #888;
        }

        .upload-preview {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .preview-item {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            height: 150px;
        }

        .preview-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .preview-remove {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: rgba(255, 255, 255, 0.8);
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            cursor: pointer;
            color: var(--danger-color);
        }

        /* Tabs */
        .tabs {
            display: flex;
            border-bottom: 2px solid #e0e0e0;
            margin-bottom: 20px;
        }

        .tab {
            padding: 12px 20px;
            cursor: pointer;
            font-weight: 500;
            color: #888;
            border-bottom: 2px solid transparent;
            transition: all 0.3s;
        }

        .tab.active {
            color: var(--primary-color);
            border-bottom: 2px solid var(--primary-color);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Logout button in Kelola Akun */
        .logout-btn-container {
            margin-top: 20px;
            text-align: center;
        }

        .logout-btn {
            background: linear-gradient(135deg, #ff7043 0%, #f4511e 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(244, 81, 30, 0.3);
        }

        .logout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(244, 81, 30, 0.4);
        }

        /* Tambahan style untuk checkbox remember me */
        .remember-me {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .remember-me input {
            margin-right: 10px;
            width: auto;
        }

        /* Tugas & Kegiatan Styles */
        .tugas-container, .kegiatan-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .tugas-card, .kegiatan-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s;
        }

        .tugas-card:hover, .kegiatan-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }

        .tugas-header, .kegiatan-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--accent-color);
        }

        .tugas-title, .kegiatan-title {
            color: var(--primary-color);
            font-weight: 600;
            font-size: 1.2rem;
        }

        .tugas-date, .kegiatan-date {
            color: #888;
            font-size: 0.9rem;
        }

        .tugas-mapel, .kegiatan-lokasi {
            background: var(--accent-color);
            color: var(--primary-color);
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            margin-bottom: 10px;
            display: inline-block;
        }

        .tugas-deskripsi, .kegiatan-deskripsi {
            color: var(--text-color);
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .tugas-status {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .status-belum {
            background: #fff3cd;
            color: #856404;
        }

        .status-selesai {
            background: #d1edff;
            color: #0c5460;
        }

        .status-terlambat {
            background: #f8d7da;
            color: #721c24;
        }

        /* Guest Mode Styles */
        .guest-login-container {
            margin-top: 20px;
            text-align: center;
        }

        .guest-info {
            background-color: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
        }

        .guest-info h3 {
            color: #2e7d32;
            margin-bottom: 10px;
        }

        .guest-info ul {
            text-align: left;
            margin-left: 20px;
        }

        .guest-info li {
            margin-bottom: 5px;
        }

        /* Comment Styles */
        .comment-section {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
        }

        .comment-form {
            background-color: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            margin-bottom: 20px;
        }

        .comment-form h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .comment-list {
            background-color: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }

        .comment-item {
            padding: 15px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .comment-item:last-child {
            border-bottom: none;
        }

        .comment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .comment-author {
            font-weight: 600;
            color: var(--primary-color);
        }

        .comment-date {
            font-size: 0.8rem;
            color: #888;
        }

        .comment-content {
            color: var(--text-color);
            line-height: 1.5;
        }

        .comment-warning {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 10px 15px;
            margin-bottom: 15px;
            font-size: 0.9rem;
            color: #856404;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .card-grid, .album-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
            
            .logo h1 {
                font-size: 1.2rem;
            }
            
            header {
                padding: 1rem;
            }
            
            .container {
                padding: 15px;
            }
            
            .schedule-grid, .piket-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .card-grid, .album-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .sidebar {
                width: 250px;
            }
            
            .upload-preview {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Animation for cards */
        @keyframes cardAppear {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-card {
            animation: cardAppear 0.5s ease forwards;
        }

        /* Online status indicator */
        .online-status {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: #4caf50;
            margin-right: 5px;
        }

        .online-status.offline {
            background-color: #f44336;
        }

        /* Hide sidebar on login page */
        body.login-page .hamburger {
            display: none;
        }

        /* Admin feature cards */
        .admin-feature-card {
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .admin-feature-card:hover {
            transform: translateY(-5px);
        }

        /* Dark Mode Styles */
        body.dark-mode {
            background-color: #1a1a1a;
            color: #e0e0e0;
        }

        .dark-mode header {
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.5);
        }

        .dark-mode .card, 
        .dark-mode .tugas-card, 
        .dark-mode .kegiatan-card,
        .dark-mode .schedule-day,
        .dark-mode .piket-day,
        .dark-mode .album-item,
        .dark-mode .admin-panel,
        .dark-mode .login-form {
            background-color: #2d2d2d;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            color: #e0e0e0;
        }

        .dark-mode .card h3,
        .dark-mode .tugas-title,
        .dark-mode .kegiatan-title,
        .dark-mode .schedule-day h3,
        .dark-mode .piket-day h3,
        .dark-mode .album-title {
            color: var(--secondary-color);
        }

        .dark-mode .card p,
        .dark-mode .tugas-deskripsi,
        .dark-mode .kegiatan-deskripsi {
            color: #b0b0b0;
        }

        .dark-mode .search-input,
        .dark-mode .form-group input,
        .dark-mode .form-group select,
        .dark-mode .form-group textarea {
            background-color: var(--dark-input);
            color: #e0e0e0;
            border-color: #555;
        }

        .dark-mode .search-input::placeholder,
        .dark-mode .form-group input::placeholder {
            color: #999;
        }

        .dark-mode .notification-panel {
            background-color: #2d2d2d;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
        }

        .dark-mode .notification-header {
            border-bottom: 1px solid #444;
        }

        .dark-mode .notification-item {
            border-bottom: 1px solid #444;
        }

        .dark-mode .notification-item:hover {
            background-color: #3d3d3d;
        }

        .dark-mode .notification-item.unread {
            background-color: #2a4365;
        }

        .dark-mode .notification-title {
            color: #e0e0e0;
        }

        .dark-mode .notification-time {
            color: #aaa;
        }

        /* Animation */
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .slide-down {
            animation: slideDown 0.3s ease-out;
        }
        
        /* ZarynAI Page Styles */
        .zaryn-ai-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 70vh;
            text-align: center;
        }
        
        .zaryn-ai-icon {
            font-size: 4rem;
            color: var(--primary-color);
            margin-bottom: 20px;
        }
        
        .zaryn-ai-description {
            max-width: 600px;
            margin-bottom: 30px;
            line-height: 1.6;
        }
        
        .zaryn-ai-btn {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 12px 25px;
            background: var(--header-gradient);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 500;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(33, 150, 243, 0.3);
        }
        
        .zaryn-ai-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(33, 150, 243, 0.4);
        }
        
        /* Alarm Notification Styles */
        .alarm-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 3000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .alarm-modal.active {
            opacity: 1;
            visibility: visible;
        }
        
        .alarm-content {
            background-color: white;
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transform: translateY(50px) scale(0.9);
            opacity: 0;
            transition: all 0.4s ease;
        }
        
        .alarm-modal.active .alarm-content {
            transform: translateY(0) scale(1);
            opacity: 1;
        }
        
        .alarm-icon {
            font-size: 3rem;
            color: var(--warning-color);
            margin-bottom: 20px;
        }
        
        .alarm-title {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        .alarm-message {
            margin-bottom: 25px;
            line-height: 1.5;
        }
        
        /* Comment section in pengumuman */
        .comment-section {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
        }
        
        .dark-mode .comment-section {
            border-top-color: #444;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="logo">
            <i class="fas fa-school"></i>
            <div>
                <h1>SMPN 2 Banjarnegara</h1>
                <p>Kelas 7D - Portal Resmi</p>
            </div>
        </div>
        
        <div class="header-controls">
            <div class="notification-bell" id="notification-bell">
                <i class="fas fa-bell"></i>
                <span class="notification-badge" id="notification-count">0</span>
                <div class="notification-panel" id="notification-panel">
                    <div class="notification-header">
                        <h3>Notifikasi</h3>
                        <button class="btn btn-sm" id="mark-all-read">Tandai Sudah Dibaca</button>
                    </div>
                    <ul class="notification-list" id="notification-list">
                        <!-- Notifications will be populated by JavaScript -->
                    </ul>
                </div>
            </div>
            
            <button class="hamburger" id="hamburger-btn">
                <div class="hamburger-line"></div>
                <div class="hamburger-line"></div>
                <div class="hamburger-line"></div>
            </button>
        </div>
    </header>

    <!-- Sidebar Navigation dengan Accordion -->
    <nav class="sidebar">
        <ul class="accordion-menu" id="sidebar-menu">
            <li class="accordion-item">
                <div class="accordion-header" data-menu="anggota">
                    <span><i class="fas fa-users"></i> Anggota Kelas</span>
                    <i class="fas fa-chevron-down accordion-arrow"></i>
                </div>
                <div class="accordion-content">
                    <ul class="sub-menu">
                        <li onclick="showPage('anggota-kelas')">Daftar Anggota</li>
                        <li onclick="showPage('organisasi-kelas')">Struktur Organisasi</li>
                    </ul>
                </div>
            </li>

            <li class="accordion-item">
                <div class="accordion-header" data-menu="jadwal">
                    <span><i class="fas fa-calendar-alt"></i> Jadwal</span>
                    <i class="fas fa-chevron-down accordion-arrow"></i>
                </div>
                <div class="accordion-content">
                    <ul class="sub-menu">
                        <li onclick="showPage('jadwal-pelajaran')">Jadwal Pelajaran</li>
                        <li onclick="showPage('jadwal-piket')">Jadwal Piket</li>
                    </ul>
                </div>
            </li>
            
            <!-- MENU BARU: Ask AI -->
            <li class="accordion-item">
                <div class="accordion-header" data-menu="ai">
                    <span><i class="fas fa-robot"></i> Ask AI</span>
                    <i class="fas fa-chevron-down accordion-arrow"></i>
                </div>
                <div class="accordion-content">
                    <ul class="sub-menu">
                        <li onclick="showPage('zaryn-ai')">ZarynAI</li>
                    </ul>
                </div>
            </li>

            <li class="accordion-item">
                <div class="accordion-header" data-menu="media">
                    <span><i class="fas fa-images"></i> Media</span>
                    <i class="fas fa-chevron-down accordion-arrow"></i>
                </div>
                <div class="accordion-content">
                    <ul class="sub-menu">
                        <li onclick="showPage('album-foto')">Album Foto</li>
                    </ul>
                </div>
            </li>

            <li class="accordion-item">
                <div class="accordion-header" data-menu="info">
                    <span><i class="fas fa-info-circle"></i> Informasi</span>
                    <i class="fas fa-chevron-down accordion-arrow"></i>
                </div>
                <div class="accordion-content">
                    <ul class="sub-menu">
                        <li onclick="showPage('pengumuman')">Pengumuman</li>
                        <li onclick="showPage('tugas')">Tugas</li>
                        <li onclick="showPage('kegiatan')">Kegiatan</li>
                    </ul>
                </div>
            </li>

            <li class="accordion-item">
                <div class="accordion-header" data-menu="akun">
                    <span><i class="fas fa-user-cog"></i> Akun</span>
                    <i class="fas fa-chevron-down accordion-arrow"></i>
                </div>
                <div class="accordion-content">
                    <ul class="sub-menu">
                        <li onclick="showPage('kelola-akun')">Kelola Akun</li>
                    </ul>
                </div>
            </li>

            <li class="accordion-item admin-menu" style="display: none;">
                <div class="accordion-header" data-menu="admin">
                    <span><i class="fas fa-crown"></i> Admin</span>
                    <i class="fas fa-chevron-down accordion-arrow"></i>
                </div>
                <div class="accordion-content">
                    <ul class="sub-menu">
                        <li onclick="showPage('admin-feature')">Dashboard Admin</li>
                        <li onclick="showPage('list-admin')">List Admin</li>
                        <li onclick="showPage('tambah-akun')">Tambah Akun</li>
                        <li onclick="showPage('list-anggota')">List Anggota</li>
                        <li onclick="showPage('kelola-piket')">Kelola Piket</li>
                        <li onclick="showPage('kelola-album')">Kelola Album</li>
                    </ul>
                </div>
            </li>
        </ul>
        <button class="theme-toggle" id="theme-toggle">
                <i class="fas fa-moon"></i>
            </button>
    </nav>

    <!-- Main Content -->
    <main class="container">
        <!-- Login Page -->
        <section id="login-page" class="page active">
            <div class="login-container">
                <div class="login-form">
                    <h2>Login ke Portal Kelas 7D</h2>
                    <div class="form-group">
                        <label for="username">Username/Nama Lengkap</label>
                        <input type="text" id="username" placeholder="Masukkan username atau nama lengkap">
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" placeholder="Masukkan password">
                    </div>
                    <div class="remember-me">
                        <input type="checkbox" id="remember-me">
                        <label for="remember-me">Ingat Saya</label>
                    </div>
                    <button class="btn" id="login-btn">Login</button>
                    
                    <!-- Tombol Guest Mode -->
                    <div class="guest-login-container">
                        <button class="btn btn-secondary" id="guest-login-btn">
                            <i class="fas fa-eye"></i> Masuk Sebagai Pengunjung
                        </button>
                        <p style="margin-top: 10px; font-size: 0.9rem; color: #666;">
                            Mode pengunjung memungkinkan Anda melihat informasi tanpa login
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Anggota Kelas Page -->
        <section id="anggota-kelas" class="page">
            <h2>Anggota Kelas 7D</h2>
            <div class="search-container">
                <input type="text" id="search-input" class="search-input" placeholder="Cari anggota kelas...">
                <i class="fas fa-search search-icon"></i>
            </div>
            <div class="card-grid" id="anggota-container">
                <!-- Card anggota akan diisi oleh JavaScript -->
            </div>
        </section>

        <!-- Organisasi Kelas Page -->
        <section id="organisasi-kelas" class="page">
            <h2>Struktur Organisasi Kelas 7D</h2>
            <div class="card-grid">
                <div class="card">
                    <div class="card-img">
                        <i class="fas fa-user-tie"></i>
                    </div>
                    <div class="card-content">
                        <h3>Ketua Kelas</h3>
                        <p>Nama: Harist Abdul Hakim</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-img">
                        <i class="fas fa-user-tie"></i>
                    </div>
                    <div class="card-content">
                        <h3>Wakil Ketua</h3>
                        <p>Nama: Ghatfaan Fayaadh Aufaa</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-img">
                        <i class="fas fa-chalkboard-teacher"></i>
                    </div>
                    <div class="card-content">
                        <h3>Wali Kelas</h3>
                        <p>Nama: SRI LESTRAI, S.Pd</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-img">
                        <i class="fas fa-clipboard-list"></i>
                    </div>
                    <div class="card-content">
                        <h3>Sekretaris 1</h3>
                        <p>Nama: Erfira Anggraeni</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-img">
                        <i class="fas fa-clipboard-list"></i>
                    </div>
                    <div class="card-content">
                        <h3>Sekretaris 2</h3>
                        <p>Nama: Keisha Novelis Nafeeza Zaafarani</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-img">
                        <i class="fas fa-money-bill-wave"></i>
                    </div>
                    <div class="card-content">
                        <h3>Bendahara 1</h3>
                        <p>Nama: Amalia Rezki Azizi</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-img">
                        <i class="fas fa-money-bill-wave"></i>
                    </div>
                    <div class="card-content">
                        <h3>Bendahara 2</h3>
                        <p>Nama: Azelia Nur Azzahra</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-img">
                        <i class="fas fa-broom"></i>
                    </div>
                    <div class="card-content">
                        <h3>Seksi Kebersihan</h3>
                        <p>• Dwika Hadi Wijaya</p>
                        <p>• Kirana Kamalia Ayu Wardiningrum</p>
                        <p>• Reina Al Yasmin</p>
                        <p>• Alifah Adeliza</p>
                        <p>• Rajendra Veron Alerea</p>
                        <p>• Azzam Amanullah</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-img">
                        <i class="fas fa-book"></i>
                    </div>
                    <div class="card-content">
                        <h3>Literasi</h3>
                        <p>Nama: Mutia Almas Fatimatuzzahra</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-img">
                        <i class="fas fa-mosque"></i>
                    </div>
                    <div class="card-content">
                        <h3>Seksi Keagamaan</h3>
                        <p>Nama: Riyan Ade Saputra</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-img">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <div class="card-content">
                        <h3>Seksi Keamanan</h3>
                        <p>Farzan Arza Argani</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- JADWAL PELAJARAN KELAS 7D -->
        <section id="jadwal-pelajaran" class="page">
    <h2>Jadwal Pelajaran Kelas 7D</h2>

    <div class="schedule-grid">
        <!-- ==========  SENIN  ========== -->
        <div class="schedule-day">
            <h3><i class="fas fa-calendar-day"></i> Senin</h3>

            <div class="schedule-item upacara">
                <span class="schedule-time">07.00 – 08.00</span>
                <span class="schedule-subject">Upacara Bendera</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">08.40 – 09.20</span>
                <span class="schedule-subject">Bahasa Indonesia</span>
            </div>

            <div class="schedule-item istirahat">
                <span class="schedule-time">09.20 – 09.50</span>
                <span class="schedule-subject">Istirahat I</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">09.50 – 10.30</span>
                <span class="schedule-subject">Penjaskes</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">10.30 – 11.10</span>
                <span class="schedule-subject">Penjaskes</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">11.10 – 11.50</span>
                <span class="schedule-subject">PAIBP</span>
            </div>

            <div class="schedule-item istirahat">
                <span class="schedule-time">11.50 – 12.30</span>
                <span class="schedule-subject">Istirahat II (Sholat Dzuhur)</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">12.30 – 13.10</span>
                <span class="schedule-subject">Program MBG</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">13.10 – 13.50</span>
                <span class="schedule-subject">PAIBP</span>
            </div>

            <div class="schedule-item kombel">
                <span class="schedule-time">13.50</span>
                <span class="schedule-subject">Pulang</span>
            </div>
        </div>

        <!-- ==========  SELASA  ========== -->
        <div class="schedule-day">
            <h3><i class="fas fa-calendar-day"></i> Selasa</h3>

            <div class="schedule-item upacara">
                <span class="schedule-time">07.00 – 07.15</span>
                <span class="schedule-subject">Tadarus</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">07.15 – 07.55</span>
                <span class="schedule-subject">Bahasa Inggris</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">07.55 – 08.35</span>
                <span class="schedule-subject">Bahasa Jawa</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">08.35 – 09.15</span>
                <span class="schedule-subject">Bahasa Jawa</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">09.15 – 09.55</span>
                <span class="schedule-subject">Bahasa Indonesia</span>
            </div>
            
            <div class="schedule-item istirahat">
                <span class="schedule-time">09.55 – 10.25</span>
                <span class="schedule-subject">Istirahat I</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">10.25 – 11.05</span>
                <span class="schedule-subject">Bahasa Indonesia</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">11.05 – 11.45</span>
                <span class="schedule-subject">Matematika</span>
            </div>

            <div class="schedule-item istirahat">
                <span class="schedule-time">11.45 – 12.25</span>
                <span class="schedule-subject">Istirahat II (Sholat Dzuhur)</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">12.25 – 13.05</span>
                <span class="schedule-subject">Program MBG</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">13.05 – 13.45</span>
                <span class="schedule-subject">IPS</span>
            </div>

            <div class="schedule-item kombel">
                <span class="schedule-time">13.45</span>
                <span class="schedule-subject">Pulang</span>
            </div>
        </div>

        <!-- ==========  RABU  ========== -->
        <div class="schedule-day">
            <h3><i class="fas fa-calendar-day"></i> Rabu</h3>

            <div class="schedule-item upacara">
                <span class="schedule-time">07.00 – 07.15</span>
                <span class="schedule-subject">Tadarus</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">07.15 – 07.55</span>
                <span class="schedule-subject">PHBS / Pagi Ceria</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">07.55 – 08.35</span>
                <span class="schedule-subject">IPS</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">08.35 – 09.15</span>
                <span class="schedule-subject">IPS</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">09.15 – 09.55</span>
                <span class="schedule-subject">Matematika</span>
            </div>

            <div class="schedule-item istirahat">
                <span class="schedule-time">09.55 – 10.25</span>
                <span class="schedule-subject">Istirahat I</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">10.25 – 11.05</span>
                <span class="schedule-subject">IPA</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">11.05 – 11.45</span>
                <span class="schedule-subject">IPA</span>
            </div>

            <div class="schedule-item istirahat">
                <span class="schedule-time">11.45 – 12.25</span>
                <span class="schedule-subject">Istirahat II (Sholat Dzuhur)</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">12.25 – 13.05</span>
                <span class="schedule-subject">Program MBG</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">13.05 – 13.45</span>
                <span class="schedule-subject">PHBS</span>
            </div>

            <div class="schedule-item kombel">
                <span class="schedule-time">13.45 – 14.30</span>
                <span class="schedule-subject">Kombel / Pulang</span>
            </div>
        </div>

        <!-- ==========  KAMIS  ========== -->
        <div class="schedule-day">
            <h3><i class="fas fa-calendar-day"></i> Kamis</h3>

            <div class="schedule-item upacara">
                <span class="schedule-time">07.00 – 07.15</span>
                <span class="schedule-subject">Dear (Membaca)</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">07.15 – 07.55</span>
                <span class="schedule-subject">Bahasa Inggris</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">07.55 – 08.35</span>
                <span class="schedule-subject">Bahasa Inggris</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">08.35 – 09.15</span>
                <span class="schedule-subject">Bahasa Indonesia</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">09.15 – 09.55</span>
                <span class="schedule-subject">Pendidikan Pancasila</span>
            </div>

            <div class="schedule-item istirahat">
                <span class="schedule-time">09.55 – 10.25</span>
                <span class="schedule-subject">Istirahat I</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">10.25 – 11.05</span>
                <span class="schedule-subject">Pendidikan Pancasila</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">11.05 – 11.45</span>
                <span class="schedule-subject">Seni Budaya</span>
            </div>

            <div class="schedule-item istirahat">
                <span class="schedule-time">11.45 – 12.25</span>
                <span class="schedule-subject">Istirahat II (Sholat Dzuhur)</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">12.25 – 13.05</span>
                <span class="schedule-subject">Seni Budaya</span>
            </div>

            <div class="schedule-item kombel">
                <span class="schedule-time">13.05</span>
                <span class="schedule-subject">Pulang</span>
            </div>
        </div>

        <!-- ==========  JUMAT  ========== -->
        <div class="schedule-day">
            <h3><i class="fas fa-calendar-day"></i> Jumat</h3>

            <div class="schedule-item upacara">
                <span class="schedule-time">07.00 – 08.00</span>
                <span class="schedule-subject">Jumpa Pakar</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">08.00 – 08.40</span>
                <span class="schedule-subject">Jumpa Pakar</span>
            </div>

            <div class="schedule-item istirahat">
                <span class="schedule-time">08.40 – 09.00</span>
                <span class="schedule-subject">Istirahat</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">09.00 – 09.40</span>
                <span class="schedule-subject">Informatika</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">09.40 – 10.20</span>
                <span class="schedule-subject">Informatika</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">10.20 – 11.00</span>
                <span class="schedule-subject">Program MBG</span>
            </div>

            <div class="schedule-item kombel">
                <span class="schedule-time">11.00 – 12.00</span>
                <span class="schedule-subject">Sholat Jum'at & Keputrian</span>         
            </div>

            <div class="schedule-item kombel">
                <span class="schedule-time">12.00</span>
                <span class="schedule-subject">Pulang</span>         
            </div>
        </div>

        <!-- ==========  SABTU  ========== -->
        <div class="schedule-day">
            <h3><i class="fas fa-calendar-day"></i> Sabtu</h3>

            <div class="schedule-item upacara">
                <span class="schedule-time">07.00 – 07.15</span>
                <span class="schedule-subject">Asmaul Husna</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">07.15 – 07.55</span>
                <span class="schedule-subject">Matematika</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">07.55 – 08.35</span>
                <span class="schedule-subject">Matematika</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">08.35 – 09.15</span>
                <span class="schedule-subject">IPA</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">09.15 – 09.55</span>
                <span class="schedule-subject">IPA</span>
            </div>

            <div class="schedule-item istirahat">
                <span class="schedule-time">09.55 – 10.25</span>
                <span class="schedule-subject">Istirahat I</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">10.25 – 11.05</span>
                <span class="schedule-subject">Konservasi</span>
            </div>

            <div class="schedule-item">
                <span class="schedule-time">11.05 – 11.45</span>
                <span class="schedule-subject">Konservasi</span>
            </div>

            <div class="schedule-item istirahat">
                <span class="schedule-time">11.45 – 12.25</span>
                <span class="schedule-subject">Istirahat II (Sholat Dzuhur)</span>
            </div>
            
            <div class="schedule-item kombel">
                <span class="schedule-time">12.25 – 13.05</span>
                <span class="schedule-subject">Kombel / Pulang</span>         
            </div>
        </div>
    </div>
</section>

        <!-- Jadwal Piket Page -->
        <section id="jadwal-piket" class="page">
            <h2>Jadwal Piket Kelas 7D</h2>
            <div class="piket-grid" id="piket-container">
                <!-- Jadwal piket akan diisi oleh JavaScript -->
            </div>
            
            <!-- Form untuk admin mengelola jadwal piket -->
            <div id="manage-piket-form" style="display: none; margin-top: 30px;">
                <h3>Kelola Jadwal Piket</h3>
                <div class="form-group">
                    <label for="piket-day">Hari</label>
                    <select id="piket-day">
                        <option value="senin">Senin</option>
                        <option value="selasa">Selasa</option>
                        <option value="rabu">Rabu</option>
                        <option value="kamis">Kamis</option>
                        <option value="jumat">Jumat</option>
                        <option value="sabtu">Sabtu</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="piket-students">Siswa yang Bertugas (pisahkan dengan koma)</label>
                    <textarea id="piket-students" rows="3" placeholder="Masukkan nama siswa yang bertugas"></textarea>
                </div>
                <button class="btn btn-success" id="save-piket">Simpan Jadwal Piket</button>
            </div>
        </section>

        <!-- ZarynAI Page -->
        <section id="zaryn-ai" class="page">
            <div class="zaryn-ai-container">
                <div class="zaryn-ai-icon">
                    <i class="fas fa-robot"></i>
                </div>
                <h2>ZarynAI</h2>
                <p class="zaryn-ai-description">
                    ZarynAI adalah asisten AI cerdas yang dapat membantu Anda dalam berbagai hal. 
                    Dari menjawab pertanyaan, membantu mengerjakan tugas, hingga memberikan saran 
                    dan informasi yang Anda butuhkan.
                </p>
                <a href="https://bloxarynai.github.io/ZarynAI" target="_blank" class="zaryn-ai-btn">
                    <i class="fas fa-external-link-alt"></i> Buka ZarynAI
                </a>
            </div>
        </section>

        <!-- Album Foto Page -->
        <section id="album-foto" class="page">
            <h2>Album Foto Kelas 7D</h2>
            
            <div class="tabs">
                <div class="tab active" data-tab="view-album">Lihat Album</div>
                <div class="tab" data-tab="upload-photo" id="upload-tab" style="display: none;">Upload Foto</div>
            </div>
            
            <div class="tab-content active" id="view-album">
                <div class="search-container">
                    <input type="text" id="album-search" class="search-input" placeholder="Cari album...">
                    <i class="fas fa-search search-icon"></i>
                </div>
                
                <div class="album-grid" id="album-container">
                    <!-- Album akan diisi oleh JavaScript -->
                </div>
            </div>
            
            <div class="tab-content" id="upload-photo">
                <div class="upload-form">
                    <h3>Upload Foto Baru</h3>
                    <div class="form-group">
                        <label for="album-name">Nama Album</label>
                        <input type="text" id="album-name" placeholder="Masukkan nama album">
                    </div>
                    <div class="form-group">
                        <label for="album-description">Deskripsi Album</label>
                        <textarea id="album-description" rows="3" placeholder="Masukkan deskripsi album"></textarea>
                    </div>
                    
                    <div class="upload-area" id="upload-area">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Klik atau seret file ke sini untuk upload</p>
                        <input type="file" id="file-input" multiple accept="image/*" style="display: none;">
                    </div>
                    
                    <div class="upload-preview" id="upload-preview">
                        <!-- Preview gambar akan muncul di sini -->
                    </div>
                    
                    <button class="btn btn-success" id="upload-btn" disabled>Upload Foto</button>
                </div>
            </div>
        </section>

        <!-- Pengumuman Page -->
<section id="pengumuman" class="page">
    <h2>Pengumuman Kelas 7D</h2>
    
    <!-- Info Guest Mode -->
    <div id="guest-info" class="guest-info" style="display: none;">
        <h3><i class="fas fa-info-circle"></i> Mode Pengunjung</h3>
        <p>Anda sedang melihat website dalam mode pengunjung. Anda dapat melihat semua informasi dan pengumuman yang tersedia.</p>
        <ul>
            <li>Lihat informasi anggota kelas</li>
            <li>Lihat jadwal pelajaran dan piket</li>
            <li>Lihat album foto</li>
            <li>Baca pengumuman dan tugas</li>
        </ul>
        <p>Untuk fitur lengkap seperti komentar dan upload, silakan login dengan akun kelas.</p>
    </div>
    
    <!-- Pengumuman mbg --->
        <div class="announcement">
        <div style="text-align: center;">
            <h3>MBG - Jadwal Piket & Petunjuk</h3>
            <div class="announcement-meta">
                <i class="far fa-calendar-alt"></i>
                <span>24 Oktober 2025 - Oleh: Dwika Hadi Wijaya</span>
            </div>
            <img src="pengumuman2.jpg" alt="jadwal" style="max-width: 100%; height: auto; border-radius: 8px; margin: 10px 0; cursor: pointer;" onclick="openImageModal('pengumuman2.jpg', 'jadwal')">
            <p>"<small>untuk box bekal yang dikumpulkan di indoor box makan yang berisi bekal. Jadi disampaikan ke anak bekal dimakannya bersama-sama di indoor.</small>"</p>
            
            <img src="pengumuman3.jpg" alt="petunjuk" style="max-width: 100%; height: auto; border-radius: 8px; margin: 10px 0; cursor: pointer;" onclick="openImageModal('pengumuman3.jpg', 'petunjuk')">
            <p><small>Klik gambar untuk melihat lebih jelas</small></p>
        </div>
    </div>
    
    <!-- PENGUMUMAN BARU: KEGIATAN JUMPA PAKAR -->
    <div class="announcement">
        <h3>Kegiatan Jumpa Pakar Hari Jum'at, 24 Oktober 2025</h3>
        <div class="announcement-meta">
            <i class="far fa-calendar-alt"></i>
            <span>22 Oktober 2025 - Oleh: Dwika Hadi Wijaya</span>
        </div>
        <div style="white-space: pre-line; line-height: 1.6;">
            <p><strong><em>Assalamualaikum wrwb</em></strong></p>
            
            <p>Menginformasikan untuk kegiatan jumpa pakar hari Jum'at, 24 Oktober 2025 adalah <strong>Ketertiban</strong> dengan ketentuan sebagai berikut:</p>
            
            <ol>
                <li>Setelah bel jam 07.00 seluruh siswa kelas 7,8 & 9 menuju ke lapangan upacara untuk <strong><em>senam anak Indonesia hebat</em></strong></li>
                <li>Siswa kelas 8-9 baris di lapangan upacara seperti biasa persiapan, kelas 7 baris di Indoor. Di awali dengan Berdoa, menyanyikan Lagu Indonesia Raya, dilanjutkan senam.</li>
                <li>Setelah senam, seluruh siswa menuju ke indoor.</li>
                <li>Sholat Jum'at di sekolah.</li>
                <li>Keputrian kelas 9.</li>
                <li>Siswa/i <strong>berseragam kaos</strong> dengan membawa ganti seragam Pramuka lengkap (kelas 7 membawa baret/topi).</li>
            </ol>
            
            <p>Demikian informasi ini disampaikan, terimakasih.</p>
            
            <p><strong><em>Wassalamu'alaikum wrwb.</em></strong></p>
        </div>
    </div>

    <!-- PENGUMUMAN BARU: GERAKAN PRAMUKA DENGAN GAMBAR -->
    <div class="announcement">
        <div style="text-align: center;">
            <h3>Gerakan Pramuka - Pembuatan KTA</h3>
            <div class="announcement-meta">
                <i class="far fa-calendar-alt"></i>
                <span>22 Oktober 2025 - Oleh: Dwika Hadi Wijaya</span>
            </div>
            <img src="pengumuman1.jpg" alt="Gerakan Pramuka" style="max-width: 100%; height: auto; border-radius: 8px; margin: 10px 0; cursor: pointer;" onclick="openImageModal('pengumuman1.jpg', 'Gerakan Pramuka - Pembuatan KTA')">
            <p><small>Klik gambar untuk melihat lebih jelas</small></p>
        </div>
    </div>
    
    <div id="announcements-container">
        <!-- Daftar pengumuman lainnya akan diisi oleh JavaScript -->
    </div>
    
    <!-- Form untuk admin menambah pengumuman -->
    <div id="add-announcement-form" style="display: none; margin-top: 30px;">
        <h3>Tambah Pengumuman Baru</h3>
        <div class="form-group">
            <label for="announcement-title">Judul Pengumuman</label>
            <input type="text" id="announcement-title" placeholder="Masukkan judul pengumuman">
        </div>
        <div class="form-group">
            <label for="announcement-content">Isi Pengumuman</label>
            <textarea id="announcement-content" rows="4" placeholder="Masukkan isi pengumuman"></textarea>
        </div>
        <button class="btn" id="publish-announcement">Publikasikan Pengumuman</button>
    </div>
    
    <!-- Section Komentar -->
    <div id="comment-section" class="comment-section" style="display: none;">
        <div class="comment-warning">
            <i class="fas fa-exclamation-triangle"></i> 
            <strong>Perhatian:</strong> Fitur komentar masih dalam tahap uji coba dan mungkin akan dihapus pada update mendatang.
        </div>
        
        <div class="comment-form">
            <h3>Tambah Komentar</h3>
            <div class="form-group">
                <label for="comment-text">Komentar Anda</label>
                <textarea id="comment-text" rows="3" placeholder="Tulis komentar Anda di sini..."></textarea>
            </div>
            <button class="btn" id="submit-comment">Kirim Komentar</button>
        </div>
        
        <div class="comment-list" id="comment-list">
            <!-- Daftar komentar akan diisi oleh JavaScript -->
        </div>
    </div>
</section>
            

        <!-- Tugas -->
        <section id="tugas" class="page">
            <h2>Tugas Kelas 7D</h2>
            <div class="tugas-container" id="tugas-container">
<div class="tugas-card">
    <div class="tugas-header">
        <h3 class="tugas-title">PR PPKN</h3>
        <span class="tugas-date">25 Oktober 2025</span>
    </div>
    <span class="tugas-mapel">PPKN</span>
    <div class="tugas-deskripsi" style="text-align: center; margin: 15px 0;">
        <img src="tugas1.jpg" alt="Tugas PPKN" 
             style="max-width: 100%; height: auto; border-radius: 8px; cursor: pointer;"
             onclick="openImageModal('tugas1.jpg', 'Tugas PPKN')">
        <p style="margin-top: 10px; font-size: 0.9rem; color: #666;">
            Klik gambar untuk melihat lebih jelas
        </p>
    </div>
    <span class="tugas-status status-belum">Belum Dikerjakan</span>
</div>
                <div class="tugas-card">
                    <div class="tugas-header">
                        <h3 class="tugas-title">Tugas IPA</h3>
                        <span class="tugas-date">20 Oktober 2025</span>
                    </div>
                    <span class="tugas-mapel">IPA</span>
                    <p class="tugas-deskripsi">1. Jelaskan langkah-langkah pembuatan termometer dengan menggunakan zat cair!</p>
                    <p class="tugas-deskripsi">2. Jelaskan mengapa raksa dan alkohol di gunakan dalam pembuatan termometer!</p>
                    <p class="tugas-deskripsi">3. Sebutkan dua titik tetap yabg di gunakan dalam pembuatan termometer!</p>
                    <p class="tugas-deskripsi">4. titik tetap (Bawah/Atas), nama Termometer (pengukuran), Celcius titik tetap bawah dan atas, Reamur titik tetap bawah atas, Fahrenheit titik tetap bawah atas, kelvin titik tetap bawah dan atas</p>
                    <span class="tugas-status status-belum">belum</span>
                </div>
                <div class="tugas-card">
                    <div class="tugas-header">
                        <h3 class="tugas-title">Tugas Bahasa Indonesia</h3>
                        <span class="tugas-date">20 Oktober 2025</span>
                    </div>
                    <span class="tugas-mapel">Bahasa Indonesia</span>
                    <p class="tugas-deskripsi">Buatlah cerita fantasi!.</p>
                    <span class="tugas-status status-terlambat">Terlambat</span>
                </div>
            </div>
        </section>

        <!-- Kegiatan -->
        <section id="kegiatan" class="page">
            <h2>Kegiatan Kelas 7D</h2>
            <div class="kegiatan-container" id="kegiatan-container">
                <div class="kegiatan-card">
                    <div class="kegiatan-header">
                        <h3 class="kegiatan-title">Peringatan Hari Santri Nasional</h3>
                        <span class="kegiatan-date">20 Oktober 2025</span>
                    </div>
                    <span class="kegiatan-lokasi">Sekolah</span>
                    <p class="kegiatan-deskripsi">Memperingati Hari Santri secara Nasional dengan memakai baju bernuansa (serba) putih.</p>
                </div>
            </div>
        </section>

        <!-- Kelola Akun Page -->
        <section id="kelola-akun" class="page">
            <h2>Kelola Akun</h2>
            <div class="admin-panel">
                <div class="form-group">
                    <label for="current-username">Username</label>
                    <input type="text" id="current-username" value="" readonly>
                </div>
                <div class="form-group">
                    <label for="current-fullname">Nama Lengkap</label>
                    <input type="text" id="current-fullname" value="" readonly>
                </div>
                <div class="form-group">
                    <label for="new-password">Password Baru</label>
                    <input type="password" id="new-password" placeholder="Masukkan password baru">
                </div>
                <div class="form-group">
                    <label for="confirm-password">Konfirmasi Password Baru</label>
                    <input type="password" id="confirm-password" placeholder="Konfirmasi password baru">
                </div>
                <button class="btn" id="update-password">Update Password</button>
                
                <!-- Logout Button -->
                <div class="logout-btn-container">
                    <button class="logout-btn" id="logout-btn">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </div>
        </section>

        <!-- Admin Feature Pages -->
        <section id="admin-feature" class="page">
            <h2>Fitur Admin</h2>
            <div class="admin-panel">
                <p>Selamat datang di panel admin. Dari sini Anda dapat mengelola semua aspek website kelas.</p>
                <div class="card-grid" style="margin-top: 20px;">
                    <div class="card admin-feature-card" onclick="showPage('list-admin')">
                        <div class="card-img">
                            <i class="fas fa-user-shield"></i>
                        </div>
                        <div class="card-content">
                            <h3>List Admin</h3>
                            <p>Lihat dan kelola administrator sistem</p>
                        </div>
                    </div>
                    <div class="card admin-feature-card" onclick="showPage('tambah-akun')">
                        <div class="card-img">
                            <i class="fas fa-user-plus"></i>
                        </div>
                        <div class="card-content">
                            <h3>Tambah Akun</h3>
                            <p>Tambahkan anggota baru ke dalam kelas</p>
                        </div>
                    </div>
                    <div class="card admin-feature-card" onclick="showPage('list-anggota')">
                        <div class="card-img">
                            <i class="fas fa-list"></i>
                        </div>
                        <div class="card-content">
                            <h3>List Anggota</h3>
                            <p>Kelura semua anggota kelas</p>
                        </div>
                    </div>
                    <div class="card admin-feature-card" onclick="showPage('kelola-piket')">
                        <div class="card-img">
                            <i class="fas fa-broom"></i>
                        </div>
                        <div class="card-content">
                            <h3>Kelola Piket</h3>
                            <p>Atur jadwal piket kelas</p>
                        </div>
                    </div>
                    <div class="card admin-feature-card" onclick="showPage('kelola-album')">
                        <div class="card-img">
                            <i class="fas fa-images"></i>
                        </div>
                        <div class="card-content">
                            <h3>Kelola Album</h3>
                            <p>Kelola album foto kelas</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="list-admin" class="page">
            <h2>Daftar Admin</h2>
            <div class="admin-panel">
                <table>
                    <thead>
                        <tr>
                            <th>No</th>
                            <th>Username</th>
                            <th>Nama Lengkap</th>
                            <th>Tanggal Ditambahkan</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="admin-list-body">
                        <!-- Data admin akan diisi oleh JavaScript -->
                    </tbody>
                </table>
            </div>
        </section>

        <section id="tambah-akun" class="page">
            <h2>Tambah Akun Anggota</h2>
            <div class="admin-panel">
                <div class="form-group">
                    <label for="new-username">Username</label>
                    <input type="text" id="new-username" placeholder="Masukkan username">
                </div>
                <div class="form-group">
                    <label for="new-fullname">Nama Lengkap</label>
                    <input type="text" id="new-fullname" placeholder="Masukkan nama lengkap">
                </div>
                <div class="form-group">
                    <label for="new-user-password">Password</label>
                    <input type="password" id="new-user-password" placeholder="Masukkan password">
                </div>
                <div class="form-group">
                    <label for="confirm-user-password">Konfirmasi Password</label>
                    <input type="password" id="confirm-user-password" placeholder="Konfirmasi password">
                </div>
                <div class="form-group">
                    <label for="user-role">Peran</label>
                    <select id="user-role">
                        <option value="user">Anggota Biasa</option>
                        <option value="admin">Admin</option>
                    </select>
                </div>
                <button class="btn" id="create-account">Buat Akun</button>
            </div>
        </section>

        <section id="list-anggota" class="page">
            <h2>Daftar Anggota Kelas</h2>
            <div class="admin-panel">
                <table>
                    <thead>
                        <tr>
                            <th>No</th>
                            <th>Username</th>
                            <th>Nama Lengkap</th>
                            <th>Role</th>
                            <th>Status</th>
                            <th>Aksi</th>
                        </tr>
                    </thead>
                    <tbody id="anggota-list-body">
                        <!-- Data anggota akan diisi oleh JavaScript -->
                    </tbody>
                </table>
            </div>
        </section>

        <section id="kelola-piket" class="page">
            <h2>Kelola Jadwal Piket</h2>
            <div class="admin-panel">
                <div class="form-group">
                    <label for="piket-management-day">Hari</label>
                    <select id="piket-management-day">
                        <option value="senin">Senin</option>
                        <option value="selasa">Selasa</option>
                        <option value="rabu">Rabu</option>
                        <option value="kamis">Kamis</option>
                        <option value="jumat">Jumat</option>
                        <option value="sabtu">Sabtu</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="piket-management-students">Siswa yang Bertugas (pisahkan dengan koma)</label>
                    <textarea id="piket-management-students" rows="3" placeholder="Masukkan nama siswa yang bertugas"></textarea>
                </div>
                <button class="btn btn-success" id="save-piket-management">Simpan Jadwal Piket</button>
            </div>
        </section>

        <section id="kelola-album" class="page">
            <h2>Kelola Album Foto</h2>
            <div class="admin-panel">
                <div id="album-management-container">
                    <!-- Daftar album untuk dikelola akan diisi oleh JavaScript -->
                </div>
                <button class="btn btn-danger" id="delete-selected-albums" style="margin-top: 20px; display: none;">Hapus Album Terpilih</button>
            </div>
        </section>
    </main>

    <!-- User Info Modal -->
    <div class="modal-overlay" id="user-modal-overlay">
        <div class="user-modal">
            <div class="modal-header">
                <h2>Informasi Anggota</h2>
                <button class="modal-close" id="modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="user-info" id="user-info">
                    <!-- Informasi user akan diisi oleh JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Photo Modal -->
    <div class="photo-modal" id="photo-modal">
        <div class="photo-modal-content">
            <button class="photo-modal-close" id="photo-modal-close">
                <i class="fas fa-times"></i>
            </button>
            <div class="photo-modal-nav">
                <button id="prev-photo"><i class="fas fa-chevron-left"></i></button>
                <button id="next-photo"><i class="fas fa-chevron-right"></i></button>
            </div>
            <img id="modal-photo" src="" alt="">
            <div class="photo-info" id="photo-info"></div>
        </div>
    </div>

    <!-- Alarm Modal -->
    <div class="alarm-modal" id="alarm-modal">
        <div class="alarm-content">
            <div class="alarm-icon">
                <i class="fas fa-bell"></i>
            </div>
            <h2 class="alarm-title">Pengingat Jadwal</h2>
            <p class="alarm-message" id="alarm-message"></p>
            <button class="btn" id="close-alarm">Tutup</button>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notification-text"></span>
    </div>

    <script>
        // Data pengguna (akan disimpan di localStorage)
        let users = JSON.parse(localStorage.getItem('kelas7d_user')) ||  [
            // Akun admin
            { username: "adminkelas", password: "admin123", fullname: "Administrator Utama", role: "admin", isOnline: false, joinDate: "2023-01-01" },
            { username: "sri.lestari", password: "sri123", fullname: "Sri Lestari, S.Pd", role: "admin", isOnline: false, joinDate: "2023-01-15" },
            
            // Akun siswa (32 siswa)
            { username: "abiyyu", password: "abiyyu123", fullname: "Abiyyu Nocherino Revantara", role: "user", isOnline: false, joinDate: "2023-02-20", position: "Anggota", absen: 1 },
            { username: "ahmed", password: "ahmed123", fullname: "Ahmed Fadee Aisyhafiy", role: "user", isOnline: false, joinDate: "2023-02-21", position: "Anggota", absen: 2 },
            { username: "alifah", password: "alifah123", fullname: "Alifah Adeliza", role: "user", isOnline: false, joinDate: "2023-02-22", position: "Seksi Kebersihan", absen: 3 },
            { username: "amalia", password: "amalia123", fullname: "Amalia Rezki Azizi", role: "user", isOnline: false, joinDate: "2023-02-23", position: "Bendahara I", absen: 4 },
            { username: "argani", password: "argani123", fullname: "Argani Wisnu Wibisana", role: "user", isOnline: false, joinDate: "2023-02-24", position: "Anggota", absen: 5 },
            { username: "arni", password: "arni123", fullname: "Arni Rahmadhani", role: "user", isOnline: false, joinDate: "2023-02-25", position: "Anggota", absen: 6 },
            { username: "aryasatya", password: "aryasatya123", fullname: "Aryasatya Byakta", role: "user", isOnline: false, joinDate: "2023-02-26", position: "Anggota", absen: 7 },
            { username: "azelia", password: "azelia123", fullname: "Azelia Nur Azzahra", role: "user", isOnline: false, joinDate: "2023-02-27", position: "Bendahara II", absen: 8 },
            { username: "azzam", password: "azzam123", fullname: "Azzam Amanullah", role: "user", isOnline: false, joinDate: "2023-02-28", position: "Seksi Kebersihan", absen: 9 },
            { username: "denessia", password: "denessia123", fullname: "Denessia Fahia Mahya", role: "user", isOnline: false, joinDate: "2023-03-01", position: "Anggota", absen: 10 },
            { username: "dwika", password: "dwika123", fullname: "Dwika Hadi Wijaya", role: "user", isOnline: false, joinDate: "2023-03-02", position: "Seksi Kebersihan", absen: 11 },
            { username: "erfira", password: "erfira123", fullname: "Erfira Anggraeni", role: "user", isOnline: false, joinDate: "2023-03-03", position: "Sekertaris I", absen: 12 },
            { username: "farzan", password: "farzan123", fullname: "Farzan Ahza Argani", role: "user", isOnline: false, joinDate: "2023-03-04", position: "Anggota", absen: 13 },
            { username: "firli", password: "firli123", fullname: "Firli Alisa Rahma", role: "user", isOnline: false, joinDate: "2023-03-05", position: "Anggota", absen: 14 },
            { username: "ghatfaan", password: "ghatfaan123", fullname: "Ghatfaan Fayaadh Aufaa", role: "user", isOnline: false, joinDate: "2023-03-06", position: "Wakil Ketua", absen: 15 },
            { username: "hartts", password: "hartts123", fullname: "Hartts Abdul Hakim", role: "user", isOnline: false, joinDate: "2023-03-07", position: "Ketua Kelas", absen: 16 },
            { username: "joshua", password: "joshua123", fullname: "Joshua Veddyttarro", role: "user", isOnline: false, joinDate: "2023-03-08", position: "Anggota", absen: 17 },
            { username: "keisha", password: "keisha123", fullname: "Keisha Novelis Nafeeza Zaafarani", role: "user", isOnline: false, joinDate: "2023-03-09", position: "Sekertaris II", absen: 18 },
            { username: "kirana", password: "kirana123", fullname: "Kirana Kamalia Ayu Wardaniningrum", role: "user", isOnline: false, joinDate: "2023-03-10", position: "Seksi Kebersihan", absen: 19 },
            { username: "mohammad", password: "mohammad123", fullname: "Mohammad Asadell Akhtar", role: "user", isOnline: false, joinDate: "2023-03-11", position: "Anggota", absen: 20 },
            { username: "muhammad", password: "muhammad123", fullname: "Muhammad Ardiansyah", role: "user", isOnline: false, joinDate: "2023-03-12", position: "Anggota", absen: 21 },
            { username: "mutia", password: "mutia123", fullname: "Mutia Almas Fatimatuzzahra", role: "user", isOnline: false, joinDate: "2023-03-13", position: "Literasi", absen: 22 },
            { username: "nafis", password: "nafis123", fullname: "Nafis Prawiro", role: "user", isOnline: false, joinDate: "2023-03-14", position: "Anggota", absen: 23 },
            { username: "nara", password: "nara123", fullname: "Nara Ayu Apriliani", role: "user", isOnline: false, joinDate: "2023-03-15", position: "Anggota", absen: 24 },
            { username: "priska", password: "priska123", fullname: "Priska Oktaviana", role: "user", isOnline: false, joinDate: "2023-03-16", position: "Anggota", absen: 25 },
            { username: "rajendra", password: "rajendra123", fullname: "Rajendra Veron Alerea", role: "user", isOnline: false, joinDate: "2023-03-17", position: "Seksi Kebersihan", absen: 26 },
            { username: "reina", password: "reina123", fullname: "Reina Al Yasmin", role: "user", isOnline: false, joinDate: "2023-03-18", position: "Seksi Kebersihan", absen: 27 },
            { username: "riyan", password: "riyan123", fullname: "Riyan Ade Saputra", role: "user", isOnline: false, joinDate: "2023-03-19", position: "Seksi Keagamaan", absen: 28 },
            { username: "selena", password: "selena123", fullname: "Selena Zayna Tatum", role: "user", isOnline: false, joinDate: "2023-03-20", position: "Anggota", absen: 29 },
            { username: "shafin", password: "shafin123", fullname: "Shafin Althaf", role: "user", isOnline: false, joinDate: "2023-03-21", position: "Anggota", absen: 30 },
            { username: "zabarjad", password: "zabarjad123", fullname: "Zabarjad Nibras Alzain", role: "user", isOnline: false, joinDate: "2023-03-22", position: "Anggota", absen: 31 },
            { username: "zauhair", password: "zauhair123", fullname: "Zauhair Rakha Adi", role: "user", isOnline: false, joinDate: "2023-03-23", position: "Anggota", absen: 32 }
        ];

        // Data anggota kelas (32 siswa) - Diambil dari data yang diberikan
        const anggotaKelas = [
            { no: 1, nama: "Abiyyu Nocherino Revantara", absen: 1, kedudukan: "Anggota" },
            { no: 2, nama: "Ahmed Fadee Aisyhafiy", absen: 2, kedudukan: "Anggota" },
            { no: 3, nama: "Alifah Adeliza", absen: 3, kedudukan: "Seksi Kebersihan" },
            { no: 4, nama: "Amalia Rezki Azizi", absen: 4, kedudukan: "Bendahara I" },
            { no: 5, nama: "Argani Wisnu Wibisana", absen: 5, kedudukan: "Anggota" },
            { no: 6, nama: "Arni Rahmadhani", absen: 6, kedudukan: "Anggota" },
            { no: 7, nama: "Aryasatya Byakta", absen: 7, kedudukan: "Anggota" },
            { no: 8, nama: "Azelia Nur Azzahra", absen: 8, kedudukan: "Bendahara II" },
            { no: 9, nama: "Azzam Amanullah", absen: 9, kedudukan: "Seksi Kebersihan" },
            { no: 10, nama: "Denessia Fahia Mahya", absen: 10, kedudukan: "Anggota" },
            { no: 11, nama: "Dwika Hadi Wijaya", absen: 11, kedudukan: "Seksi Kebersihan" },
            { no: 12, nama: "Erfira Anggraeni", absen: 12, kedudukan: "Sekertaris I" },
            { no: 13, nama: "Farzan Ahza Argani", absen: 13, kedudukan: "Anggota" },
            { no: 14, nama: "Firli Alisa Rahma", absen: 14, kedudukan: "Anggota" },
            { no: 15, nama: "Ghatfaan Fayaadh Aufaa", absen: 15, kedudukan: "Wakil Ketua" },
            { no: 16, nama: "Harits Abdul Hakim", absen: 16, kedudukan: "Ketua Kelas" },
            { no: 17, nama: "Joshua Veddyttarro", absen: 17, kedudukan: "Anggota" },
            { no: 18, nama: "Keisha Novelis Nafeeza Zaafarani", absen: 18, kedudukan: "Sekertaris II" },
            { no: 19, nama: "Kirana Kamalia Ayu Wardaniningrum", absen: 19, kedudukan: "Seksi Kebersihan" },
            { no: 20, nama: "Mohammad Asadell Akhtar", absen: 20, kedudukan: "Anggota" },
            { no: 21, nama: "Muhammad Ardiansyah", absen: 21, kedudukan: "Anggota" },
            { no: 22, nama: "Mutia Almas Fatimatuzzahra", absen: 22, kedudukan: "Anggota" },
            { no: 23, nama: "Nafis Prawiro", absen: 23, kedudukan: "Anggota" },
            { no: 24, nama: "Nara Ayu Apriliani", absen: 24, kedudukan: "Anggota" },
            { no: 25, nama: "Priska Oktaviana", absen: 25, kedudukan: "Anggota" },
            { no: 26, nama: "Rajendra Veron Alerea", absen: 26, kedudukan: "Seksi Kebersihan" },
            { no: 27, nama: "Reina Al Yasmin", absen: 27, kedudukan: "Seksi Kebersihan" },
            { no: 28, nama: "Riyan Ade Saputra", absen: 28, kedudukan: "Seksi Keagamaan" },
            { no: 29, nama: "Selena Zayna Tatum", absen: 29, kedudukan: "Anggota" },
            { no: 30, nama: "Shafin Althaf", absen: 30, kedudukan: "Anggota" },
            { no: 31, nama: "Zabarjad Nibras Alzain", absen: 31, kedudukan: "Anggota" },
            { no: 32, nama: "Zauhair Rakha Adi", absen: 32, kedudukan: "Anggota" }
        ];

        // Data pengumuman
        let announcements = [
            { 
                title: "Selamat Datang di Website Kelas 7D", 
                content: "Website ini adalah portal resmi untuk komunikasi dan informasi kelas. Semoga bermanfaat!", 
                date: "2023-05-01", 
                author: "Administrator" 
            },
            
            {
                title: "Hari Santri Nasional",
                content: 'Menindaklanjuti seBupati tentang Peringatan Hari Santri Nasional tanggal 22 Oktober 2025, kami sampaikan hal-hal sbb :\n 1. Tgl 20-22 Oktober 2025 guru dan siswa memakai pakaian bernuansa putih. Siswa putri berjilbab putih Esphero dan siswa putra memakai sarung serta peci.      \n 2. Upacara hari Senin ditiadakan, diganti dengan apel pagi hari Rabu, 22 Oktober 2025.     \n 3. Hari Selasa, 21 Oktober 2025 khusus siswa kelas 9 ada CKG (Cek Kesehatan Gratis) dan imunisasi HPV bagi siswa putri. Siswa dihimbau untuk sarapan di rumah dan membawa minuman manis.     \n 4. Untuk sepatu dan kaos kaki menyesuaikan hari sekolah',
                date: '19/11/2025',
                author: "Dwika Hadi Wijaya"
                }
            
        ];

        // Data jadwal piket
        let piketSchedule = {
            senin: ["Abiyyu", "Hafiy", "Gani", "Zizi", "Alifah"],
            selasa: ["Arya", "Azzam", "Dwika", "Arni", "Denessia"],
            rabu: ["Farzan", "Fayaadh", "Harist", "Erfira", "Firli"],
            kamis: ["Joshua", "Akhtar", "Ardian", "Keysha", "Kirana"],
            jumat: ["Nafis", "Veron", "Riyan", "Mutia", "Nara"],
            sabtu: ["Shafin", "Alzain", "Rakha", "Priska", "Reina", "Selena"]
        };

        // Data album foto
        let photoAlbums = [
    {
        id: 1,
        name: "1 Kelas",
        description: "Foto bersama kelas 7D",
        cover: "cover.jpg",
        photos: [
            {
                id: 1,
                url: "f1.jpg",
                caption: "-",
                uploadDate: "2023-05-10",
                uploader: "Sri Lestari, S.Pd"
            },
            {
                id: 2,
                url: "f2.jpg",
                caption: "-",
                uploadDate: "2023-05-11",
                uploader: "Sri Lestari, S.Pd"
            }
        ],
        created: "2023-05-10",
        createdBy: "Sri Lestari, S.Pd"
    },
    {
        id: 2,
        name: "Literasi Di Perpusda?!",
        description: "Kegiatan Perpusda Hari Ini",
        cover: "cover1.jpg",
        photos: [
            {
                id: 1,
                url: "foto1.jpg",
                caption: "Cisss",
                uploadDate: "23 Oktober 2025",
                uploader: "Administrator Utama"
            },
            
            {
                id: 2,
                url: "foto2.jpg",
                caption: "Nafis...",
                uploadDate: "23 Oktober 2025",
                uploader: "Dwika Hadi Wijaya"
            },
            
            {
                id: 3,
                url: "foto3.jpg",
                caption: "Khusus...",
                uploadDate: "23 Oktober 2025",
                uploader: "Dwika Hadi Wijaya"
            },
            
            {
                id: 4,
                url: "foto4.jpg",
                caption: "...",
                uploadDate: "23 Oktober 2025",
                uploader: "Dwika Hadi Wijaya"
            },
        ],
        created: "23 Oktober 2025",
        createdBy: "Administrator Utama"
    }
];

        // Data komentar
        let comments = [];

        // State aplikasi
        let currentUser = null;
        let isLoggedIn = false;
        let isGuestMode = false;
        let activeSessions = {};
        let currentAlbum = null;
        let currentPhotoIndex = 0;
        
        let notifications = [
            { id: 1, title: "Selamat Datang", message: "Selamat datang di portal kelas 7D", time: "2023-05-01 08:00", read: true },
            { id: 2, title: "Pengumuman Baru", message: "Pengumuman baru telah ditambahkan", time: "2023-05-02 10:30", read: false },
            { id: 3, title: "Jadwal Piket", message: "Jadwal piket telah diperbarui untuk minggu ini", time: "2023-05-03 14:15", read: false },
            {
              id: 4,
              title: "Tugas!!",
              message: 'Informasi lebih lanjut plih menu pengumuman "Tugas"...',
              time: "2025-10-21 17:15",
              read: false
            }
        ];
        
        let uploadFiles = [];
        
        // Data jadwal alarm
        const alarmSchedule = {
            senin: [
                { time: "07:00", subject: "Upacara Bendera" },
                { time: "08:40", subject: "Bahasa Indonesia" },
                { time: "09:50", subject: "Penjaskes" },
                { time: "11:10", subject: "PAIBP" },
                { time: "12:30", subject: "Program MBG" },
                { time: "13:10", subject: "PAIBP" }
            ],
            selasa: [
                { time: "07:00", subject: "Tadarus" },
                { time: "07:15", subject: "Bahasa Inggris" },
                { time: "07:55", subject: "Bahasa Jawa" },
                { time: "09:15", subject: "Bahasa Indonesia" },
                { time: "10:25", subject: "Bahasa Indonesia" },
                { time: "11:05", subject: "Matematika" },
                { time: "12:25", subject: "Program MBG" },
                { time: "13:05", subject: "IPS" }
            ],
            rabu: [
                { time: "07:00", subject: "Tadarus" },
                { time: "07:15", subject: "PHBS / Pagi Ceria" },
                { time: "07:55", subject: "IPS" },
                { time: "09:15", subject: "Matematika" },
                { time: "10:25", subject: "IPA" },
                { time: "12:25", subject: "Program MBG" },
                { time: "13:05", subject: "PHBS" }
            ],
            kamis: [
                { time: "07:00", subject: "Dear (Membaca)" },
                { time: "07:15", subject: "Bahasa Inggris" },
                { time: "08:35", subject: "Bahasa Indonesia" },
                { time: "09:15", subject: "Pendidikan Pancasila" },
                { time: "10:25", subject: "Pendidikan Pancasila" },
                { time: "11:05", subject: "Seni Budaya" },
                { time: "12:25", subject: "Seni Budaya" }
            ],
            jumat: [
                { time: "07:00", subject: "Jumpa Pakar" },
                { time: "09:00", subject: "Informatika" },
                { time: "10:20", subject: "Program MBG" },
                { time: "11:00", subject: "Sholat Jum'at & Keputrian" }
            ],
            sabtu: [
                { time: "07:00", subject: "Asmaul Husna" },
                { time: "07:15", subject: "Matematika" },
                { time: "08:35", subject: "IPA" },
                { time: "10:25", subject: "Konservasi" },
                { time: "12:25", subject: "Kombel" }
            ]
        };

        // DOM Elements
        const hamburger = document.getElementById('hamburger-btn');
        const sidebar = document.querySelector('.sidebar');
        const pages = document.querySelectorAll('.page');
        const loginBtn = document.getElementById('login-btn');
        const guestLoginBtn = document.getElementById('guest-login-btn');
        const logoutBtn = document.getElementById('logout-btn');
        const updatePasswordBtn = document.getElementById('update-password');
        const createAccountBtn = document.getElementById('create-account');
        const publishAnnouncementBtn = document.getElementById('publish-announcement');
        const submitCommentBtn = document.getElementById('submit-comment');
        const notification = document.getElementById('notification');
        const notificationText = document.getElementById('notification-text');
        const modalOverlay = document.getElementById('user-modal-overlay');
        const modalClose = document.getElementById('modal-close');
        const rememberMeCheckbox = document.getElementById('remember-me');
        const searchInput = document.getElementById('search-input');
        const savePiketBtn = document.getElementById('save-piket');
        const savePiketManagementBtn = document.getElementById('save-piket-management');
        const uploadArea = document.getElementById('upload-area');
        const fileInput = document.getElementById('file-input');
        const uploadPreview = document.getElementById('upload-preview');
        const uploadBtn = document.getElementById('upload-btn');
        const photoModal = document.getElementById('photo-modal');
        const photoModalClose = document.getElementById('photo-modal-close');
        const prevPhotoBtn = document.getElementById('prev-photo');
        const nextPhotoBtn = document.getElementById('next-photo');
        const modalPhoto = document.getElementById('modal-photo');
        const photoInfo = document.getElementById('photo-info');
        const uploadTab = document.getElementById('upload-tab');
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');
        const deleteAlbumsBtn = document.getElementById('delete-selected-albums');
        const guestInfo = document.getElementById('guest-info');
        const commentSection = document.getElementById('comment-section');
        const alarmModal = document.getElementById('alarm-modal');
        const alarmMessage = document.getElementById('alarm-message');
        const closeAlarmBtn = document.getElementById('close-alarm');

        // Event Listeners
        hamburger.addEventListener('click', toggleSidebar);
        loginBtn.addEventListener('click', login);
        guestLoginBtn.addEventListener('click', enterGuestMode);
        logoutBtn.addEventListener('click', logout);
        updatePasswordBtn.addEventListener('click', updatePassword);
        createAccountBtn.addEventListener('click', createAccount);
        publishAnnouncementBtn.addEventListener('click', publishAnnouncement);
        submitCommentBtn.addEventListener('click', submitComment);
        modalClose.addEventListener('click', closeModal);
        searchInput.addEventListener('input', filterAnggota);
        savePiketBtn.addEventListener('click', savePiket);
        savePiketManagementBtn.addEventListener('click', savePiketManagement);
        uploadArea.addEventListener('click', () => fileInput.click());
        fileInput.addEventListener('change', handleFileSelect);
        uploadBtn.addEventListener('click', uploadPhotos);
        photoModalClose.addEventListener('click', closePhotoModal);
        prevPhotoBtn.addEventListener('click', showPrevPhoto);
        nextPhotoBtn.addEventListener('click', showNextPhoto);
        deleteAlbumsBtn.addEventListener('click', deleteSelectedAlbums);
        closeAlarmBtn.addEventListener('click', closeAlarm);

        // Navigasi sidebar
        document.querySelectorAll('.sidebar-nav a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetPage = this.getAttribute('href').substring(1);
                showPage(targetPage);
                if (window.innerWidth < 768) {
                    toggleSidebar();
                }
            });
        });

        // Tab navigation
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const tabId = tab.getAttribute('data-tab');
                
                // Update active tab
                tabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // Show corresponding content
                tabContents.forEach(content => {
                    content.classList.remove('active');
                    if (content.id === tabId) {
                        content.classList.add('active');
                    }
                });
            });
        });
        
        document.addEventListener('DOMContentLoaded', function() {
            // Setup dark mode
            setupDarkMode();
            
            // Setup notification system
            setupNotifications();
            
            // Render notifikasi
            renderNotifications();
            
            // Update badge notifikasi
            updateNotificationBadge();
            
            // Setup event listeners
            setupEventListeners();
            
            // Load comments from localStorage
            loadComments();
            
            // Start alarm system
            startAlarmSystem();
        });
        
        function setupDarkMode() {
            const isDarkMode = localStorage.getItem('kelas7d_darkmode') === 'true';
            
            if (isDarkMode) {
                document.body.classList.add('dark-mode');
                document.getElementById('theme-toggle').innerHTML = '<i class="fas fa-sun"></i>';
            }
        }

        // Fungsi untuk toggle dark mode
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            
            const isDarkMode = document.body.classList.contains('dark-mode');
            localStorage.setItem('kelas7d_darkmode', isDarkMode);
            
            if (isDarkMode) {
                document.getElementById('theme-toggle').innerHTML = '<i class="fas fa-sun"></i>';
            } else {
                document.getElementById('theme-toggle').innerHTML = '<i class="fas fa-moon"></i>';
            }
        }

        // Fungsi untuk setup notifikasi
        function setupNotifications() {
            // Pastikan notifikasi tersimpan di localStorage
            if (!localStorage.getItem('kelas7d_notifications')) {
                localStorage.setItem('kelas7d_notifications', JSON.stringify(notifications));
            }
        }

        // Fungsi untuk merender notifikasi
        function renderNotifications() {
            const notificationList = document.getElementById('notification-list');
            notificationList.innerHTML = '';
            
            notifications.forEach(notification => {
                const notificationItem = document.createElement('li');
                notificationItem.className = `notification-item ${notification.read ? '' : 'unread'}`;
                notificationItem.innerHTML = `
                    <div class="notification-title">${notification.title}</div>
                    <div class="notification-message">${notification.message}</div>
                    <div class="notification-time">${notification.time}</div>
                `;
                
                notificationItem.addEventListener('click', () => {
                    markNotificationAsRead(notification.id);
                });
                
                notificationList.appendChild(notificationItem);
            });
        }

        // Fungsi untuk update badge notifikasi
        function updateNotificationBadge() {
            const unreadCount = notifications.filter(n => !n.read).length;
            const badge = document.getElementById('notification-count');
            
            badge.textContent = unreadCount;
            badge.style.display = unreadCount > 0 ? 'flex' : 'none';
        }

        // Fungsi untuk menandai notifikasi sebagai sudah dibaca
        function markNotificationAsRead(id) {
            const notification = notifications.find(n => n.id === id);
            if (notification) {
                notification.read = true;
                localStorage.setItem('kelas7d_notifications', JSON.stringify(notifications));
                updateNotificationBadge();
                renderNotifications();
            }
        }

        // Fungsi untuk menandai semua notifikasi sebagai sudah dibaca
        function markAllNotificationsAsRead() {
            notifications.forEach(notification => {
                notification.read = true;
            });
            
            localStorage.setItem('kelas7d_notifications', JSON.stringify(notifications));
            updateNotificationBadge();
            renderNotifications();
        }

        // Fungsi untuk toggle panel notifikasi
        function toggleNotificationPanel() {
            document.getElementById('notification-panel').classList.toggle('active');
        }

        // Fungsi untuk setup event listeners
        function setupEventListeners() {
            // Theme toggle
            document.getElementById('theme-toggle').addEventListener('click', toggleDarkMode);
            
            // Notification bell
            document.getElementById('notification-bell').addEventListener('click', function(e) {
                e.stopPropagation();
                toggleNotificationPanel();
            });
            
            // Mark all as read button
            document.getElementById('mark-all-read').addEventListener('click', function(e) {
                e.stopPropagation();
                markAllNotificationsAsRead();
            });
            
            // Close notification panel when clicking outside
            document.addEventListener('click', function(e) {
                if (!e.target.closest('#notification-panel') && !e.target.closest('#notification-bell')) {
                    document.getElementById('notification-panel').classList.remove('active');
                }
            });
        }

        // Fungsi toggle sidebar
        function toggleSidebar() {
            hamburger.classList.toggle('active');
            sidebar.classList.toggle('active');
        }

        // Fungsi untuk menampilkan halaman tertentu
        function showPage(pageId) {
            pages.forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
            
            // Render konten khusus halaman
            if (pageId === 'jadwal-piket') {
                renderPiketSchedule();
            } else if (pageId === 'album-foto') {
                renderPhotoAlbums();
            } else if (pageId === 'kelola-album') {
                renderAlbumManagement();
            } else if (pageId === 'pengumuman') {
                renderAnnouncements();
                renderComments();
            }
        }

        // Fungsi untuk menampilkan notifikasi
        function showNotification(message, isError = false) {
            notificationText.textContent = message;
            notification.classList.remove('error');
            
            if (isError) {
                notification.classList.add('error');
            }
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Fungsi untuk membuka modal informasi user
        function openUserModal(absen) {
            const anggota = anggotaKelas.find(a => a.absen === absen);
            if (!anggota) return;
            
            const userInfo = document.getElementById('user-info');
            userInfo.innerHTML = `
                <div class="user-photo">
                    <img src="absen${absen}.jpg" alt="${anggota.nama}" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMDAgMjAwIiBmaWxsPSIjNDJhNWY1Ij48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2JiZGVmYiIvPjx0ZXh0IHg9IjEwMCIgeT0iMTAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iNjAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiIGZpbGw9IiM0MmE1ZjUiPiQoYWJzZW4pPC90ZXh0Pjwvc3ZnPg=='">
                </div>
                <div class="user-details">
                    <h2>${anggota.nama}</h2>
                    <p><span class="detail-label">Absen:</span> ${anggota.absen}</p>
                    <p><span class="detail-label">Kedudukan:</span> ${anggota.kedudukan}</p>
                    <p><span class="detail-label">Kelas:</span> 7D - Esphero</p>
                    <p><span class="detail-label">Sekolah:</span> SMPN 2 Banjarnegara</p>
                </div>
            `;
            
            modalOverlay.classList.add('active');
        }

        // Fungsi untuk menutup modal
        function closeModal() {
            modalOverlay.classList.remove('active');
        }

        // Tutup modal saat klik di luar konten modal
        modalOverlay.addEventListener('click', function(e) {
            if (e.target === modalOverlay) {
                closeModal();
            }
        });

        // Fungsi untuk menyimpan status login
        function saveLoginState(username, remember) {
            if (remember) {
                localStorage.setItem('kelas7d_rememberedUser', username);
            } else {
                localStorage.removeItem('kelas7d_rememberedUser');
            }
        }

        // Fungsi untuk memeriksa status login yang diingat
        function checkRememberedLogin() {
            const rememberedUser = localStorage.getItem('kelas7d_rememberedUser');
            if (rememberedUser) {
                // Cari user di database
                const user = users.find(u => u.username === rememberedUser);
                if (user) {
                    // Isi form login dengan username yang diingat
                    document.getElementById('username').value = rememberedUser;
                    rememberMeCheckbox.checked = true;
                }
            }
        }

        // Fungsi untuk melakukan login otomatis jika ada sesi yang diingat
        function checkAutoLogin() {
            const rememberedUser = localStorage.getItem('kelas7d_rememberedUser');
            if (rememberedUser) {
                const user = users.find(u => u.username === rememberedUser);
                if (user) {
                    // Lakukan login otomatis
                    currentUser = user;
                    isLoggedIn = true;
                    user.isOnline = true;
                    
                    // Tampilkan menu admin jika user adalah admin
                    if (user.role === 'admin') {
                        document.querySelectorAll('.admin-menu').forEach(menu => {
                            menu.style.display = 'block';
                        });
                        document.getElementById('add-announcement-form').style.display = 'block';
                        document.getElementById('manage-piket-form').style.display = 'block';
                        uploadTab.style.display = 'flex';
                    } else {
                        document.querySelectorAll('.admin-menu').forEach(menu => {
                            menu.style.display = 'none';
                        });
                        document.getElementById('add-announcement-form').style.display = 'none';
                        document.getElementById('manage-piket-form').style.display = 'none';
                        uploadTab.style.display = 'none';
                    }
                    
                    // Tampilkan fitur komentar
                    commentSection.style.display = 'block';
                    
                    // Tampilkan hamburger menu
                    hamburger.style.display = 'flex';
                    
                    // Sembunyikan halaman login, tampilkan halaman anggota kelas
                    showPage('anggota-kelas');
                    renderAnggotaKelas();
                    renderAnnouncements();
                    renderListAnggota();
                    renderAdminList();
                    renderPiketSchedule();
                    renderPhotoAlbums();
                    
                    // Set username di form kelola akun
                    document.getElementById('current-username').value = user.username;
                    document.getElementById('current-fullname').value = user.fullname;
                    
                    showNotification(`Selamat datang kembali, ${user.fullname}!`);
                }
            }
        }

        // Fungsi untuk memfilter anggota berdasarkan pencarian
        function filterAnggota() {
            const searchTerm = searchInput.value.toLowerCase();
            const filteredAnggota = anggotaKelas.filter(anggota => 
                anggota.nama.toLowerCase().includes(searchTerm) || 
                anggota.absen.toString().includes(searchTerm) ||
                anggota.kedudukan.toLowerCase().includes(searchTerm)
            );
            
            renderAnggotaKelas(filteredAnggota);
        }

        // Fungsi untuk masuk sebagai pengunjung
        function enterGuestMode() {
            isGuestMode = true;
            isLoggedIn = false;
            currentUser = null;
            
            // Tampilkan info guest mode
            guestInfo.style.display = 'block';
            
            // Sembunyikan fitur admin dan upload
            document.querySelectorAll('.admin-menu').forEach(menu => {
                menu.style.display = 'none';
            });
            document.getElementById('add-announcement-form').style.display = 'none';
            document.getElementById('manage-piket-form').style.display = 'none';
            uploadTab.style.display = 'none';
            commentSection.style.display = 'none';
            
            // Tampilkan hamburger menu
            hamburger.style.display = 'flex';
            
            // Sembunyikan halaman login, tampilkan halaman anggota kelas
            showPage('anggota-kelas');
            renderAnggotaKelas();
            renderAnnouncements();
            renderListAnggota();
            renderAdminList();
            renderPiketSchedule();
            renderPhotoAlbums();
            
            showNotification("Anda masuk sebagai pengunjung. Anda dapat melihat semua informasi yang tersedia.");
        }

        // Fungsi login
        function login() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const rememberMe = rememberMeCheckbox.checked;
            
            const user = users.find(u => (u.username === username || u.fullname === username) && u.password === password);
            
            if (user) {
                currentUser = user;
                isLoggedIn = true;
                isGuestMode = false;
                user.isOnline = true;
                
                // Simpan status remember me
                saveLoginState(user.username, rememberMe);
                
                // Simpan data ke localStorage
                saveUsers();
                
                // Tampilkan menu admin jika user adalah admin
                if (user.role === 'admin') {
                    document.querySelectorAll('.admin-menu').forEach(menu => {
                        menu.style.display = 'block';
                    });
                    document.getElementById('add-announcement-form').style.display = 'block';
                    document.getElementById('manage-piket-form').style.display = 'block';
                    uploadTab.style.display = 'flex';
                } else {
                    document.querySelectorAll('.admin-menu').forEach(menu => {
                        menu.style.display = 'none';
                    });
                    document.getElementById('add-announcement-form').style.display = 'none';
                    document.getElementById('manage-piket-form').style.display = 'none';
                    uploadTab.style.display = 'none';
                }
                
                // Tampilkan fitur komentar
                commentSection.style.display = 'block';
                
                // Sembunyikan info guest mode
                guestInfo.style.display = 'none';
                
                // Tampilkan hamburger menu
                hamburger.style.display = 'flex';
                
                // Sembunyikan halaman login, tampilkan halaman anggota kelas
                showPage('anggota-kelas');
                renderAnggotaKelas();
                renderAnnouncements();
                renderListAnggota();
                renderAdminList();
                renderPiketSchedule();
                renderPhotoAlbums();
                
                // Set username di form kelola akun
                document.getElementById('current-username').value = user.username;
                document.getElementById('current-fullname').value = user.fullname;
                
                showNotification(`Selamat datang, ${user.fullname}!`);
            } else {
                showNotification('Username atau password salah!', true);
            }
        }

        // Fungsi logout
        function logout() {
            if (currentUser) {
                currentUser.isOnline = false;
                saveUsers();
            }
            
            // Hapus status remember me saat logout
            localStorage.removeItem('kelas7d_rememberedUser');
            
            currentUser = null;
            isLoggedIn = false;
            isGuestMode = false;
            
            // Sembunyikan hamburger menu
            hamburger.style.display = 'none';
            
            // Reset form login
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
            rememberMeCheckbox.checked = false;
            
            // Tampilkan halaman login
            showPage('login-page');
            
            showNotification('Anda telah logout');
        }

        // Fungsi untuk merender anggota kelas
        function renderAnggotaKelas(data = anggotaKelas) {
            const cardGrid = document.getElementById('anggota-container');
            cardGrid.innerHTML = '';
            
            if (data.length === 0) {
                cardGrid.innerHTML = '<p class="no-result">Tidak ada anggota yang ditemukan</p>';
                return;
            }
            
            data.forEach((anggota, index) => {
                const card = document.createElement('div');
                card.className = 'card animate-card';
                card.style.animationDelay = `${index * 0.05}s`;
                card.onclick = () => openUserModal(anggota.absen);
                card.innerHTML = `
                    <div class="card-img">
                        <img src="absen${anggota.absen}.jpg" alt="${anggota.nama}" onerror="this.innerHTML='<i class=\\'fas fa-user\\'></i>'">
                    </div>
                    <div class='card-content'>
                        <h3>${anggota.nama}</h3>
                        <p>Absen: ${anggota.absen}</p>
                        <p>${anggota.kedudukan}</p>
                    </div>
                `;
                cardGrid.appendChild(card);
            });
        }

        // Fungsi untuk merender pengumuman
        function renderAnnouncements() {
            const container = document.getElementById('announcements-container');
            container.innerHTML = '';
            
            if (announcements.length === 0) {
                container.innerHTML = '<p class="no-result">Belum ada pengumuman</p>';
                return;
            }
            
            announcements.forEach(announcement => {
                const announcementEl = document.createElement('div');
                announcementEl.className = 'announcement';
                announcementEl.innerHTML = `
                    <h3>${announcement.title}</h3>
                    <div class="announcement-meta">
                        <i class="far fa-calendar-alt"></i>
                        <span>${announcement.date} - Oleh: ${announcement.author}</span>
                    </div>
                    <p>${announcement.content}</p>
                `;
                container.appendChild(announcementEl);
            });
        }

        // Fungsi untuk merender jadwal piket
        function renderPiketSchedule() {
            const container = document.querySelector('.piket-grid');
            container.innerHTML = '';
            
            const days = ['senin', 'selasa', 'rabu', 'kamis', 'jumat', 'sabtu'];
            const dayNames = {
                senin: 'Senin',
                selasa: 'Selasa',
                rabu: 'Rabu',
                kamis: 'Kamis',
                jumat: 'Jumat',
                sabtu: 'Sabtu'
            };
            
            days.forEach(day => {
                const dayElement = document.createElement('div');
                dayElement.className = 'piket-day';
                dayElement.innerHTML = `
                    <h3><i class="fas fa-calendar-day"></i> ${dayNames[day]}</h3>
                    <ul class="piket-list">
                        ${piketSchedule[day].map(student => `
                            <li>
                                <span>${student}</span>
                                <span class="piket-status pending"></span>
                            </li>
                        `).join('')}
                    </ul>
                `;
                container.appendChild(dayElement);
            });
        }

        // Fungsi untuk merender album foto
        function renderPhotoAlbums() {
            const container = document.getElementById('album-container');
            container.innerHTML = '';
            
            if (photoAlbums.length === 0) {
                container.innerHTML = '<p class="no-result">Belum ada album foto</p>';
                return;
            }
            
            photoAlbums.forEach(album => {
                const albumElement = document.createElement('div');
                albumElement.className = 'album-card';
                albumElement.innerHTML = `
                    <div class="album-thumbnail">
                        <img src="${album.cover}" alt="${album.name}">
                    </div>
                    <div class="album-info">
                        <h3 class="album-title">${album.name}</h3>
                        <p>${album.description}</p>
                        <div class="album-meta">
                            <span>${album.photos.length} foto</span>
                            <span>${album.created}</span>
                        </div>
                    </div>
                `;
                albumElement.addEventListener('click', () => openAlbum(album));
                container.appendChild(albumElement);
            });
        }

        // Fungsi untuk membuka album
        function openAlbum(album) {
            currentAlbum = album;
            currentPhotoIndex = 0;
            
            // Buat modal untuk menampilkan foto
            const modal = document.createElement('div');
            modal.className = 'modal-overlay active';
            modal.innerHTML = `
                <div class="user-modal" style="max-width: 90%;">
                    <div class="modal-header">
                        <h2>${album.name}</h2>
                        <button class="modal-close" id="album-modal-close">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <p>${album.description}</p>
                        <div class="photo-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 10px; margin-top: 20px;">
                            ${album.photos.map((photo, index) => `
                                <div class="photo-thumbnail" style="height: 150px; overflow: hidden; border-radius: 8px; cursor: pointer;">
                                    <img src="${photo.url}" alt="${photo.caption}" style="width: 100%; height: 100%; object-fit: cover;" data-index="${index}">
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Event listener untuk menutup modal
            modal.querySelector('#album-modal-close').addEventListener('click', () => {
                document.body.removeChild(modal);
            });
            
            // Event listener untuk membuka foto
            modal.querySelectorAll('.photo-thumbnail img').forEach(img => {
                img.addEventListener('click', (e) => {
                    const index = parseInt(e.target.getAttribute('data-index'));
                    openPhoto(album, index);
                    document.body.removeChild(modal);
                });
            });
            
            // Tutup modal saat klik di luar
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    document.body.removeChild(modal);
                }
            });
        }

        // Fungsi untuk membuka foto
        function openPhoto(album, index) {
            currentAlbum = album;
            currentPhotoIndex = index;
            
            const photo = album.photos[index];
            modalPhoto.src = photo.url;
            photoInfo.innerHTML = `
                <h3>${photo.caption}</h3>
                <p>Diunggah oleh: ${photo.uploader} pada ${photo.uploadDate}</p>
            `;
            
            photoModal.classList.add('active');
        }

        // Fungsi untuk menutup modal foto
        function closePhotoModal() {
            photoModal.classList.remove('active');
        }

        // Fungsi untuk menampilkan foto sebelumnya
        function showPrevPhoto() {
            if (currentAlbum && currentAlbum.photos.length > 0) {
                currentPhotoIndex = (currentPhotoIndex - 1 + currentAlbum.photos.length) % currentAlbum.photos.length;
                openPhoto(currentAlbum, currentPhotoIndex);
            }
        }

        // Fungsi untuk menampilkan foto berikutnya
        function showNextPhoto() {
            if (currentAlbum && currentAlbum.photos.length > 0) {
                currentPhotoIndex = (currentPhotoIndex + 1) % currentAlbum.photos.length;
                openPhoto(currentAlbum, currentPhotoIndex);
            }
        }

        // Fungsi untuk merender list anggota
        function renderListAnggota() {
            const tbody = document.getElementById('anggota-list-body');
            tbody.innerHTML = '';
            
            users.forEach((user, index) => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${user.username}</td>
                    <td>${user.fullname}</td>
                    <td>${user.role}</td>
                    <td>
                        ${user.isOnline ? 
                            '<span class="online-status"></span>Online' : 
                            '<span class="online-status offline"></span>Offline'
                        }
                    </td>
                    <td>
                        <div class="action-menu">
                            <button class="action-btn"><i class="fas fa-ellipsis-v"></i></button>
                            <div class="dropdown-menu">
                                <button onclick="viewUserDetails('${user.username}')"><i class="fas fa-eye"></i> Lihat Detail</button>
                                <button onclick="makeAdmin('${user.username}')"><i class="fas fa-crown"></i> Jadikan Admin</button>
                                <button onclick="deleteUser('${user.username}')"><i class="fas fa-trash"></i> Hapus</button>
                                <button onclick="resetPassword('${user.username}')"><i class="fas fa-key"></i> Reset Password</button>
                            </div>
                        </div>
                    </td>
                `;
                tbody.appendChild(tr);
            });
            
            // Tambahkan event listener untuk dropdown menu
            document.querySelectorAll('.action-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const menu = this.nextElementSibling;
                    const isShowing = menu.classList.contains('show');
                    
                    // Tutup semua menu dropdown lainnya
                    document.querySelectorAll('.dropdown-menu').forEach(m => {
                        m.classList.remove('show');
                    });
                    
                    // Buka/tutup menu yang diklik
                    if (!isShowing) {
                        menu.classList.add('show');
                    }
                });
            });
        }

        // Fungsi untuk merender list admin
        function renderAdminList() {
            const tbody = document.getElementById('admin-list-body');
            tbody.innerHTML = '';
            
            const admins = users.filter(u => u.role === 'admin');
            
            admins.forEach((admin, index) => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${admin.username}</td>
                    <td>${admin.fullname}</td>
                    <td>${admin.joinDate}</td>
                    <td>
                        ${admin.isOnline ? 
                            '<span class="online-status"></span>Online' : 
                            '<span class="online-status offline"></span>Offline'
                        }
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }

        // Fungsi untuk merender manajemen album
        function renderAlbumManagement() {
            const container = document.getElementById('album-management-container');
            container.innerHTML = '';
            
            if (photoAlbums.length === 0) {
                container.innerHTML = '<p class="no-result">Belum ada album foto</p>';
                return;
            }
            
            photoAlbums.forEach(album => {
                const albumElement = document.createElement('div');
                albumElement.className = 'admin-panel';
                albumElement.style.marginBottom = '15px';
                albumElement.innerHTML = `
                    <div style="display: flex; align-items: center; justify-content: space-between;">
                        <div>
                            <h3>${album.name}</h3>
                            <p>${album.description}</p>
                            <p><small>Dibuat oleh: ${album.createdBy} pada ${album.created}</small></p>
                            <p><small>Jumlah foto: ${album.photos.length}</small></p>
                        </div>
                        <div>
                            <input type="checkbox" class="album-checkbox" data-id="${album.id}" style="margin-right: 10px;">
                            <button class="btn btn-danger" onclick="deleteAlbum(${album.id})"><i class="fas fa-trash"></i> Hapus</button>
                        </div>
                    </div>
                `;
                container.appendChild(albumElement);
            });
            
            // Tampilkan tombol hapus terpilih jika ada album
            deleteAlbumsBtn.style.display = 'block';
        }
        
        // Fungsi untuk membuka modal gambar
function openImageModal(src, title) {
    const modal = document.createElement('div');
    modal.className = 'modal-overlay active';
    modal.style.zIndex = '3000';
    modal.innerHTML = `
        <div class="user-modal" style="max-width: 90%; max-height: 90%;">
            <div class="modal-header">
                <h2>${title}</h2>
                <button class="modal-close" id="image-modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" style="text-align: center; overflow: auto;">
                <img src="${src}" alt="${title}" style="max-width: 100%; max-height: 70vh; border-radius: 8px;">
            </div>
        </div>
    `;
    
    document.body.appendChild(modal);
    
    // Event listener untuk menutup modal
    modal.querySelector('#image-modal-close').addEventListener('click', () => {
        document.body.removeChild(modal);
    });
    
    // Tutup modal saat klik di luar
    modal.addEventListener('click', (e) => {
        if (e.target === modal) {
            document.body.removeChild(modal);
        }
    });
    
    // Tutup modal dengan tombol ESC
    const closeOnEsc = (e) => {
        if (e.key === 'Escape') {
            document.body.removeChild(modal);
            document.removeEventListener('keydown', closeOnEsc);
        }
    };
    document.addEventListener('keydown', closeOnEsc);
}

        // Fungsi untuk mempublish pengumuman baru
        function publishAnnouncement() {
            if (!currentUser || currentUser.role !== 'admin') {
                showNotification('Hanya admin yang dapat mempublish pengumuman!', true);
                return;
            }
            
            const title = document.getElementById('announcement-title').value;
            const content = document.getElementById('announcement-content').value;
            
            if (!title || !content) {
                showNotification('Judul dan konten pengumuman harus diisi!', true);
                return;
            }
            
            const today = new Date();
            const dateStr = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;
            
            announcements.unshift({
                title,
                content,
                date: dateStr,
                author: currentUser.fullname
            });
            
            // Simpan ke localStorage
            localStorage.setItem('kelas7d_announcements', JSON.stringify(announcements));
            
            renderAnnouncements();
            
            // Reset form
            document.getElementById('announcement-title').value = '';
            document.getElementById('announcement-content').value = '';
            
            showNotification('Pengumuman berhasil dipublikasikan!');
        }

        // Fungsi untuk update password
        function updatePassword() {
            const newPassword = document.getElementById('new-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            
            if (!newPassword || !confirmPassword) {
                showNotification('Password baru dan konfirmasi password harus diisi!', true);
                return;
            }
            
            if (newPassword !== confirmPassword) {
                showNotification('Password baru dan konfirmasi password tidak cocok!', true);
                return;
            }
            
            // Update password di data user
            const userIndex = users.findIndex(u => u.username === currentUser.username);
            if (userIndex !== -1) {
                users[userIndex].password = newPassword;
                saveUsers();
                showNotification('Password berhasil diperbarui!');
                
                // Reset form
                document.getElementById('new-password').value = '';
                document.getElementById('confirm-password').value = '';
            }
        }

        // Fungsi untuk membuat akun baru
        function createAccount() {
            if (!currentUser || currentUser.role !== 'admin') {
                showNotification('Hanya admin yang dapat membuat akun baru!', true);
                return;
            }
            
            const username = document.getElementById('new-username').value;
            const fullname = document.getElementById('new-fullname').value;
            const password = document.getElementById('new-user-password').value;
            const confirmPassword = document.getElementById('confirm-user-password').value;
            const role = document.getElementById('user-role').value;
            
            if (!username || !fullname || !password || !confirmPassword) {
                showNotification('Semua field harus diisi!', true);
                return;
            }
            
            if (password !== confirmPassword) {
                showNotification('Password dan konfirmasi password tidak cocok!', true);
                return;
            }
            
            // Cek apakah username sudah ada
            if (users.some(u => u.username === username)) {
                showNotification('Username sudah digunakan!', true);
                return;
            }
            
            // Tambahkan user baru
            const today = new Date();
            const dateStr = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;
            
            users.push({
                username,
                password,
                fullname,
                role,
                isOnline: false,
                joinDate: dateStr
            });
            
            // Simpan ke localStorage
            saveUsers();
            
            showNotification('Akun berhasil dibuat!');
            
            // Reset form
            document.getElementById('new-username').value = '';
            document.getElementById('new-fullname').value = '';
            document.getElementById('new-user-password').value = '';
            document.getElementById('confirm-user-password').value = '';
            document.getElementById('user-role').value = 'user';
            
            // Update list anggota
            renderListAnggota();
            renderAdminList();
            renderAnggotaKelas();
        }

        // Fungsi untuk menyimpan jadwal piket
        function savePiket() {
            if (!currentUser || currentUser.role !== 'admin') {
                showNotification('Hanya admin yang dapat mengubah jadwal piket!', true);
                return;
            }
            
            const day = document.getElementById('piket-day').value;
            const studentsText = document.getElementById('piket-students').value;
            
            if (!studentsText) {
                showNotification('Daftar siswa harus diisi!', true);
                return;
            }
            
            const students = studentsText.split(',').map(s => s.trim()).filter(s => s !== '');
            
            piketSchedule[day] = students;
            
            // Simpan ke localStorage
            localStorage.setItem('kelas7d_piket', JSON.stringify(piketSchedule));
            
            renderPiketSchedule();
            
            // Reset form
            document.getElementById('piket-students').value = '';
            
            showNotification('Jadwal piket berhasil disimpan!');
        }

        // Fungsi untuk menyimpan jadwal piket dari halaman kelola
        function savePiketManagement() {
            if (!currentUser || currentUser.role !== 'admin') {
                showNotification('Hanya admin yang dapat mengubah jadwal piket!', true);
                return;
            }
            
            const day = document.getElementById('piket-management-day').value;
            const studentsText = document.getElementById('piket-management-students').value;
            
            if (!studentsText) {
                showNotification('Daftar siswa harus diisi!', true);
                return;
            }
            
            const students = studentsText.split(',').map(s => s.trim()).filter(s => s !== '');
            
            piketSchedule[day] = students;
            
            // Simpan ke localStorage
            localStorage.setItem('kelas7d_piket', JSON.stringify(piketSchedule));
            
            // Reset form
            document.getElementById('piket-management-students').value = '';
            
            showNotification('Jadwal piket berhasil disimpan!');
        }

        // Fungsi untuk menangani pemilihan file
        function handleFileSelect(e) {
            const files = e.target.files;
            
            if (files.length === 0) return;
            
            uploadFiles = Array.from(files);
            uploadPreview.innerHTML = '';
            
            uploadFiles.forEach((file, index) => {
                if (!file.type.match('image.*')) {
                    showNotification('Hanya file gambar yang diizinkan!', true);
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    const previewItem = document.createElement('div');
                    previewItem.className = 'preview-item';
                    previewItem.innerHTML = `
                        <img src="${e.target.result}" alt="Preview">
                        <button class="preview-remove" data-index="${index}">
                            <i class="fas fa-times"></i>
                        </button>
                    `;
                    uploadPreview.appendChild(previewItem);
                    
                    // Event listener untuk menghapus preview
                    previewItem.querySelector('.preview-remove').addEventListener('click', (e) => {
                        e.stopPropagation();
                        const removeIndex = parseInt(e.target.closest('.preview-remove').getAttribute('data-index'));
                        uploadFiles.splice(removeIndex, 1);
                        uploadPreview.removeChild(previewItem);
                        
                        // Update data-index untuk item yang tersisa
                        uploadPreview.querySelectorAll('.preview-remove').forEach((btn, idx) => {
                            btn.setAttribute('data-index', idx);
                        });
                        
                        if (uploadFiles.length === 0) {
                            uploadBtn.disabled = true;
                        }
                    });
                };
                reader.readAsDataURL(file);
            });
            
            uploadBtn.disabled = false;
        }

        // Fungsi untuk mengupload foto
        function uploadPhotos() {
            if (!currentUser || currentUser.role !== 'admin') {
                showNotification('Hanya admin yang dapat mengupload foto!', true);
                return;
            }
            
            const albumName = document.getElementById('album-name').value;
            const albumDescription = document.getElementById('album-description').value;
            
            if (!albumName || !albumDescription) {
                showNotification('Nama dan deskripsi album harus diisi!', true);
                return;
            }
            
            if (uploadFiles.length === 0) {
                showNotification('Pilih setidaknya satu foto untuk diupload!', true);
                return;
            }
            
            const today = new Date();
            const dateStr = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;
            
            // Buat album baru
            const newAlbum = {
                id: Date.now(),
                name: albumName,
                description: albumDescription,
                cover: URL.createObjectURL(uploadFiles[0]),
                photos: [],
                created: dateStr,
                createdBy: currentUser.fullname
            };
            
            // Tambahkan foto ke album
            uploadFiles.forEach((file, index) => {
                newAlbum.photos.push({
                    id: Date.now() + index,
                    url: URL.createObjectURL(file),
                    caption: `Foto ${index + 1} - ${albumName}`,
                    uploadDate: dateStr,
                    uploader: currentUser.fullname
                });
            });
            
            // Tambahkan album ke daftar
            photoAlbums.push(newAlbum);
            
            // Simpan ke localStorage
            localStorage.setItem('kelas7d_albums', JSON.stringify(photoAlbums));
            
            // Reset form
            document.getElementById('album-name').value = '';
            document.getElementById('album-description').value = '';
            uploadFiles = [];
            uploadPreview.innerHTML = '';
            uploadBtn.disabled = true;
            fileInput.value = '';
            
            // Kembali ke tab lihat album
            document.querySelector('[data-tab="view-album"]').click();
            
            // Render ulang album
            renderPhotoAlbums();
            
            showNotification('Album berhasil diupload!');
        }

        // Fungsi untuk menghapus album
        function deleteAlbum(albumId) {
            if (!currentUser || currentUser.role !== 'admin') {
                showNotification('Hanya admin yang dapat menghapus album!', true);
                return;
            }
            
            if (confirm('Apakah Anda yakin ingin menghapus album ini?')) {
                const albumIndex = photoAlbums.findIndex(a => a.id === albumId);
                if (albumIndex !== -1) {
                    photoAlbums.splice(albumIndex, 1);
                    localStorage.setItem('kelas7d_albums', JSON.stringify(photoAlbums));
                    renderPhotoAlbums();
                    renderAlbumManagement();
                    showNotification('Album berhasil dihapus!');
                }
            }
        }

        // Fungsi untuk menghapus album terpilih
        function deleteSelectedAlbums() {
            if (!currentUser || currentUser.role !== 'admin') {
                showNotification('Hanya admin yang dapat menghapus album!', true);
                return;
            }
            
            const selectedAlbums = Array.from(document.querySelectorAll('.album-checkbox:checked'))
                .map(checkbox => parseInt(checkbox.getAttribute('data-id')));
            
            if (selectedAlbums.length === 0) {
                showNotification('Pilih setidaknya satu album untuk dihapus!', true);
                return;
            }
            
            if (confirm(`Apakah Anda yakin ingin menghapus ${selectedAlbums.length} album?`)) {
                photoAlbums = photoAlbums.filter(album => !selectedAlbums.includes(album.id));
                localStorage.setItem('kelas7d_albums', JSON.stringify(photoAlbums));
                renderAlbumManagement();
                renderPhotoAlbums();
                showNotification(`${selectedAlbums.length} album berhasil dihapus!`);
            }
        }

        // Fungsi untuk delete user
        function deleteUser(username) {
            if (!currentUser || currentUser.role !== 'admin') {
                showNotification('Hanya admin yang dapat menghapus user!', true);
                return;
            }
            
            if (confirm(`Apakah Anda yakin ingin menghapus user ${username}?`)) {
                const userIndex = users.findIndex(u => u.username === username);
                if (userIndex !== -1) {
                    users.splice(userIndex, 1);
                    saveUsers();
                    showNotification(`User ${username} telah dihapus!`);
                    renderListAnggota();
                    renderAdminList();
                    renderAnggotaKelas();
                }
            }
        }

        // Fungsi untuk menjadikan user sebagai admin
        function makeAdmin(username) {
            if (!currentUser || currentUser.role !== 'admin') {
                showNotification('Hanya admin yang dapat menjadikan user sebagai admin!', true);
                return;
            }
            
            if (confirm(`Apakah Anda yakin ingin menjadikan ${username} sebagai admin?`)) {
                const userIndex = users.findIndex(u => u.username === username);
                if (userIndex !== -1) {
                    users[userIndex].role = 'admin';
                    saveUsers();
                    showNotification(`User ${username} sekarang menjadi admin!`);
                    renderListAnggota();
                    renderAdminList();
                    renderAnggotaKelas();
                }
            }
        }

        // Fungsi untuk melihat detail user
        function viewUserDetails(username) {
            const user = users.find(u => u.username === username);
            if (user) {
                alert(`Detail Pengguna:\nUsername: ${user.username}\nNama Lengkap: ${user.fullname}\nPassword: ${user.password}\nPeran: ${user.role}\nStatus: ${user.isOnline ? 'Online' : 'Offline'}\nTanggal Bergabung: ${user.joinDate}`);
            }
        }

        // Fungsi untuk reset password user
        function resetPassword(username) {
            if (!currentUser || currentUser.role !== 'admin') {
                showNotification('Hanya admin yang dapat mereset password!', true);
                return;
            }
            
            if (confirm(`Apakah Anda yakin ingin mereset password ${username}?`)) {
                const userIndex = users.findIndex(u => u.username === username);
                if (userIndex !== -1) {
                    users[userIndex].password = 'password123'; // Password default
                    saveUsers();
                    showNotification(`Password ${username} telah direset ke 'password123'`);
                }
            }
        }

        // Fungsi untuk menyimpan data ke localStorage
        function saveUsers() {
            try {
                localStorage.setItem('kelas7d_user', JSON.stringify(users));
            } catch (e) {
                console.error("Error saving users to localStorage:", e);
                showNotification('Error menyimpan data pengguna!', true);
            }
        }

        // Fungsi untuk memuat komentar dari localStorage
        function loadComments() {
            const savedComments = localStorage.getItem('kelas7d_comments');
            if (savedComments) {
                comments = JSON.parse(savedComments);
            }
        }

        // Fungsi untuk menyimpan komentar ke localStorage
        function saveComments() {
            localStorage.setItem('kelas7d_comments', JSON.stringify(comments));
        }

        // Fungsi untuk merender komentar
        function renderComments() {
            const commentList = document.getElementById('comment-list');
            commentList.innerHTML = '';
            
            if (comments.length === 0) {
                commentList.innerHTML = '<p class="no-result">Belum ada komentar</p>';
                return;
            }
            
            comments.forEach(comment => {
                const commentItem = document.createElement('div');
                commentItem.className = 'comment-item';
                commentItem.innerHTML = `
                    <div class="comment-header">
                        <span class="comment-author">${comment.author}</span>
                        <span class="comment-date">${comment.date}</span>
                    </div>
                    <div class="comment-content">${comment.content}</div>
                `;
                commentList.appendChild(commentItem);
            });
        }

        // Fungsi untuk mengirim komentar
        function submitComment() {
            if (!isLoggedIn || !currentUser) {
                showNotification('Anda harus login untuk mengirim komentar!', true);
                return;
            }
            
            const commentText = document.getElementById('comment-text').value;
            
            if (!commentText) {
                showNotification('Komentar tidak boleh kosong!', true);
                return;
            }
            
            const today = new Date();
            const dateStr = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')} ${String(today.getHours()).padStart(2, '0')}:${String(today.getMinutes()).padStart(2, '0')}`;
            
            const newComment = {
                id: Date.now(),
                author: currentUser.fullname,
                content: commentText,
                date: dateStr
            };
            
            comments.unshift(newComment);
            saveComments();
            renderComments();
            
            // Reset form
            document.getElementById('comment-text').value = '';
            
            showNotification('Komentar berhasil dikirim!');
        }

        // Fungsi untuk sistem alarm
        function startAlarmSystem() {
            // Cek setiap menit
            setInterval(checkAlarm, 60000);
        }

        // Fungsi untuk memeriksa alarm
        function checkAlarm() {
            const now = new Date();
            const day = getDayName(now.getDay());
            const currentTime = `${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;
            
            // Cek apakah hari Senin-Sabtu
            if (day !== 'minggu') {
                const todaySchedule = alarmSchedule[day.toLowerCase()];
                
                if (todaySchedule) {
                    todaySchedule.forEach(schedule => {
                        if (schedule.time === currentTime) {
                            showAlarm(schedule.subject);
                        }
                    });
                }
            }
        }

        // Fungsi untuk menampilkan alarm
        function showAlarm(subject) {
            alarmMessage.textContent = `Waktu untuk ${subject} telah tiba!`;
            alarmModal.classList.add('active');
            
            // Play notification sound if available
            playNotificationSound();
            
            // Add notification
            const now = new Date();
            const timeStr = `${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;
            
            notifications.unshift({
                id: Date.now(),
                title: "Pengingat Jadwal",
                message: `Waktu untuk ${subject} telah tiba`,
                time: `${now.toLocaleDateString()} ${timeStr}`,
                read: false
            });
            
            localStorage.setItem('kelas7d_notifications', JSON.stringify(notifications));
            updateNotificationBadge();
            renderNotifications();
        }

        // Fungsi untuk menutup alarm
        function closeAlarm() {
            alarmModal.classList.remove('active');
        }

        // Fungsi untuk memutar suara notifikasi
        function playNotificationSound() {
            // Create a simple notification sound using Web Audio API
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.value = 800;
                oscillator.type = 'sine';
                
                gainNode.gain.setValueAtTime(0, audioContext.currentTime);
                gainNode.gain.linearRampToValueAtTime(0.1, audioContext.currentTime + 0.01);
                gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.5);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.5);
            } catch (e) {
                console.log("Audio tidak didukung di browser ini");
            }
        }

        // Fungsi untuk mendapatkan nama hari
        function getDayName(dayIndex) {
            const days = ['minggu', 'senin', 'selasa', 'rabu', 'kamis', 'jumat', 'sabtu'];
            return days[dayIndex];
        }

        // Inisialisasi
        function init() {
            // Periksa apakah ada login yang diingat
            checkRememberedLogin();
            
            // Coba login otomatis jika ada sesi yang diingat
            checkAutoLogin();
            
            // Sembunyikan hamburger menu saat halaman login
            if (!isLoggedIn && !isGuestMode) {
                hamburger.style.display = 'none';
            }
            
            // Simpan data awal jika belum ada
            if (!localStorage.getItem('kelas7d_user')) {
                saveUsers();
            }
            if (!localStorage.getItem('kelas7d_announcements')) {
                localStorage.setItem('kelas7d_announcements', JSON.stringify(announcements));
            }
            if (!localStorage.getItem('kelas7d_piket')) {
                localStorage.setItem('kelas7d_piket', JSON.stringify(piketSchedule));
            }
            if (!localStorage.getItem('kelas7d_albums')) {
                localStorage.setItem('kelas7d_albums', JSON.stringify(photoAlbums));
            }
            if (!localStorage.getItem('kelas7d_comments')) {
                localStorage.setItem('kelas7d_comments', JSON.stringify(comments));
            }
            
            // Render data awal
            renderAnggotaKelas();
            renderPiketSchedule();
            renderPhotoAlbums();
        }

        // Tutup dropdown menu saat klik di tempat lain
        document.addEventListener('click', function() {
            document.querySelectorAll('.dropdown-menu').forEach(menu => {
                menu.classList.remove('show');
            });
        });

        // Event listener untuk keyboard navigation di modal foto
        document.addEventListener('keydown', function(e) {
            if (photoModal.classList.contains('active')) {
                if (e.key === 'Escape') {
                    closePhotoModal();
                } else if (e.key === 'ArrowLeft') {
                    showPrevPhoto();
                } else if (e.key === 'ArrowRight') {
                    showNextPhoto();
                }
            }
        });

        // Accordion functionality
        document.querySelectorAll('.accordion-header').forEach(header => {
            header.addEventListener('click', function() {
                const accordionItem = this.parentElement;
                const accordionContent = this.nextElementSibling;
                const arrow = this.querySelector('.accordion-arrow');
                
                // Close other accordions
                document.querySelectorAll('.accordion-item').forEach(item => {
                    if (item !== accordionItem) {
                        item.classList.remove('active');
                        item.querySelector('.accordion-content').classList.remove('active');
                    }
                });

                // Toggle current accordion
                accordionItem.classList.toggle('active');
                accordionContent.classList.toggle('active');
            });
        });

        // Jalankan inisialisasi
        init();
    </script>
</body>
</html>            overflow-x: hidden;
            transition: background-color 0.6s, color 0.6s;
        }

        /* Header & Navigation */
        header {
            background: var(--header-gradient);
            color: var(--light-text);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 15px rgba(33, 150, 243, 0.3);
            position: relative;
            z-index: 1000;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo i {
            font-size: 2rem;
        }

        .logo h1 {
            font-size: 1.4rem;
            font-weight: 600;
        }

        .logo p {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .header-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        /* Notification Bell */
        .notification-bell {
            position: relative;
            cursor: pointer;
            color: var(--light-text);
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            transition: background-color 0.3s;
        }
        
        .notification-bell:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: #f44336;
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .notification-panel {
            position: absolute;
            top: 50px;
            right: 0;
            width: 350px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            display: none;
            max-height: 400px;
            overflow-y: auto;
        }

        .notification-panel.active {
            display: block;
            animation: fadeIn 0.3s;
        }

        .notification-header {
            padding: 15px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .notification-header h3 {
            margin: 0;
            font-size: 1.1rem;
        }

        .notification-list {
            list-style: none;
        }

        .notification-item {
            padding: 15px;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .notification-item:hover {
            background-color: #f9f9f9;
        }

        .notification-item.unread {
            background-color: #f0f7ff;
        }

        .notification-title {
            font-weight: 600;
            margin-bottom: 5px;
            color: #333;
        }

        .notification-time {
            font-size: 0.8rem;
            color: #888;
        }

        /* Theme Toggle */
        .theme-toggle {
            background: none;
            border: none;
            color: var(--light-text);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s;
        }

        .theme-toggle:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .hamburger {
            display: none;
            flex-direction: column;
            justify-content: space-around;
            width: 30px;
            height: 25px;
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
            z-index: 10;
        }

        .hamburger-line {
            width: 30px;
            height: 3px;
            background-color: var(--light-text);
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .hamburger.active .hamburger-line:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .hamburger.active .hamburger-line:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active .hamburger-line:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }

        /* Sidebar Navigation */
        .sidebar {
            position: fixed;
            top: 0;
            right: -300px;
            width: 300px;
            height: 100vh;
            background: var(--header-gradient);
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.2);
            transition: right 0.4s ease;
            z-index: 999;
            padding: 80px 20px 20px;
            overflow-y: auto;
        }

        .sidebar.active {
            right: 0;
        }
        
        .sidebar-nav {
            list-style: none;
        }

        .sidebar-nav li {
            margin-bottom: 15px;
            opacity: 0;
            transform: translateX(50px);
            transition: all 0.4s ease;
        }

        .sidebar.active .sidebar-nav li {
            opacity: 1;
            transform: translateX(0);
        }

        /* Accordion Menu Styles */
        .accordion-menu {
            list-style: none;
            padding: 0;
        }

        .accordion-item {
            margin-bottom: 10px;
            border-radius: 8px;
            overflow: hidden;
            background-color: rgba(255, 255, 255, 0.1);
            margin-bottom: 15px;
            opacity: 0;
            transform: translateX(50px);
            transition: all 0.4s ease;
        }

        .sidebar.active .accordion-item {
            opacity: 1;
            transform: translateX(0);
        }

        .accordion-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 15px;
            cursor: pointer;
            color: var(--light-text);
            transition: background-color 0.3s;
            font-size: 1.1rem;
        }

        .accordion-header:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .accordion-header i {
            margin-right: 10px;
            width: 25px;
            text-align: center;
        }

        .accordion-arrow {
            transition: transform 0.3s ease;
            font-size: 0.8rem;
        }

        .accordion-item.active .accordion-arrow {
            transform: rotate(180deg);
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            background-color: rgba(255, 255, 255, 0.05);
        }

        .accordion-content.active {
            max-height: 300px;
        }

        .sub-menu {
            list-style: none;
            padding: 0;
        }

        .sub-menu li {
            padding: 10px 15px 10px 50px;
            cursor: pointer;
            color: var(--light-text);
            transition: background-color 0.3s;
            font-size: 0.95rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .sub-menu li:last-child {
            border-bottom: none;
        }

        .sub-menu li:hover {
            background-color: rgba(255, 255, 255, 0.15);
            transform: translateX(5px);
        }

        /* Main Content */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .page {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Login Form */
        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 80vh;
        }

        .login-form {
            background-color: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 400px;
            text-align: center;
        }

        .login-form h2 {
            margin-bottom: 20px;
            color: var(--primary-color);
            font-weight: 600;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-color);
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
            font-family: 'Poppins', sans-serif;
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .btn {
            background: var(--header-gradient);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(33, 150, 243, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(33, 150, 243, 0.4);
        }

        .btn-admin {
            background: linear-gradient(135deg, #ff7043 0%, #f4511e 100%);
            box-shadow: 0 4px 8px rgba(244, 81, 30, 0.3);
        }

        .btn-admin:hover {
            box-shadow: 0 6px 12px rgba(244, 81, 30, 0.4);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success-color) 0%, #2e7d32 100%);
            box-shadow: 0 4px 8px rgba(76, 175, 80, 0.3);
        }

        .btn-success:hover {
            box-shadow: 0 6px 12px rgba(76, 175, 80, 0.4);
        }

        .btn-warning {
            background: linear-gradient(135deg, var(--warning-color) 0%, #f57c00 100%);
            box-shadow: 0 4px 8px rgba(255, 152, 0, 0.3);
        }

        .btn-warning:hover {
            box-shadow: 0 6px 12px rgba(255, 152, 0, 0.4);
        }

        .btn-danger {
            background: linear-gradient(135deg, var(--danger-color) 0%, #d32f2f 100%);
            box-shadow: 0 4px 8px rgba(244, 67, 54, 0.3);
        }

        .btn-danger:hover {
            box-shadow: 0 6px 12px rgba(244, 67, 54, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
            box-shadow: 0 4px 8px rgba(108, 117, 125, 0.3);
        }

        .btn-secondary:hover {
            box-shadow: 0 6px 12px rgba(108, 117, 125, 0.4);
        }

        /* Cards */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .card {
            background-color: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s;
            height: 280px;
            display: flex;
            flex-direction: column;
            cursor: pointer;
            margin-bottom: 30px;
            transition: background-color 0.6s, box-shadow 0.6s;
        }

        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
        }

        .card-img {
            height: 180px;
            background-color: var(--accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .card-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .card-img i {
            font-size: 3.5rem;
            color: var(--primary-color);
            z-index: 1;
        }

        .card-content {
            padding: 15px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .card h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-weight: 600;
        }

        .card h3 {
            margin-bottom: 8px;
            color: var(--primary-color);
            font-weight: 600;
            font-size: 1rem;
        }

        .card p {
            color: #666;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        /* Search Container */
        .search-container {
            position: relative;
            margin: 20px 0;
            max-width: 500px;
        }

        .search-input {
            width: 100%;
            padding: 12px 15px 12px 45px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .search-input:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .search-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #888;
        }

        /* Dark Mode Styles */
        .dark-mode .search-input {
            background-color: #3d3d3d;
            border-color: #555;
            color: #ffffff;
        }

        .dark-mode .search-input::placeholder {
            color: #bbbbbb;
        }

        .dark-mode .search-input:focus {
            background-color: #4a4a4a;
            border-color: var(--primary-color);
            color: #ffffff;
        }

        .dark-mode .search-icon {
            color: #bbbbbb;
        }

        /* User Info Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .user-modal {
            background-color: white;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            overflow: hidden;
            transform: translateY(50px) scale(0.9);
            opacity: 0;
            transition: all 0.4s ease;
        }

        .modal-overlay.active .user-modal {
            transform: translateY(0) scale(1);
            opacity: 1;
        }

        .modal-header {
            background: var(--header-gradient);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .modal-body {
            padding: 20px;
        }

        .user-info {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .user-photo {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            overflow: hidden;
            border: 4px solid var(--accent-color);
            background-color: var(--accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .user-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .user-details {
            text-align: center;
        }

        .user-details h2 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .user-details p {
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .detail-label {
            font-weight: 600;
            color: var(--text-color);
        }

        /* Admin Features */
        .admin-panel {
            background-color: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            margin-bottom: 30px;
        }

        .admin-panel h2 {
            color: var(--admin-color);
            margin-bottom: 20px;
            font-weight: 600;
            padding-bottom: 10px;
            border-bottom: 2px solid #f5f5f5;
        }

        /* Table Styles */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }

        th {
            background-color: var(--primary-color);
            color: white;
            font-weight: 500;
        }

        tr:last-child td {
            border-bottom: none;
        }

        tr:hover {
            background-color: #f9f9f9;
        }

        .action-menu {
            position: relative;
            display: inline-block;
        }

        .action-btn {
            background: none;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            color: var(--text-color);
            padding: 5px;
        }

        .dropdown-menu {
            display: none;
            position: absolute;
            right: 0;
            top: 100%;
            background-color: white;
            min-width: 180px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            z-index: 1;
            overflow: hidden;
        }

        .dropdown-menu.show {
            display: block;
            animation: fadeIn 0.3s;
        }

        .dropdown-menu button {
            width: 100%;
            text-align: left;
            padding: 12px 15px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background-color 0.2s;
        }

        .dropdown-menu button:hover {
            background-color: #f5f5f5;
        }

        /* Announcements */
        .announcement {
            background-color: white;
            border-left: 5px solid var(--primary-color);
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s;
        }
        
        .dark-mode .announcement {
            background-color: #3d3d3d;
        }

        .announcement:hover {
            transform: translateX(5px);
        }

        .announcement h3 {
            color: var(--primary-color);
            margin-bottom: 10px;
            font-weight: 600;
        }

        .announcement-meta {
            font-size: 0.85rem;
            color: #888;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .announcement-meta i {
            font-size: 1rem;
        }

        /* Schedule */
        .schedule-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .schedule-day {
            background-color: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s;
        }

        .schedule-day:hover {
            transform: translateY(-5px);
        }

        .schedule-day h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--accent-color);
            font-weight: 600;
        }

        .schedule-item {
            padding: 10px 0;
            border-bottom: 1px dashed #e0e0e0;
            display: flex;
            justify-content: space-between;
        }

        .schedule-item:last-child {
            border-bottom: none;
        }

        .schedule-time {
            font-weight: 500;
            color: var(--secondary-color);
            min-width: 100px;
        }

        /* Floating notification */
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 15px 25px;
            background-color: #4caf50;
            color: white;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.5s;
        }

        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }

        .notification.error {
            background-color: #f44336;
        }

        /* Album Foto Styles */
        .album-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .album-card {
            background-color: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .dark-mode .album-card {
            background-color: #3d3d3d;
        }

        .album-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
        }

        .album-thumbnail {
            height: 180px;
            overflow: hidden;
            position: relative;
        }

        .album-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }

        .album-card:hover .album-thumbnail img {
            transform: scale(1.05);
        }

        .album-info {
            padding: 15px;
        }

        .album-title {
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .album-meta {
            display: flex;
            justify-content: space-between;
            color: #888;
            font-size: 0.85rem;
        }

        /* Photo Modal */
        .photo-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .photo-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .photo-modal-content {
            max-width: 90%;
            max-height: 90%;
            position: relative;
        }

        .photo-modal-content img {
            max-width: 100%;
            max-height: 90vh;
            border-radius: 8px;
        }

        .photo-modal-close {
            position: absolute;
            top: -40px;
            right: 0;
            color: white;
            font-size: 2rem;
            cursor: pointer;
        }

        .photo-modal-nav {
            position: absolute;
            top: 50%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            transform: translateY(-50%);
            padding: 0 20px;
        }

        .photo-modal-nav button {
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .photo-modal-nav button:hover {
            background-color: rgba(255, 255, 255, 0.4);
        }

        .photo-info {
            color: white;
            text-align: center;
            margin-top: 15px;
        }

        /* Jadwal Piket */
        .piket-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .piket-day {
            background-color: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }

        .piket-day h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--accent-color);
            font-weight: 600;
        }

        .piket-list {
            list-style: none;
        }

        .piket-list li {
            padding: 10px 0;
            border-bottom: 1px dashed #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .piket-list li:last-child {
            border-bottom: none;
        }

        .piket-status {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .piket-status.completed {
            background-color: var(--success-color);
        }

        .piket-status.pending {
            background-color: var(--warning-color);
        }

        .piket-status.missed {
            background-color: var(--danger-color);
        }

        /* Upload Form */
        .upload-form {
            background-color: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            margin-bottom: 30px;
        }
        
        .dark-mode .upload-form {
            background-color: #3d3d3d;
        }

        .upload-area {
            border: 2px dashed #ccc;
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            margin-bottom: 20px;
            cursor: pointer;
            transition: border-color 0.3s;
        }

        .upload-area:hover {
            border-color: var(--primary-color);
        }

        .upload-area i {
            font-size: 3rem;
            color: #ccc;
            margin-bottom: 15px;
        }

        .upload-area p {
            color: #888;
        }

        .upload-preview {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .preview-item {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            height: 150px;
        }

        .preview-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .preview-remove {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: rgba(255, 255, 255, 0.8);
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            cursor: pointer;
            color: var(--danger-color);
        }

        /* Tabs */
        .tabs {
            display: flex;
            border-bottom: 2px solid #e0e0e0;
            margin-bottom: 20px;
        }

        .tab {
            padding: 12px 20px;
            cursor: pointer;
            font-weight: 500;
            color: #888;
            border-bottom: 2px solid transparent;
            transition: all 0.3s;
        }

        .tab.active {
            color: var(--primary-color);
            border-bottom: 2px solid var(--primary-color);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Logout button in Kelola Akun */
        .logout-btn-container {
            margin-top: 20px;
            text-align: center;
        }

        .logout-btn {
            background: linear-gradient(135deg, #ff7043 0%, #f4511e 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(244, 81, 30, 0.3);
        }

        .logout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(244, 81, 30, 0.4);
        }

        /* Tambahan style untuk checkbox remember me */
        .remember-me {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .remember-me input {
            margin-right: 10px;
            width: auto;
        }

        /* Tugas & Kegiatan Styles */
        .tugas-container, .kegiatan-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .tugas-card, .kegiatan-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s;
        }

        .tugas-card:hover, .kegiatan-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }

        .tugas-header, .kegiatan-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--accent-color);
        }

        .tugas-title, .kegiatan-title {
            color: var(--primary-color);
            font-weight: 600;
            font-size: 1.2rem;
        }

        .tugas-date, .kegiatan-date {
            color: #888;
            font-size: 0.9rem;
        }

        .tugas-mapel, .kegiatan-lokasi {
            background: var(--accent-color);
            color: var(--primary-color);
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            margin-bottom: 10px;
            display: inline-block;
        }

        .tugas-deskripsi, .kegiatan-deskripsi {
            color: var(--text-color);
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .tugas-status {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .status-belum {
            background: #fff3cd;
            color: #856404;
        }

        .status-selesai {
            background: #d1edff;
            color: #0c5460;
        }

        .status-terlambat {
            background: #f8d7da;
            color: #721c24;
        }

        /* Guest Mode Styles */
        .guest-login-container {
            margin-top: 20px;
            text-align: center;
        }

        .guest-info {
            background-color: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
        }

        .guest-info h3 {
            color: #2e7d32;
            margin-bottom: 10px;
        }

        .guest-info ul {
            text-align: left;
            margin-left: 20px;
        }

        .guest-info li {
            margin-bottom: 5px;
        }

        /* Comment Styles */
        .comment-section {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
        }

        .comment-form {
            background-color: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            margin-bottom: 20px;
        }

        .comment-form h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .comment-list {
            background-color: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }

        .comment-item {
            padding: 15px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .comment-item:last-child {
            border-bottom: none;
        }

        .comment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .comment-author {
            font-weight: 600;
            color: var(--primary-color);
        }

        .comment-date {
            font-size: 0.8rem;
            color: #888;
        }

        .comment-content {
            color: var(--text-color);
            line-height: 1.5;
        }

        .comment-warning {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 10px 15px;
            margin-bottom: 15px;
            font-size: 0.9rem;
            color: #856404;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .card-grid, .album-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
            
            .logo h1 {
                font-size: 1.2rem;
            }
            
            header {
                padding: 1rem;
            }
            
            .container {
                padding: 15px;
            }
            
            .schedule-grid, .piket-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .card-grid, .album-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .sidebar {
                width: 250px;
            }
            
            .upload-preview {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Animation for cards */
        @keyframes cardAppear {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-card {
            animation: cardAppear 0.5s ease forwards;
        }

        /* Online status indicator */
        .online-status {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: #4caf50;
            margin-right: 5px;
        }

        .online-status.offline {
            background-color: #f44336;
        }

        /* Hide sidebar on login page */
        body.login-page .hamburger {
            display: none;
        }

        /* Admin feature cards */
        .admin-feature-card {
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .admin-feature-card:hover {
            transform: translateY(-5px);
        }

        /* Dark Mode Styles */
        body.dark-mode {
            background-color: #1a1a1a;
            color: #e0e0e0;
        }

        .dark-mode header {
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.5);
        }

        .dark-mode .card, 
        .dark-mode .tugas-card, 
        .dark-mode .kegiatan-card,
        .dark-mode .schedule-day,
        .dark-mode .piket-day,
        .dark-mode .album-item,
        .dark-mode .admin-panel,
        .dark-mode .login-form {
            background-color: #2d2d2d;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            color: #e0e0e0;
        }

        .dark-mode .card h3,
        .dark-mode .tugas-title,
        .dark-mode .kegiatan-title,
        .dark-mode .schedule-day h3,
        .dark-mode .piket-day h3,
        .dark-mode .album-title {
            color: var(--secondary-color);
        }

        .dark-mode .card p,
        .dark-mode .tugas-deskripsi,
        .dark-mode .kegiatan-deskripsi {
            color: #b0b0b0;
        }

        .dark-mode .search-input,
        .dark-mode .form-group input,
        .dark-mode .form-group select,
        .dark-mode .form-group textarea {
            background-color: var(--dark-input);
            color: #e0e0e0;
            border-color: #555;
        }

        .dark-mode .search-input::placeholder,
        .dark-mode .form-group input::placeholder {
            color: #999;
        }

        .dark-mode .notification-panel {
            background-color: #2d2d2d;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
        }

        .dark-mode .notification-header {
            border-bottom: 1px solid #444;
        }

        .dark-mode .notification-item {
            border-bottom: 1px solid #444;
        }

        .dark-mode .notification-item:hover {
            background-color: #3d3d3d;
        }

        .dark-mode .notification-item.unread {
            background-color: #2a4365;
        }

        .dark-mode .notification-title {
            color: #e0e0e0;
        }

        .dark-mode .notification-time {
            color: #aaa;
        }

        /* Animation */
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .slide-down {
            animation: slideDown 0.3s ease-out;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="logo">
            <i class="fas fa-school"></i>
            <div>
                <h1>SMPN 2 Banjarnegara</h1>
                <p>Kelas 7D - Portal Resmi</p>
            </div>
        </div>
        
        <div class="header-controls">
            <div class="notification-bell" id="notification-bell">
                <i class="fas fa-bell"></i>
                <span class="notification-badge" id="notification-count">0</span>
                <div class="notification-panel" id="notification-panel">
                    <div class="notification-header">
                        <h3>Notifikasi</h3>
                        <button class="btn btn-sm" id="mark-all-read">Tandai Sudah Dibaca</button>
                    </div>
                    <ul class="notification-list" id="notification-list">
                        <!-- Notifications will be populated by JavaScript -->
                    </ul>
                </div>
            </div>
            
            <button class="hamburger" id="hamburger-btn">
                <div class="hamburger-line"></div>
                <div class="hamburger-line"></div>
                <div class="hamburger-line"></div>
            </button>
        </div>
    </header>

    <!-- Sidebar Navigation dengan Accordion -->
    <nav class="sidebar">
        <ul class="accordion-menu" id="sidebar-menu">
            <li class="accordion-item">
                <div class="accordion-header" data-menu="anggota">
                    <span><i class="fas fa-users"></i> Anggota Kelas</span>
                    <i class="fas fa-chevron-down accordion-arrow"></i>
                </div>
                <div class="accordion-content">
                    <ul class="sub-menu">
                        <li onclick="showPage('anggota-kelas')">Daftar Anggota</li>
                        <li onclick="showPage('organisasi-kelas')">Struktur Organisasi</li>
                    </ul>
                </div>
            </li>

            <li class="accordion-item">
                <div class="accordion-header" data-menu="jadwal">
                    <span><i class="fas fa-calendar-alt"></i> Jadwal</span>
                    <i class="fas fa-chevron-down accordion-arrow"></i>
                </div>
                <div class="accordion-content">
                    <ul class="sub-menu">
                        <li onclick="showPage('jadwal-pelajaran')">Jadwal Pelajaran</li>
                        <li onclick="showPage('jadwal-piket')">Jadwal Piket</li>
                    </ul>
                </div>
            </li>

            <li class="accordion-item">
                <div class="accordion-header" data-menu="media">
                    <span><i class="fas fa-images"></i> Media</span>
                    <i class="fas fa-chevron-down accordion-arrow"></i>
                </div>
                <div class="accordion-content">
                    <ul class="sub-menu">
                        <li onclick="showPage('album-foto')">Album Foto</li>
                    </ul>
                </div>
            </li>

            <li class="accordion-item">
                <div class="accordion-header" data-menu="info">
                    <span><i class="fas fa-info-circle"></i> Informasi</span>
                    <i class="fas fa-chevron-down accordion-arrow"></i>
                </div>
                <div class="accordion-content">
                    <ul class="sub-menu">
                        <li onclick="showPage('pengumuman')">Pengumuman</li>
                        <li onclick="showPage('tugas')">Tugas</li>
                        <li onclick="showPage('kegiatan')">Kegiatan</li>
                    </ul>
                </div>
            </li>

            <li class="accordion-item">
                <div class="accordion-header" data-menu="akun">
                    <span><i class="fas fa-user-cog"></i> Akun</span>
                    <i class="fas fa-chevron-down accordion-arrow"></i>
                </div>
                <div class="accordion-content">
                    <ul class="sub-menu">
                        <li onclick="showPage('kelola-akun')">Kelola Akun</li>
                    </ul>
                </div>
            </li>

            <li class="accordion-item admin-menu" style="display: none;">
                <div class="accordion-header" data-menu="admin">
                    <span><i class="fas fa-crown"></i> Admin</span>
                    <i class="fas fa-chevron-down accordion-arrow"></i>
                </div>
                <div class="accordion-content">
                    <ul class="sub-menu">
                        <li onclick="showPage('admin-feature')">Dashboard Admin</li>
                        <li onclick="showPage('list-admin')">List Admin</li>
                        <li onclick="showPage('tambah-akun')">Tambah Akun</li>
                        <li onclick="showPage('list-anggota')">List Anggota</li>
                        <li onclick="showPage('kelola-piket')">Kelola Piket</li>
                        <li onclick="showPage('kelola-album')">Kelola Album</li>
                    </ul>
                </div>
            </li>
        </ul>
        <button class="theme-toggle" id="theme-toggle">
                <i class="fas fa-moon"></i>
            </button>
    </nav>

    <!-- Main Content -->
    <main class="container">
        <!-- Login Page -->
        <section id="login-page" class="page active">
            <div class="login-container">
                <div class="login-form">
                    <h2>Login ke Portal Kelas 7D</h2>
                    <div class="form-group">
                        <label for="username">Username/Nama Lengkap</label>
                        <input type="text" id="username" placeholder="Masukkan username atau nama lengkap">
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" placeholder="Masukkan password">
                    </div>
                    <div class="remember-me">
                        <input type="checkbox" id="remember-me">
                        <label for="remember-me">Ingat Saya</label>
                    </div>
                    <button class="btn" id="login-btn">Login</button>
                    
                    <!-- Tombol Guest Mode -->
                    <div class="guest-login-container">
                        <button class="btn btn-secondary" id="guest-login-btn">
                            <i class="fas fa-eye"></i> Masuk Sebagai Pengunjung
                        </button>
                        <p style="margin-top: 10px; font-size: 0.9rem; color: #666;">
                            Mode pengunjung memungkinkan Anda melihat informasi tanpa login
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Anggota Kelas Page -->
        <section id="anggota-kelas" class="page">
            <h2>Anggota Kelas 7D</h2>
            <div class="search-container">
                <input type="text" id="search-input" class="search-input" placeholder="Cari anggota kelas...">
                <i class="fas fa-search search-icon"></i>
            </div>
            <div class="card-grid" id="anggota-container">
                <!-- Card anggota akan diisi oleh JavaScript -->
            </div>
        </section>

        <!-- Organisasi Kelas Page -->
        <section id="organisasi-kelas" class="page">
            <h2>Struktur Organisasi Kelas 7D</h2>
            <div class="card-grid">
                <div class="card">
                    <div class="card-img">
                        <i class="fas fa-user-tie"></i>
                    </div>
                    <div class="card-content">
                        <h3>Ketua Kelas</h3>
                        <p>Nama: Harist Abdul Hakim</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-img">
                        <i class="fas fa-user-tie"></i>
                    </div>
                    <div class="card-content">
                        <h3>Wakil Ketua</h3>
                        <p>Nama: Ghatfaan Fayaadh Aufaa</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-img">
                        <i class="fas fa-chalkboard-teacher"></i>
                    </div>
                    <div class="card-content">
                        <h3>Wali Kelas</h3>
                        <p>Nama: SRI LESTRAI, S.Pd</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-img">
                        <i class="fas fa-clipboard-list"></i>
                    </div>
                    <div class="card-content">
                        <h3>Sekretaris 1</h3>
                        <p>Nama: Erfira Anggraeni</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-img">
                        <i class="fas fa-clipboard-list"></i>
                    </div>
                    <div class="card-content">
                        <h3>Sekretaris 2</h3>
                        <p>Nama: Keisha Novelis Nafeeza Zaafarani</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-img">
                        <i class="fas fa-money-bill-wave"></i>
                    </div>
                    <div class="card-content">
                        <h3>Bendahara 1</h3>
                        <p>Nama: Amalia Rezki Azizi</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-img">
                        <i class="fas fa-money-bill-wave"></i>
                    </div>
                    <div class="card-content">
                        <h3>Bendahara 2</h3>
                        <p>Nama: Azelia Nur Azzahra</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-img">
                        <i class="fas fa-broom"></i>
                    </div>
                    <div class="card-content">
                        <h3>Seksi Kebersihan</h3>
                        <p>• Dwika Hadi Wijaya</p>
                        <p>• Kirana Kamalia Ayu Wardiningrum</p>
                        <p>• Reina Al Yasmin</p>
                        <p>• Alifah Adeliza</p>
                        <p>• Rajendra Veron Alerea</p>
                        <p>• Azzam Amanullah</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-img">
                        <i class="fas fa-book"></i>
                    </div>
                    <div class="card-content">
                        <h3>Literasi</h3>
                        <p>Nama: Mutia Almas Fatimatuzzahra</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-img">
                        <i class="fas fa-mosque"></i>
                    </div>
                    <div class="card-content">
                        <h3>Seksi Keagamaan</h3>
                        <p>Nama: Riyan Ade Saputra</p>
                        <p>Denessia Fahia Mahya</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-img">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <div class="card-content">
                        <h3>Seksi Keamanan</h3>
                        <p>Farzan Arza Argani</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- JADWAL PELAJARAN KELAS 7D -->
        <section id="jadwal-pelajaran" class="page">
            <h2>Jadwal Pelajaran Kelas 7D</h2>

            <div class="schedule-grid">
                <!-- ==========  SENIN  ========== -->
                <div class="schedule-day">
                    <h3><i class="fas fa-calendar-day"></i> Senin</h3>

                    <!-- UPACARA (sampai 08.35) -->
                    <div class="schedule-item upacara">
                        <span class="schedule-time">07.00 – 08.35</span>
                        <span class="schedule-subject">Upacara Bendera</span>
                    </div>

                    <!-- 08.35 – 09.15 = JAM KE-3 -->
                    <div class="schedule-item">
                        <span class="schedule-time">08.35 – 09.15</span>
                        <span class="schedule-subject">Penjaskes</span>
                    </div>

                    <!-- ISTIRAHAT 1 -->
                    <div class="schedule-item istirahat">
                        <span class="schedule-time">09.15 – 09.45</span>
                        <span class="schedule-subject">Istirahat I</span>
                    </div>

                    <!-- 09.30 – 10.10 = JAM KE-4 -->
                    <div class="schedule-item">
                        <span class="schedule-time">09.45 – 10.25</span>
                        <span class="schedule-subject">Penjaskes</span>
                    </div>

                    <!-- 10.10 – 10.50 = JAM KE-5 -->
                    <div class="schedule-item">
                        <span class="schedule-time">10.25 – 11.05</span>
                        <span class="schedule-subject">IPA</span>
                    </div>

                    <!-- 11.30 – 12.10 = JAM KE-6 -->
                    <div class="schedule-item">
                        <span class="schedule-time">11.05 – 11.45</span>
                        <span class="schedule-subject">IPA</span>
                    </div>
                    
                    <!-- ISTIRAHAT / SHALAT -->
                    <div class="schedule-item istirahat">
                        <span class="schedule-time">11.50 – 12.30</span>
                        <span class="schedule-subject">Istirahat / Sholat Dzuhur</span>
                    </div>

                    <!-- 12.10 – 12.50 = JAM KE-7 -->
                    <div class="schedule-item">
                        <span class="schedule-time">12.30 – 13.10</span>
                        <span class="schedule-subject">Bahasa Inggis</span>
                    </div>

                    <!-- 12.50 – 13.00 = KOMBEL / PULANG -->
                    <div class="schedule-item kombel">
                        <span class="schedule-time">13.10 – 13.50</span>
                        <span class="schedule-subject">Pulang</span>
                    </div>
                </div>

                <!-- ==========  SELASA  ========== -->
                <div class="schedule-day">
                    <h3><i class="fas fa-calendar-day"></i> Selasa</h3>

                    <div class="schedule-item upacara">
                        <span class="schedule-time">07.00 – 07.15</span>
                        <span class="schedule-subject">Tadarus</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">07.15 – 07.55</span>
                        <span class="schedule-subject">Matematika</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">07.55 – 08.35</span>
                        <span class="schedule-subject">Seni Budaya</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">08.35 – 09.15</span>
                        <span class="schedule-subject">Seni Budaya</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">09.15 – 09.55</span>
                        <span class="schedule-subject">Bahasa Jawa</span>
                    </div>
                    
                    <div class="schedule-item istirahat">
                        <span class="schedule-time">09.55 – 10.25</span>
                        <span class="schedule-subject">Istirahat I</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">10.25 – 11.05</span>
                        <span class="schedule-subject">Bahasa Jawa</span>
                    </div>

                    <div class="schedule-item istirahat">
                        <span class="schedule-time">11.05 – 11.45</span>
                        <span class="schedule-subject">Bahasa Indonesia</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">11.45 – 12.25</span>
                        <span class="schedule-subject">Istirahat / Sholat Dzuhur</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">12.25 – 13.05</span>
                        <span class="schedule-subject">Bahasa Indonesia</span>
                    </div>

                    <div class="schedule-item kombel">
                        <span class="schedule-time">13.05 – 13.45</span>
                        <span class="schedule-subject">Pulang</span>
                    </div>
                </div>

                <!-- ==========  RABU  ========== -->
                <div class="schedule-day">
                    <h3><i class="fas fa-calendar-day"></i> Rabu</h3>

                    <div class="schedule-item upacara">
                        <span class="schedule-time">07.00 – 07.15</span>
                        <span class="schedule-subject">Tadarus</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">07.15 – 07.55</span>
                        <span class="schedule-subject">IPS</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">07.55 – 08.35</span>
                        <span class="schedule-subject">IPS</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">08.35 – 09.15</span>
                        <span class="schedule-subject">Matematika</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">09.15 – 09.55</span>
                        <span class="schedule-subject">Matematika</span>
                    </div>

                    <div class="schedule-item istirahat">
                        <span class="schedule-time">09.55 – 10.25</span>
                        <span class="schedule-subject">Istirahat I</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">10.25 – 11.05</span>
                        <span class="schedule-subject">Bahasa Indonesia</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">11.05 – 11.45</span>
                        <span class="schedule-subject">PHBS</span>
                    </div>

                    <div class="schedule-item istirahat">
                        <span class="schedule-time">11.45 – 12.40</span>
                        <span class="schedule-subject">Istirahat / Sholat Dzuhur</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">12.40 – 13.20</span>
                        <span class="schedule-subject">PHBS</span>
                    </div>
                </div>

                    <div class="schedule-item kombel">
                        <span class="schedule-time">13.20</span>
                        <span class="schedule-subject">Pulang</span>
                    </div>
                </div>
                <!-- ==========  KAMIS  ========== -->
                <div class="schedule-day">
                    <h3><i class="fas fa-calendar-day"></i> Kamis</h3>

                    <div class="schedule-item upacara">
                        <span class="schedule-time">07.00 – 07.15</span>
                        <span class="schedule-subject">Dear (Membaca)</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">07.15 – 07.55</span>
                        <span class="schedule-subject">PAIBP</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">07.55 – 08.35</span>
                        <span class="schedule-subject">Bahasa Inggris</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">08.35 – 09.15</span>
                        <span class="schedule-subject">IPA</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">09.15 – 09.55</span>
                        <span class="schedule-subject">IPA</span>
                    </div>

                    <div class="schedule-item istirahat">
                        <span class="schedule-time">09.55 – 10.25</span>
                        <span class="schedule-subject">ISTIRAHAT I</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">10.25 – 11.05</span>
                        <span class="schedule-subject">Bahasa Indonesia</span>
                    </div>

                    <div class="schedule-item istirahat">
                        <span class="schedule-time">11.05 – 11.45</span>
                        <span class="schedule-subject">Bahasa Indonesia</span>
                    </div>

                    <div class="schedule-item istirahat">
                        <span class="schedule-time">11.45 – 12.25</span>
                        <span class="schedule-subject">Istirahat / Sholat Dzuhur</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">12.25 – 13.05</span>
                        <span class="schedule-subject">Matematika</span>
                    </div>

                    <div class="schedule-item kombel">
                        <span class="schedule-time">13.05 – 13.45</span>
                        <span class="schedule-subject">Pulang</span>
                    </div>
                </div>

                <!-- ==========  JUMAT  ========== -->
                <div class="schedule-day">
                    <h3><i class="fas fa-calendar-day"></i> Jumat</h3>

                    <div class="schedule-item upacara">
                        <span class="schedule-time">07.00 – 08:20</span>
                        <span class="schedule-subject">Jumpa Pakar</span>
                    </div>

                    <div class="schedule-item istirahat">
                        <span class="schedule-time">08.20 – 09.15</span>
                        <span class="schedule-subject">Istirahat</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">09.15 – 09.55</span>
                        <span class="schedule-subject">Bahasa Indonesia</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">09.55 – 10.35</span>
                        <span class="schedule-subject>Pendidikan Pancasila</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">10.35 – 11.15</span>
                        <span class="schedule-subject">Pendidikan Pancasila</span>
                    </div>

                    <div class="schedule-item kombel">
                        <span class="schedule-time">11.15 – 12.30</span>
                        <span class="schedule-subject">Sholat Jum'at & Pulang</span>         
                    </div>
                </div>

                <!-- ==========  SABTU  ========== -->
                <div class="schedule-day">
                    <h3><i class="fas fa-calendar-day"></i> Sabtu</h3>

                    <div class="schedule-item upacara">
                        <span class="schedule-time">07.00 – 07.15</span>
                        <span class="schedule-subject">Asmaul Husna</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">07.15 – 08.35</span>
                        <span class="schedule-subject">Konservasi</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">08.35 – 09.15</span>
                        <span class="schedule-subject">Matematika</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">09.15 – 09.55</span>
                        <span class="schedule-subject">Matematika</span>
                    </div>

                    <div class="schedule-item istirahat">
                        <span class="schedule-time">09.55 – 10.25</span>
                        <span class="schedule-subject">Istirahat I</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">10.25 – 11.05</span>
                        <span class="schedule-subject">Bahasa Jawa</span>
                    </div>

                    <div class="schedule-item istirahat">
                        <span class="schedule-time">11.05 – 11.45</span>
                        <span class="schedule-subject">Bahasa Jawa</span>
                    </div>

                    <div class="schedule-item istirahat">
                        <span class="schedule-time">11.45 – 13.00</span>
                        <span class="schedule-subject">Istirahat / Sholat Dzuhur</span>
                    </div>
                    
                    <div class="schedule-item kombel">
                        <span class="schedule-time">11.15 – 12.30</span>
                        <span class="schedule-subject">Pulang</span>         
                    </div>
                </div>
            </div>
        </section>

        <!-- Jadwal Piket Page -->
        <section id="jadwal-piket" class="page">
            <h2>Jadwal Piket Kelas 7D</h2>
            <div class="piket-grid" id="piket-container">
                <!-- Jadwal piket akan diisi oleh JavaScript -->
            </div>
            
            <!-- Form untuk admin mengelola jadwal piket -->
            <div id="manage-piket-form" style="display: none; margin-top: 30px;">
                <h3>Kelola Jadwal Piket</h3>
                <div class="form-group">
                    <label for="piket-day">Hari</label>
                    <select id="piket-day">
                        <option value="senin">Senin</option>
                        <option value="selasa">Selasa</option>
                        <option value="rabu">Rabu</option>
                        <option value="kamis">Kamis</option>
                        <option value="jumat">Jumat</option>
                        <option value="sabtu">Sabtu</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="piket-students">Siswa yang Bertugas (pisahkan dengan koma)</label>
                    <textarea id="piket-students" rows="3" placeholder="Masukkan nama siswa yang bertugas"></textarea>
                </div>
                <button class="btn btn-success" id="save-piket">Simpan Jadwal Piket</button>
            </div>
        </section>

        <!-- Album Foto Page -->
        <section id="album-foto" class="page">
            <h2>Album Foto Kelas 7D</h2>
            
            <div class="tabs">
                <div class="tab active" data-tab="view-album">Lihat Album</div>
                <div class="tab" data-tab="upload-photo" id="upload-tab" style="display: none;">Upload Foto</div>
            </div>
            
            <div class="tab-content active" id="view-album">
                <div class="search-container">
                    <input type="text" id="album-search" class="search-input" placeholder="Cari album...">
                    <i class="fas fa-search search-icon"></i>
                </div>
                
                <div class="album-grid" id="album-container">
                    <!-- Album akan diisi oleh JavaScript -->
                </div>
            </div>
            
            <div class="tab-content" id="upload-photo">
                <div class="upload-form">
                    <h3>Upload Foto Baru</h3>
                    <div class="form-group">
                        <label for="album-name">Nama Album</label>
                        <input type="text" id="album-name" placeholder="Masukkan nama album">
                    </div>
                    <div class="form-group">
                        <label for="album-description">Deskripsi Album</label>
                        <textarea id="album-description" rows="3" placeholder="Masukkan deskripsi album"></textarea>
                    </div>
                    
                    <div class="upload-area" id="upload-area">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Klik atau seret file ke sini untuk upload</p>
                        <input type="file" id="file-input" multiple accept="image/*" style="display: none;">
                    </div>
                    
                    <div class="upload-preview" id="upload-preview">
                        <!-- Preview gambar akan muncul di sini -->
                    </div>
                    
                    <button class="btn btn-success" id="upload-btn" disabled>Upload Foto</button>
                </div>
            </div>
        </section>

        <!-- Pengumuman Page -->
<section id="pengumuman" class="page">
    <h2>Pengumuman Kelas 7D</h2>
    
    <!-- Info Guest Mode -->
    <div id="guest-info" class="guest-info" style="display: none;">
        <h3><i class="fas fa-info-circle"></i> Mode Pengunjung</h3>
        <p>Anda sedang melihat website dalam mode pengunjung. Anda dapat melihat semua informasi dan pengumuman yang tersedia.</p>
        <ul>
            <li>Lihat informasi anggota kelas</li>
            <li>Lihat jadwal pelajaran dan piket</li>
            <li>Lihat album foto</li>
            <li>Baca pengumuman dan tugas</li>
        </ul>
        <p>Untuk fitur lengkap seperti komentar dan upload, silakan login dengan akun kelas.</p>
    </div>
    
    <!-- Pengumuman mbg --->
        <div class="announcement">
        <div style="text-align: center;">
            <h3>MBG - Jadwal Piket & Petunjuk</h3>
            <div class="announcement-meta">
                <i class="far fa-calendar-alt"></i>
                <span>24 Oktober 2025 - Oleh: Dwika Hadi Wijaya</span>
            </div>
            <img src="pengumuman2.jpg" alt="jadwal" style="max-width: 100%; height: auto; border-radius: 8px; margin: 10px 0; cursor: pointer;" onclick="openImageModal('pengumuman2.jpg', 'jadwal')">
            <p>"<small>untuk box bekal yang dikumpulkan di indoor box makan yang berisi bekal. Jadi disampaikan ke anak bekal dimakannya bersama-sama di indoor.</small>"</p>
            
            <img src="pengumuman3.jpg" alt="petunjuk" style="max-width: 100%; height: auto; border-radius: 8px; margin: 10px 0; cursor: pointer;" onclick="openImageModal('pengumuman3.jpg', 'petunjuk')">
            <p><small>Klik gambar untuk melihat lebih jelas</small></p>
        </div>
    </div>
    
<div class="announcement">
        <div style="text-align: center;">
            <h3>Pergantian Jadwal Pelajaran</h3>
            <div class="announcement-meta">
                <i class="far fa-calendar-alt"></i>
                <span>27 Oktober 2025 - Oleh: Dwika Hadi Wijaya</span>
            </div>
            <img src="jadwal.jpg" alt="jadwalp" style="max-width: 100%; height: auto; border-radius: 8px; margin: 10px 0; cursor: pointer;" onclick="openImageModal('jadwalp.jpg', 'jadwalp')">
            <p>"<small>Pergantian jadeal pelajaran dikarenakan penambahan jadwal makan bergizi pada siang hari.</small>"</p>
        </div>
    </div>
    
    <!-- PENGUMUMAN BARU: KEGIATAN JUMPA PAKAR -->
    <div class="announcement">
        <h3>Kegiatan Jumpa Pakar Hari Jum'at, 24 Oktober 2025</h3>
        <div class="announcement-meta">
            <i class="far fa-calendar-alt"></i>
            <span>22 Oktober 2025 - Oleh: Dwika Hadi Wijaya</span>
        </div>
        <div style="white-space: pre-line; line-height: 1.6;">
            <p><strong><em>Assalamualaikum wrwb</em></strong></p>
            
            <p>Menginformasikan untuk kegiatan jumpa pakar hari Jum'at, 24 Oktober 2025 adalah <strong>Ketertiban</strong> dengan ketentuan sebagai berikut:</p>
            
            <ol>
                <li>Setelah bel jam 07.00 seluruh siswa kelas 7,8 & 9 menuju ke lapangan upacara untuk <strong><em>senam anak Indonesia hebat</em></strong></li>
                <li>Siswa kelas 8-9 baris di lapangan upacara seperti biasa persiapan, kelas 7 baris di Indoor. Di awali dengan Berdoa, menyanyikan Lagu Indonesia Raya, dilanjutkan senam.</li>
                <li>Setelah senam, seluruh siswa menuju ke indoor.</li>
                <li>Sholat Jum'at di sekolah.</li>
                <li>Keputrian kelas 9.</li>
                <li>Siswa/i <strong>berseragam kaos</strong> dengan membawa ganti seragam Pramuka lengkap (kelas 7 membawa baret/topi).</li>
            </ol>
            
            <p>Demikian informasi ini disampaikan, terimakasih.</p>
            
            <p><strong><em>Wassalamu'alaikum wrwb.</em></strong></p>
        </div>
    </div>

    <!-- PENGUMUMAN BARU: GERAKAN PRAMUKA DENGAN GAMBAR -->
    <div class="announcement">
        <div style="text-align: center;">
            <h3>Gerakan Pramuka - Pembuatan KTA</h3>
            <div class="announcement-meta">
                <i class="far fa-calendar-alt"></i>
                <span>22 Oktober 2025 - Oleh: Dwika Hadi Wijaya</span>
            </div>
            <img src="pengumuman1.jpg" alt="Gerakan Pramuka" style="max-width: 100%; height: auto; border-radius: 8px; margin: 10px 0; cursor: pointer;" onclick="openImageModal('pengumuman1.jpg', 'Gerakan Pramuka - Pembuatan KTA')">
            <p><small>Klik gambar untuk melihat lebih jelas</small></p>
        </div>
    </div>
    
    <div id="announcements-container">
        <!-- Daftar pengumuman lainnya akan diisi oleh JavaScript -->
    </div>
    
    <!-- Form untuk admin menambah pengumuman -->
    <div id="add-announcement-form" style="display: none; margin-top: 30px;">
        <h3>Tambah Pengumuman Baru</h3>
        <div class="form-group">
            <label for="announcement-title">Judul Pengumuman</label>
            <input type="text" id="announcement-title" placeholder="Masukkan judul pengumuman">
        </div>
        <div class="form-group">
            <label for="announcement-content">Isi Pengumuman</label>
            <textarea id="announcement-content" rows="4" placeholder="Masukkan isi pengumuman"></textarea>
        </div>
        <button class="btn" id="publish-announcement">Publikasikan Pengumuman</button>
    </div>
    
    <!-- Section Komentar -->
    <div id="comment-section" class="comment-section" style="display: none;">
        <div class="comment-warning">
            <i class="fas fa-exclamation-triangle"></i> 
            <strong>Perhatian:</strong> Fitur komentar masih dalam tahap uji coba dan mungkin akan dihapus pada update mendatang.
        </div>
        
        <div class="comment-form">
            <h3>Tambah Komentar</h3>
            <div class="form-group">
                <label for="comment-text">Komentar Anda</label>
                <textarea id="comment-text" rows="3" placeholder="Tulis komentar Anda di sini..."></textarea>
            </div>
            <button class="btn" id="submit-comment">Kirim Komentar</button>
        </div>
        
        <div class="comment-list" id="comment-list">
            <!-- Daftar komentar akan diisi oleh JavaScript -->
        </div>
    </div>
</section>
            

        <!-- Tugas -->
        <section id="tugas" class="page">
            <h2>Tugas Kelas 7D</h2>
            <div class="tugas-container" id="tugas-container">
<div class="tugas-card">
    <div class="tugas-header">
        <h3 class="tugas-title">PR PPKN</h3>
        <span class="tugas-date">25 Oktober 2025</span>
    </div>
    <span class="tugas-mapel">PPKN</span>
    <div class="tugas-deskripsi" style="text-align: center; margin: 15px 0;">
        <img src="tugas1.jpg" alt="Tugas PPKN" 
             style="max-width: 100%; height: auto; border-radius: 8px; cursor: pointer;"
             onclick="openImageModal('tugas1.jpg', 'Tugas PPKN')">
        <p style="margin-top: 10px; font-size: 0.9rem; color: #666;">
            Klik gambar untuk melihat lebih jelas
        </p>
    </div>
    <span class="tugas-status status-belum">Belum Dikerjakan</span>
</div>
                <div class="tugas-card">
                    <div class="tugas-header">
                        <h3 class="tugas-title">Tugas IPA</h3>
                        <span class="tugas-date">20 Oktober 2025</span>
                    </div>
                    <span class="tugas-mapel">IPA</span>
                    <p class="tugas-deskripsi">1. Jelaskan langkah-langkah pembuatan termometer dengan menggunakan zat cair!</p>
                    <p class="tugas-deskripsi">2. Jelaskan mengapa raksa dan alkohol di gunakan dalam pembuatan termometer!</p>
                    <p class="tugas-deskripsi">3. Sebutkan dua titik tetap yabg di gunakan dalam pembuatan termometer!</p>
                    <p class="tugas-deskripsi">4. titik tetap (Bawah/Atas), nama Termometer (pengukuran), Celcius titik tetap bawah dan atas, Reamur titik tetap bawah atas, Fahrenheit titik tetap bawah atas, kelvin titik tetap bawah dan atas</p>
                    <span class="tugas-status status-belum">belum</span>
                </div>
                <div class="tugas-card">
                    <div class="tugas-header">
                        <h3 class="tugas-title">Tugas Bahasa Indonesia</h3>
                        <span class="tugas-date">20 Oktober 2025</span>
                    </div>
                    <span class="tugas-mapel">Bahasa Indonesia</span>
                    <p class="tugas-deskripsi">Buatlah cerita fantasi!.</p>
                    <span class="tugas-status status-terlambat">Terlambat</span>
                </div>
            </div>
        </section>

        <!-- Kegiatan -->
        <section id="kegiatan" class="page">
            <h2>Kegiatan Kelas 7D</h2>
            <div class="kegiatan-container" id="kegiatan-container">
                <div class="kegiatan-card">
                    <div class="kegiatan-header">
                        <h3 class="kegiatan-title">Peringatan Hari Santri Nasional</h3>
                        <span class="kegiatan-date">20 Oktober 2025</span>
                    </div>
                    <span class="kegiatan-lokasi">Sekolah</span>
                    <p class="kegiatan-deskripsi">Memperingati Hari Santri secara Nasional dengan memakai baju bernuansa (serba) putih.</p>
                </div>
            </div>
        </section>

        <!-- Kelola Akun Page -->
        <section id="kelola-akun" class="page">
            <h2>Kelola Akun</h2>
            <div class="admin-panel">
                <div class="form-group">
                    <label for="current-username">Username</label>
                    <input type="text" id="current-username" value="" readonly>
                </div>
                <div class="form-group">
                    <label for="current-fullname">Nama Lengkap</label>
                    <input type="text" id="current-fullname" value="" readonly>
                </div>
                <div class="form-group">
                    <label for="new-password">Password Baru</label>
                    <input type="password" id="new-password" placeholder="Masukkan password baru">
                </div>
                <div class="form-group">
                    <label for="confirm-password">Konfirmasi Password Baru</label>
                    <input type="password" id="confirm-password" placeholder="Konfirmasi password baru">
                </div>
                <button class="btn" id="update-password">Update Password</button>
                
                <!-- Logout Button -->
                <div class="logout-btn-container">
                    <button class="logout-btn" id="logout-btn">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </div>
        </section>

        <!-- Admin Feature Pages -->
        <section id="admin-feature" class="page">
            <h2>Fitur Admin</h2>
            <div class="admin-panel">
                <p>Selamat datang di panel admin. Dari sini Anda dapat mengelola semua aspek website kelas.</p>
                <div class="card-grid" style="margin-top: 20px;">
                    <div class="card admin-feature-card" onclick="showPage('list-admin')">
                        <div class="card-img">
                            <i class="fas fa-user-shield"></i>
                        </div>
                        <div class="card-content">
                            <h3>List Admin</h3>
                            <p>Lihat dan kelola administrator sistem</p>
                        </div>
                    </div>
                    <div class="card admin-feature-card" onclick="showPage('tambah-akun')">
                        <div class="card-img">
                            <i class="fas fa-user-plus"></i>
                        </div>
                        <div class="card-content">
                            <h3>Tambah Akun</h3>
                            <p>Tambahkan anggota baru ke dalam kelas</p>
                        </div>
                    </div>
                    <div class="card admin-feature-card" onclick="showPage('list-anggota')">
                        <div class="card-img">
                            <i class="fas fa-list"></i>
                        </div>
                        <div class="card-content">
                            <h3>List Anggota</h3>
                            <p>Kelura semua anggota kelas</p>
                        </div>
                    </div>
                    <div class="card admin-feature-card" onclick="showPage('kelola-piket')">
                        <div class="card-img">
                            <i class="fas fa-broom"></i>
                        </div>
                        <div class="card-content">
                            <h3>Kelola Piket</h3>
                            <p>Atur jadwal piket kelas</p>
                        </div>
                    </div>
                    <div class="card admin-feature-card" onclick="showPage('kelola-album')">
                        <div class="card-img">
                            <i class="fas fa-images"></i>
                        </div>
                        <div class="card-content">
                            <h3>Kelola Album</h3>
                            <p>Kelola album foto kelas</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="list-admin" class="page">
            <h2>Daftar Admin</h2>
            <div class="admin-panel">
                <table>
                    <thead>
                        <tr>
                            <th>No</th>
                            <th>Username</th>
                            <th>Nama Lengkap</th>
                            <th>Tanggal Ditambahkan</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="admin-list-body">
                        <!-- Data admin akan diisi oleh JavaScript -->
                    </tbody>
                </table>
            </div>
        </section>

        <section id="tambah-akun" class="page">
            <h2>Tambah Akun Anggota</h2>
            <div class="admin-panel">
                <div class="form-group">
                    <label for="new-username">Username</label>
                    <input type="text" id="new-username" placeholder="Masukkan username">
                </div>
                <div class="form-group">
                    <label for="new-fullname">Nama Lengkap</label>
                    <input type="text" id="new-fullname" placeholder="Masukkan nama lengkap">
                </div>
                <div class="form-group">
                    <label for="new-user-password">Password</label>
                    <input type="password" id="new-user-password" placeholder="Masukkan password">
                </div>
                <div class="form-group">
                    <label for="confirm-user-password">Konfirmasi Password</label>
                    <input type="password" id="confirm-user-password" placeholder="Konfirmasi password">
                </div>
                <div class="form-group">
                    <label for="user-role">Peran</label>
                    <select id="user-role">
                        <option value="user">Anggota Biasa</option>
                        <option value="admin">Admin</option>
                    </select>
                </div>
                <button class="btn" id="create-account">Buat Akun</button>
            </div>
        </section>

        <section id="list-anggota" class="page">
            <h2>Daftar Anggota Kelas</h2>
            <div class="admin-panel">
                <table>
                    <thead>
                        <tr>
                            <th>No</th>
                            <th>Username</th>
                            <th>Nama Lengkap</th>
                            <th>Role</th>
                            <th>Status</th>
                            <th>Aksi</th>
                        </tr>
                    </thead>
                    <tbody id="anggota-list-body">
                        <!-- Data anggota akan diisi oleh JavaScript -->
                    </tbody>
                </table>
            </div>
        </section>

        <section id="kelola-piket" class="page">
            <h2>Kelola Jadwal Piket</h2>
            <div class="admin-panel">
                <div class="form-group">
                    <label for="piket-management-day">Hari</label>
                    <select id="piket-management-day">
                        <option value="senin">Senin</option>
                        <option value="selasa">Selasa</option>
                        <option value="rabu">Rabu</option>
                        <option value="kamis">Kamis</option>
                        <option value="jumat">Jumat</option>
                        <option value="sabtu">Sabtu</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="piket-management-students">Siswa yang Bertugas (pisahkan dengan koma)</label>
                    <textarea id="piket-management-students" rows="3" placeholder="Masukkan nama siswa yang bertugas"></textarea>
                </div>
                <button class="btn btn-success" id="save-piket-management">Simpan Jadwal Piket</button>
            </div>
        </section>

        <section id="kelola-album" class="page">
            <h2>Kelola Album Foto</h2>
            <div class="admin-panel">
                <div id="album-management-container">
                    <!-- Daftar album untuk dikelola akan diisi oleh JavaScript -->
                </div>
                <button class="btn btn-danger" id="delete-selected-albums" style="margin-top: 20px; display: none;">Hapus Album Terpilih</button>
            </div>
        </section>
    </main>

    <!-- User Info Modal -->
    <div class="modal-overlay" id="user-modal-overlay">
        <div class="user-modal">
            <div class="modal-header">
                <h2>Informasi Anggota</h2>
                <button class="modal-close" id="modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="user-info" id="user-info">
                    <!-- Informasi user akan diisi oleh JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Photo Modal -->
    <div class="photo-modal" id="photo-modal">
        <div class="photo-modal-content">
            <button class="photo-modal-close" id="photo-modal-close">
                <i class="fas fa-times"></i>
            </button>
            <div class="photo-modal-nav">
                <button id="prev-photo"><i class="fas fa-chevron-left"></i></button>
                <button id="next-photo"><i class="fas fa-chevron-right"></i></button>
            </div>
            <img id="modal-photo" src="" alt="">
            <div class="photo-info" id="photo-info"></div>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notification-text"></span>
    </div>

    <script>
        // Data pengguna (akan disimpan di localStorage)
        let users = JSON.parse(localStorage.getItem('kelas7d_user')) ||  [
            // Akun admin
            { username: "adminkelas", password: "admin123", fullname: "Administrator Utama", role: "admin", isOnline: false, joinDate: "2023-01-01" },
            { username: "sri.lestari", password: "sri123", fullname: "Sri Lestari, S.Pd", role: "admin", isOnline: false, joinDate: "2023-01-15" },
            
            // Akun siswa (32 siswa)
            { username: "abiyyu", password: "abiyyu123", fullname: "Abiyyu Nocherino Revantara", role: "user", isOnline: false, joinDate: "2023-02-20", position: "Anggota", absen: 1 },
            { username: "ahmed", password: "ahmed123", fullname: "Ahmed Fadee Aisyhafiy", role: "user", isOnline: false, joinDate: "2023-02-21", position: "Anggota", absen: 2 },
            { username: "alifah", password: "alifah123", fullname: "Alifah Adeliza", role: "user", isOnline: false, joinDate: "2023-02-22", position: "Seksi Kebersihan", absen: 3 },
            { username: "amalia", password: "amalia123", fullname: "Amalia Rezki Azizi", role: "user", isOnline: false, joinDate: "2023-02-23", position: "Bendahara I", absen: 4 },
            { username: "argani", password: "argani123", fullname: "Argani Wisnu Wibisana", role: "user", isOnline: false, joinDate: "2023-02-24", position: "Anggota", absen: 5 },
            { username: "arni", password: "arni123", fullname: "Arni Rahmadhani", role: "user", isOnline: false, joinDate: "2023-02-25", position: "Anggota", absen: 6 },
            { username: "aryasatya", password: "aryasatya123", fullname: "Aryasatya Byakta", role: "user", isOnline: false, joinDate: "2023-02-26", position: "Anggota", absen: 7 },
            { username: "azelia", password: "azelia123", fullname: "Azelia Nur Azzahra", role: "user", isOnline: false, joinDate: "2023-02-27", position: "Bendahara II", absen: 8 },
            { username: "azzam", password: "azzam123", fullname: "Azzam Amanullah", role: "user", isOnline: false, joinDate: "2023-02-28", position: "Seksi Kebersihan", absen: 9 },
            { username: "denessia", password: "denessia123", fullname: "Denessia Fahia Mahya", role: "user", isOnline: false, joinDate: "2023-03-01", position: "Anggota", absen: 10 },
            { username: "dwika", password: "dwika123", fullname: "Dwika Hadi Wijaya", role: "user", isOnline: false, joinDate: "2023-03-02", position: "Seksi Kebersihan", absen: 11 },
            { username: "erfira", password: "erfira123", fullname: "Erfira Anggraeni", role: "user", isOnline: false, joinDate: "2023-03-03", position: "Sekertaris I", absen: 12 },
            { username: "farzan", password: "farzan123", fullname: "Farzan Ahza Argani", role: "user", isOnline: false, joinDate: "2023-03-04", position: "Anggota", absen: 13 },
            { username: "firli", password: "firli123", fullname: "Firli Alisa Rahma", role: "user", isOnline: false, joinDate: "2023-03-05", position: "Anggota", absen: 14 },
            { username: "ghatfaan", password: "ghatfaan123", fullname: "Ghatfaan Fayaadh Aufaa", role: "user", isOnline: false, joinDate: "2023-03-06", position: "Wakil Ketua", absen: 15 },
            { username: "hartts", password: "hartts123", fullname: "Hartts Abdul Hakim", role: "user", isOnline: false, joinDate: "2023-03-07", position: "Ketua Kelas", absen: 16 },
            { username: "joshua", password: "joshua123", fullname: "Joshua Veddyttarro", role: "user", isOnline: false, joinDate: "2023-03-08", position: "Anggota", absen: 17 },
            { username: "keisha", password: "keisha123", fullname: "Keisha Novelis Nafeeza Zaafarani", role: "user", isOnline: false, joinDate: "2023-03-09", position: "Sekertaris II", absen: 18 },
            { username: "kirana", password: "kirana123", fullname: "Kirana Kamalia Ayu Wardaniningrum", role: "user", isOnline: false, joinDate: "2023-03-10", position: "Seksi Kebersihan", absen: 19 },
            { username: "mohammad", password: "mohammad123", fullname: "Mohammad Asadell Akhtar", role: "user", isOnline: false, joinDate: "2023-03-11", position: "Anggota", absen: 20 },
            { username: "muhammad", password: "muhammad123", fullname: "Muhammad Ardiansyah", role: "user", isOnline: false, joinDate: "2023-03-12", position: "Anggota", absen: 21 },
            { username: "mutia", password: "mutia123", fullname: "Mutia Almas Fatimatuzzahra", role: "user", isOnline: false, joinDate: "2023-03-13", position: "Literasi", absen: 22 },
            { username: "nafis", password: "nafis123", fullname: "Nafis Prawiro", role: "user", isOnline: false, joinDate: "2023-03-14", position: "Anggota", absen: 23 },
            { username: "nara", password: "nara123", fullname: "Nara Ayu Apriliani", role: "user", isOnline: false, joinDate: "2023-03-15", position: "Anggota", absen: 24 },
            { username: "priska", password: "priska123", fullname: "Priska Oktaviana", role: "user", isOnline: false, joinDate: "2023-03-16", position: "Anggota", absen: 25 },
            { username: "rajendra", password: "rajendra123", fullname: "Rajendra Veron Alerea", role: "user", isOnline: false, joinDate: "2023-03-17", position: "Seksi Kebersihan", absen: 26 },
            { username: "reina", password: "reina123", fullname: "Reina Al Yasmin", role: "user", isOnline: false, joinDate: "2023-03-18", position: "Seksi Kebersihan", absen: 27 },
            { username: "riyan", password: "riyan123", fullname: "Riyan Ade Saputra", role: "user", isOnline: false, joinDate: "2023-03-19", position: "Seksi Keagamaan", absen: 28 },
            { username: "selena", password: "selena123", fullname: "Selena Zayna Tatum", role: "user", isOnline: false, joinDate: "2023-03-20", position: "Anggota", absen: 29 },
            { username: "shafin", password: "shafin123", fullname: "Shafin Althaf", role: "user", isOnline: false, joinDate: "2023-03-21", position: "Anggota", absen: 30 },
            { username: "zabarjad", password: "zabarjad123", fullname: "Zabarjad Nibras Alzain", role: "user", isOnline: false, joinDate: "2023-03-22", position: "Anggota", absen: 31 },
            { username: "zauhair", password: "zauhair123", fullname: "Zauhair Rakha Adi", role: "user", isOnline: false, joinDate: "2023-03-23", position: "Anggota", absen: 32 }
        ];

        // Data anggota kelas (32 siswa) - Diambil dari data yang diberikan
        const anggotaKelas = [
            { no: 1, nama: "Abiyyu Nocherino Revantara", absen: 1, kedudukan: "Anggota" },
            { no: 2, nama: "Ahmed Fadee Aisyhafiy", absen: 2, kedudukan: "Anggota" },
            { no: 3, nama: "Alifah Adeliza", absen: 3, kedudukan: "Seksi Kebersihan" },
            { no: 4, nama: "Amalia Rezki Azizi", absen: 4, kedudukan: "Bendahara I" },
            { no: 5, nama: "Argani Wisnu Wibisana", absen: 5, kedudukan: "Anggota" },
            { no: 6, nama: "Arni Rahmadhani", absen: 6, kedudukan: "Anggota" },
            { no: 7, nama: "Aryasatya Byakta", absen: 7, kedudukan: "Anggota" },
            { no: 8, nama: "Azelia Nur Azzahra", absen: 8, kedudukan: "Bendahara II" },
            { no: 9, nama: "Azzam Amanullah", absen: 9, kedudukan: "Seksi Kebersihan" },
            { no: 10, nama: "Denessia Fahia Mahya", absen: 10, kedudukan: "Anggota" },
            { no: 11, nama: "Dwika Hadi Wijaya", absen: 11, kedudukan: "Seksi Kebersihan" },
            { no: 12, nama: "Erfira Anggraeni", absen: 12, kedudukan: "Sekertaris I" },
            { no: 13, nama: "Farzan Ahza Argani", absen: 13, kedudukan: "Anggota" },
            { no: 14, nama: "Firli Alisa Rahma", absen: 14, kedudukan: "Anggota" },
            { no: 15, nama: "Ghatfaan Fayaadh Aufaa", absen: 15, kedudukan: "Wakil Ketua" },
            { no: 16, nama: "Harits Abdul Hakim", absen: 16, kedudukan: "Ketua Kelas" },
            { no: 17, nama: "Joshua Veddyttarro", absen: 17, kedudukan: "Anggota" },
            { no: 18, nama: "Keisha Novelis Nafeeza Zaafarani", absen: 18, kedudukan: "Sekertaris II" },
            { no: 19, nama: "Kirana Kamalia Ayu Wardaniningrum", absen: 19, kedudukan: "Seksi Kebersihan" },
            { no: 20, nama: "Mohammad Asadell Akhtar", absen: 20, kedudukan: "Anggota" },
            { no: 21, nama: "Muhammad Ardiansyah", absen: 21, kedudukan: "Anggota" },
            { no: 22, nama: "Mutia Almas Fatimatuzzahra", absen: 22, kedudukan: "Anggota" },
            { no: 23, nama: "Nafis Prawiro", absen: 23, kedudukan: "Anggota" },
            { no: 24, nama: "Nara Ayu Apriliani", absen: 24, kedudukan: "Anggota" },
            { no: 25, nama: "Priska Oktaviana", absen: 25, kedudukan: "Anggota" },
            { no: 26, nama: "Rajendra Veron Alerea", absen: 26, kedudukan: "Seksi Kebersihan" },
            { no: 27, nama: "Reina Al Yasmin", absen: 27, kedudukan: "Seksi Kebersihan" },
            { no: 28, nama: "Riyan Ade Saputra", absen: 28, kedudukan: "Seksi Keagamaan" },
            { no: 29, nama: "Selena Zayna Tatum", absen: 29, kedudukan: "Anggota" },
            { no: 30, nama: "Shafin Althaf", absen: 30, kedudukan: "Anggota" },
            { no: 31, nama: "Zabarjad Nibras Alzain", absen: 31, kedudukan: "Anggota" },
            { no: 32, nama: "Zauhair Rakha Adi", absen: 32, kedudukan: "Anggota" }
        ];

        // Data pengumuman
        let announcements = [
            { 
                title: "Selamat Datang di Website Kelas 7D", 
                content: "Website ini adalah portal resmi untuk komunikasi dan informasi kelas. Semoga bermanfaat!", 
                date: "2023-05-01", 
                author: "Administrator" 
            },
            
            {
                title: "Hari Santri Nasional",
                content: 'Menindaklanjuti seBupati tentang Peringatan Hari Santri Nasional tanggal 22 Oktober 2025, kami sampaikan hal-hal sbb :\n 1. Tgl 20-22 Oktober 2025 guru dan siswa memakai pakaian bernuansa putih. Siswa putri berjilbab putih Esphero dan siswa putra memakai sarung serta peci.      \n 2. Upacara hari Senin ditiadakan, diganti dengan apel pagi hari Rabu, 22 Oktober 2025.     \n 3. Hari Selasa, 21 Oktober 2025 khusus siswa kelas 9 ada CKG (Cek Kesehatan Gratis) dan imunisasi HPV bagi siswa putri. Siswa dihimbau untuk sarapan di rumah dan membawa minuman manis.     \n 4. Untuk sepatu dan kaos kaki menyesuaikan hari sekolah',
                date: '19/11/2025',
                author: "Dwika Hadi Wijaya"
                }
            
        ];

        // Data jadwal piket
        let piketSchedule = {
            senin: ["Abiyyu", "Hafiy", "Gani", "Zizi", "Alifah"],
            selasa: ["Arya", "Azzam", "Dwika", "Arni", "Denessia"],
            rabu: ["Farzan", "Fayaadh", "Harist", "Erfira", "Firli"],
            kamis: ["Joshua", "Akhtar", "Ardian", "Keysha", "Kirana"],
            jumat: ["Nafis", "Veron", "Riyan", "Mutia", "Nara"],
            sabtu: ["Shafin", "Alzain", "Rakha", "Priska", "Reina", "Selena"]
        };

        // Data album foto
        let photoAlbums = [
    {
        id: 1,
        name: "1 Kelas",
        description: "Foto bersama kelas 7D",
        cover: "cover.jpg",
        photos: [
            {
                id: 1,
                url: "f1.jpg",
                caption: "-",
                uploadDate: "2023-05-10",
                uploader: "Sri Lestari, S.Pd"
            },
            {
                id: 2,
                url: "f2.jpg",
                caption: "-",
                uploadDate: "2023-05-11",
                uploader: "Sri Lestari, S.Pd"
            }
        ],
        created: "2023-05-10",
        createdBy: "Sri Lestari, S.Pd"
    },
    {
        id: 2,
        name: "Literasi Di Perpusda?!",
        description: "Kegiatan Perpusda Hari Ini",
        cover: "cover1.jpg",
        photos: [
            {
                id: 1,
                url: "foto1.jpg",
                caption: "Cisss",
                uploadDate: "23 Oktober 2025",
                uploader: "Administrator Utama"
            },
            
            {
                id: 2,
                url: "foto2.jpg",
                caption: "Nafis...",
                uploadDate: "23 Oktober 2025",
                uploader: "Dwika Hadi Wijaya"
            },
            
            {
                id: 3,
                url: "foto3.jpg",
                caption: "Khusus...",
                uploadDate: "23 Oktober 2025",
                uploader: "Dwika Hadi Wijaya"
            },
            
            {
                id: 4,
                url: "foto4.jpg",
                caption: "...",
                uploadDate: "23 Oktober 2025",
                uploader: "Dwika Hadi Wijaya"
            },
        ],
        created: "23 Oktober 2025",
        createdBy: "Administrator Utama"
    }
];

        // Data komentar
        let comments = [];

        // State aplikasi
        let currentUser = null;
        let isLoggedIn = false;
        let isGuestMode = false;
        let activeSessions = {};
        let currentAlbum = null;
        let currentPhotoIndex = 0;
        
        let notifications = [
            { id: 1, title: "Selamat Datang", message: "Selamat datang di portal kelas 7D", time: "2023-05-01 08:00", read: true },
            { id: 2, title: "Pengumuman Baru", message: "Pengumuman baru telah ditambahkan", time: "2023-05-02 10:30", read: false },
            { id: 3, title: "Jadwal Piket", message: "Jadwal piket telah diperbarui untuk minggu ini", time: "2023-05-03 14:15", read: false },
            {
              id: 4,
              title: "Tugas!!",
              message: 'Informasi lebih lanjut plih menu pengumuman "Tugas"...',
              time: "2025-10-21 17:15",
              read: false
            }
        ];
        
        let uploadFiles = [];

        // DOM Elements
        const hamburger = document.getElementById('hamburger-btn');
        const sidebar = document.querySelector('.sidebar');
        const pages = document.querySelectorAll('.page');
        const loginBtn = document.getElementById('login-btn');
        const guestLoginBtn = document.getElementById('guest-login-btn');
        const logoutBtn = document.getElementById('logout-btn');
        const updatePasswordBtn = document.getElementById('update-password');
        const createAccountBtn = document.getElementById('create-account');
        const publishAnnouncementBtn = document.getElementById('publish-announcement');
        const submitCommentBtn = document.getElementById('submit-comment');
        const notification = document.getElementById('notification');
        const notificationText = document.getElementById('notification-text');
        const modalOverlay = document.getElementById('user-modal-overlay');
        const modalClose = document.getElementById('modal-close');
        const rememberMeCheckbox = document.getElementById('remember-me');
        const searchInput = document.getElementById('search-input');
        const savePiketBtn = document.getElementById('save-piket');
        const savePiketManagementBtn = document.getElementById('save-piket-management');
        const uploadArea = document.getElementById('upload-area');
        const fileInput = document.getElementById('file-input');
        const uploadPreview = document.getElementById('upload-preview');
        const uploadBtn = document.getElementById('upload-btn');
        const photoModal = document.getElementById('photo-modal');
        const photoModalClose = document.getElementById('photo-modal-close');
        const prevPhotoBtn = document.getElementById('prev-photo');
        const nextPhotoBtn = document.getElementById('next-photo');
        const modalPhoto = document.getElementById('modal-photo');
        const photoInfo = document.getElementById('photo-info');
        const uploadTab = document.getElementById('upload-tab');
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');
        const deleteAlbumsBtn = document.getElementById('delete-selected-albums');
        const guestInfo = document.getElementById('guest-info');
        const commentSection = document.getElementById('comment-section');

        // Event Listeners
        hamburger.addEventListener('click', toggleSidebar);
        loginBtn.addEventListener('click', login);
        guestLoginBtn.addEventListener('click', enterGuestMode);
        logoutBtn.addEventListener('click', logout);
        updatePasswordBtn.addEventListener('click', updatePassword);
        createAccountBtn.addEventListener('click', createAccount);
        publishAnnouncementBtn.addEventListener('click', publishAnnouncement);
        submitCommentBtn.addEventListener('click', submitComment);
        modalClose.addEventListener('click', closeModal);
        searchInput.addEventListener('input', filterAnggota);
        savePiketBtn.addEventListener('click', savePiket);
        savePiketManagementBtn.addEventListener('click', savePiketManagement);
        uploadArea.addEventListener('click', () => fileInput.click());
        fileInput.addEventListener('change', handleFileSelect);
        uploadBtn.addEventListener('click', uploadPhotos);
        photoModalClose.addEventListener('click', closePhotoModal);
        prevPhotoBtn.addEventListener('click', showPrevPhoto);
        nextPhotoBtn.addEventListener('click', showNextPhoto);
        deleteAlbumsBtn.addEventListener('click', deleteSelectedAlbums);

        // Navigasi sidebar
        document.querySelectorAll('.sidebar-nav a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetPage = this.getAttribute('href').substring(1);
                showPage(targetPage);
                if (window.innerWidth < 768) {
                    toggleSidebar();
                }
            });
        });

        // Tab navigation
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const tabId = tab.getAttribute('data-tab');
                
                // Update active tab
                tabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // Show corresponding content
                tabContents.forEach(content => {
                    content.classList.remove('active');
                    if (content.id === tabId) {
                        content.classList.add('active');
                    }
                });
            });
        });
        
        document.addEventListener('DOMContentLoaded', function() {
            // Setup dark mode
            setupDarkMode();
            
            // Setup notification system
            setupNotifications();
            
            // Render notifikasi
            renderNotifications();
            
            // Update badge notifikasi
            updateNotificationBadge();
            
            // Setup event listeners
            setupEventListeners();
            
            // Load comments from localStorage
            loadComments();
        });
        
        function setupDarkMode() {
            const isDarkMode = localStorage.getItem('kelas7d_darkmode') === 'true';
            
            if (isDarkMode) {
                document.body.classList.add('dark-mode');
                document.getElementById('theme-toggle').innerHTML = '<i class="fas fa-sun"></i>';
            }
        }

        // Fungsi untuk toggle dark mode
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            
            const isDarkMode = document.body.classList.contains('dark-mode');
            localStorage.setItem('kelas7d_darkmode', isDarkMode);
            
            if (isDarkMode) {
                document.getElementById('theme-toggle').innerHTML = '<i class="fas fa-sun"></i>';
            } else {
                document.getElementById('theme-toggle').innerHTML = '<i class="fas fa-moon"></i>';
            }
        }

        // Fungsi untuk setup notifikasi
        function setupNotifications() {
            // Pastikan notifikasi tersimpan di localStorage
            if (!localStorage.getItem('kelas7d_notifications')) {
                localStorage.setItem('kelas7d_notifications', JSON.stringify(notifications));
            }
        }

        // Fungsi untuk merender notifikasi
        function renderNotifications() {
            const notificationList = document.getElementById('notification-list');
            notificationList.innerHTML = '';
            
            notifications.forEach(notification => {
                const notificationItem = document.createElement('li');
                notificationItem.className = `notification-item ${notification.read ? '' : 'unread'}`;
                notificationItem.innerHTML = `
                    <div class="notification-title">${notification.title}</div>
                    <div class="notification-message">${notification.message}</div>
                    <div class="notification-time">${notification.time}</div>
                `;
                
                notificationItem.addEventListener('click', () => {
                    markNotificationAsRead(notification.id);
                });
                
                notificationList.appendChild(notificationItem);
            });
        }

        // Fungsi untuk update badge notifikasi
        function updateNotificationBadge() {
            const unreadCount = notifications.filter(n => !n.read).length;
            const badge = document.getElementById('notification-count');
            
            badge.textContent = unreadCount;
            badge.style.display = unreadCount > 0 ? 'flex' : 'none';
        }

        // Fungsi untuk menandai notifikasi sebagai sudah dibaca
        function markNotificationAsRead(id) {
            const notification = notifications.find(n => n.id === id);
            if (notification) {
                notification.read = true;
                localStorage.setItem('kelas7d_notifications', JSON.stringify(notifications));
                updateNotificationBadge();
                renderNotifications();
            }
        }

        // Fungsi untuk menandai semua notifikasi sebagai sudah dibaca
        function markAllNotificationsAsRead() {
            notifications.forEach(notification => {
                notification.read = true;
            });
            
            localStorage.setItem('kelas7d_notifications', JSON.stringify(notifications));
            updateNotificationBadge();
            renderNotifications();
        }

        // Fungsi untuk toggle panel notifikasi
        function toggleNotificationPanel() {
            document.getElementById('notification-panel').classList.toggle('active');
        }

        // Fungsi untuk setup event listeners
        function setupEventListeners() {
            // Theme toggle
            document.getElementById('theme-toggle').addEventListener('click', toggleDarkMode);
            
            // Notification bell
            document.getElementById('notification-bell').addEventListener('click', function(e) {
                e.stopPropagation();
                toggleNotificationPanel();
            });
            
            // Mark all as read button
            document.getElementById('mark-all-read').addEventListener('click', function(e) {
                e.stopPropagation();
                markAllNotificationsAsRead();
            });
            
            // Close notification panel when clicking outside
            document.addEventListener('click', function(e) {
                if (!e.target.closest('#notification-panel') && !e.target.closest('#notification-bell')) {
                    document.getElementById('notification-panel').classList.remove('active');
                }
            });
        }

        // Fungsi toggle sidebar
        function toggleSidebar() {
            hamburger.classList.toggle('active');
            sidebar.classList.toggle('active');
        }

        // Fungsi untuk menampilkan halaman tertentu
        function showPage(pageId) {
            pages.forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
            
            // Render konten khusus halaman
            if (pageId === 'jadwal-piket') {
                renderPiketSchedule();
            } else if (pageId === 'album-foto') {
                renderPhotoAlbums();
            } else if (pageId === 'kelola-album') {
                renderAlbumManagement();
            } else if (pageId === 'pengumuman') {
                renderAnnouncements();
                renderComments();
            }
        }

        // Fungsi untuk menampilkan notifikasi
        function showNotification(message, isError = false) {
            notificationText.textContent = message;
            notification.classList.remove('error');
            
            if (isError) {
                notification.classList.add('error');
            }
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Fungsi untuk membuka modal informasi user
        function openUserModal(absen) {
            const anggota = anggotaKelas.find(a => a.absen === absen);
            if (!anggota) return;
            
            const userInfo = document.getElementById('user-info');
            userInfo.innerHTML = `
                <div class="user-photo">
                    <img src="absen${absen}.jpg" alt="${anggota.nama}" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMDAgMjAwIiBmaWxsPSIjNDJhNWY1Ij48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2JiZGVmYiIvPjx0ZXh0IHg9IjEwMCIgeT0iMTAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iNjAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJtaWRkbGUiIGZpbGw9IiM0MmE1ZjUiPiQoYWJzZW4pPC90ZXh0Pjwvc3ZnPg=='">
                </div>
                <div class="user-details">
                    <h2>${anggota.nama}</h2>
                    <p><span class="detail-label">Absen:</span> ${anggota.absen}</p>
                    <p><span class="detail-label">Kedudukan:</span> ${anggota.kedudukan}</p>
                    <p><span class="detail-label">Kelas:</span> 7D - Esphero</p>
                    <p><span class="detail-label">Sekolah:</span> SMPN 2 Banjarnegara</p>
                </div>
            `;
            
            modalOverlay.classList.add('active');
        }

        // Fungsi untuk menutup modal
        function closeModal() {
            modalOverlay.classList.remove('active');
        }

        // Tutup modal saat klik di luar konten modal
        modalOverlay.addEventListener('click', function(e) {
            if (e.target === modalOverlay) {
                closeModal();
            }
        });

        // Fungsi untuk menyimpan status login
        function saveLoginState(username, remember) {
            if (remember) {
                localStorage.setItem('kelas7d_rememberedUser', username);
            } else {
                localStorage.removeItem('kelas7d_rememberedUser');
            }
        }

        // Fungsi untuk memeriksa status login yang diingat
        function checkRememberedLogin() {
            const rememberedUser = localStorage.getItem('kelas7d_rememberedUser');
            if (rememberedUser) {
                // Cari user di database
                const user = users.find(u => u.username === rememberedUser);
                if (user) {
                    // Isi form login dengan username yang diingat
                    document.getElementById('username').value = rememberedUser;
                    rememberMeCheckbox.checked = true;
                }
            }
        }

        // Fungsi untuk melakukan login otomatis jika ada sesi yang diingat
        function checkAutoLogin() {
            const rememberedUser = localStorage.getItem('kelas7d_rememberedUser');
            if (rememberedUser) {
                const user = users.find(u => u.username === rememberedUser);
                if (user) {
                    // Lakukan login otomatis
                    currentUser = user;
                    isLoggedIn = true;
                    user.isOnline = true;
                    
                    // Tampilkan menu admin jika user adalah admin
                    if (user.role === 'admin') {
                        document.querySelectorAll('.admin-menu').forEach(menu => {
                            menu.style.display = 'block';
                        });
                        document.getElementById('add-announcement-form').style.display = 'block';
                        document.getElementById('manage-piket-form').style.display = 'block';
                        uploadTab.style.display = 'flex';
                    } else {
                        document.querySelectorAll('.admin-menu').forEach(menu => {
                            menu.style.display = 'none';
                        });
                        document.getElementById('add-announcement-form').style.display = 'none';
                        document.getElementById('manage-piket-form').style.display = 'none';
                        uploadTab.style.display = 'none';
                    }
                    
                    // Tampilkan hamburger menu
                    hamburger.style.display = 'flex';
                    
                    // Sembunyikan halaman login, tampilkan halaman anggota kelas
                    showPage('anggota-kelas');
                    renderAnggotaKelas();
                    renderAnnouncements();
                    renderListAnggota();
                    renderAdminList();
                    renderPiketSchedule();
                    renderPhotoAlbums();
                    
                    // Set username di form kelola akun
                    document.getElementById('current-username').value = user.username;
                    document.getElementById('current-fullname').value = user.fullname;
                    
                    showNotification(`Selamat datang kembali, ${user.fullname}!`);
                }
            }
        }

        // Fungsi untuk memfilter anggota berdasarkan pencarian
        function filterAnggota() {
            const searchTerm = searchInput.value.toLowerCase();
            const filteredAnggota = anggotaKelas.filter(anggota => 
                anggota.nama.toLowerCase().includes(searchTerm) || 
                anggota.absen.toString().includes(searchTerm) ||
                anggota.kedudukan.toLowerCase().includes(searchTerm)
            );
            
            renderAnggotaKelas(filteredAnggota);
        }

        // Fungsi untuk masuk sebagai pengunjung
        function enterGuestMode() {
            isGuestMode = true;
            isLoggedIn = false;
            currentUser = null;
            
            // Tampilkan info guest mode
            guestInfo.style.display = 'block';
            
            // Sembunyikan fitur admin dan upload
            document.querySelectorAll('.admin-menu').forEach(menu => {
                menu.style.display = 'none';
            });
            document.getElementById('add-announcement-form').style.display = 'none';
            document.getElementById('manage-piket-form').style.display = 'none';
            uploadTab.style.display = 'none';
            commentSection.style.display = 'none';
            
            // Tampilkan hamburger menu
            hamburger.style.display = 'flex';
            
            // Sembunyikan halaman login, tampilkan halaman anggota kelas
            showPage('anggota-kelas');
            renderAnggotaKelas();
            renderAnnouncements();
            renderListAnggota();
            renderAdminList();
            renderPiketSchedule();
            renderPhotoAlbums();
            
            showNotification("Anda masuk sebagai pengunjung. Anda dapat melihat semua informasi yang tersedia.");
        }

        // Fungsi login
        function login() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const rememberMe = rememberMeCheckbox.checked;
            
            const user = users.find(u => (u.username === username || u.fullname === username) && u.password === password);
            
            if (user) {
                currentUser = user;
                isLoggedIn = true;
                isGuestMode = false;
                user.isOnline = true;
                
                // Simpan status remember me
                saveLoginState(user.username, rememberMe);
                
                // Simpan data ke localStorage
                saveUsers();
                
                // Tampilkan menu admin jika user adalah admin
                if (user.role === 'admin') {
                    document.querySelectorAll('.admin-menu').forEach(menu => {
                        menu.style.display = 'block';
                    });
                    document.getElementById('add-announcement-form').style.display = 'block';
                    document.getElementById('manage-piket-form').style.display = 'block';
                    uploadTab.style.display = 'flex';
                } else {
                    document.querySelectorAll('.admin-menu').forEach(menu => {
                        menu.style.display = 'none';
                    });
                    document.getElementById('add-announcement-form').style.display = 'none';
                    document.getElementById('manage-piket-form').style.display = 'none';
                    uploadTab.style.display = 'none';
                }
                
                // Tampilkan fitur komentar
                commentSection.style.display = 'block';
                
                // Sembunyikan info guest mode
                guestInfo.style.display = 'none';
                
                // Tampilkan hamburger menu
                hamburger.style.display = 'flex';
                
                // Sembunyikan halaman login, tampilkan halaman anggota kelas
                showPage('anggota-kelas');
                renderAnggotaKelas();
                renderAnnouncements();
                renderListAnggota();
                renderAdminList();
                renderPiketSchedule();
                renderPhotoAlbums();
                
                // Set username di form kelola akun
                document.getElementById('current-username').value = user.username;
                document.getElementById('current-fullname').value = user.fullname;
                
                showNotification(`Selamat datang, ${user.fullname}!`);
            } else {
                showNotification('Username atau password salah!', true);
            }
        }

        // Fungsi logout
        function logout() {
            if (currentUser) {
                currentUser.isOnline = false;
                saveUsers();
            }
            
            // Hapus status remember me saat logout
            localStorage.removeItem('kelas7d_rememberedUser');
            
            currentUser = null;
            isLoggedIn = false;
            isGuestMode = false;
            
            // Sembunyikan hamburger menu
            hamburger.style.display = 'none';
            
            // Reset form login
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
            rememberMeCheckbox.checked = false;
            
            // Tampilkan halaman login
            showPage('login-page');
            
            showNotification('Anda telah logout');
        }

        // Fungsi untuk merender anggota kelas
        function renderAnggotaKelas(data = anggotaKelas) {
            const cardGrid = document.getElementById('anggota-container');
            cardGrid.innerHTML = '';
            
            if (data.length === 0) {
                cardGrid.innerHTML = '<p class="no-result">Tidak ada anggota yang ditemukan</p>';
                return;
            }
            
            data.forEach((anggota, index) => {
                const card = document.createElement('div');
                card.className = 'card animate-card';
                card.style.animationDelay = `${index * 0.05}s`;
                card.onclick = () => openUserModal(anggota.absen);
                card.innerHTML = `
                    <div class="card-img">
                        <img src="absen${anggota.absen}.jpg" alt="${anggota.nama}" onerror="this.innerHTML='<i class=\\'fas fa-user\\'></i>'">
                    </div>
                    <div class='card-content'>
                        <h3>${anggota.nama}</h3>
                        <p>Absen: ${anggota.absen}</p>
                        <p>${anggota.kedudukan}</p>
                    </div>
                `;
                cardGrid.appendChild(card);
            });
        }

        // Fungsi untuk merender pengumuman
        function renderAnnouncements() {
            const container = document.getElementById('announcements-container');
            container.innerHTML = '';
            
            if (announcements.length === 0) {
                container.innerHTML = '<p class="no-result">Belum ada pengumuman</p>';
                return;
            }
            
            announcements.forEach(announcement => {
                const announcementEl = document.createElement('div');
                announcementEl.className = 'announcement';
                announcementEl.innerHTML = `
                    <h3>${announcement.title}</h3>
                    <div class="announcement-meta">
                        <i class="far fa-calendar-alt"></i>
                        <span>${announcement.date} - Oleh: ${announcement.author}</span>
                    </div>
                    <p>${announcement.content}</p>
                `;
                container.appendChild(announcementEl);
            });
        }

        // Fungsi untuk merender jadwal piket
        function renderPiketSchedule() {
            const container = document.querySelector('.piket-grid');
            container.innerHTML = '';
            
            const days = ['senin', 'selasa', 'rabu', 'kamis', 'jumat', 'sabtu'];
            const dayNames = {
                senin: 'Senin',
                selasa: 'Selasa',
                rabu: 'Rabu',
                kamis: 'Kamis',
                jumat: 'Jumat',
                sabtu: 'Sabtu'
            };
            
            days.forEach(day => {
                const dayElement = document.createElement('div');
                dayElement.className = 'piket-day';
                dayElement.innerHTML = `
                    <h3><i class="fas fa-calendar-day"></i> ${dayNames[day]}</h3>
                    <ul class="piket-list">
                        ${piketSchedule[day].map(student => `
                            <li>
                                <span>${student}</span>
                                <span class="piket-status pending"></span>
                            </li>
                        `).join('')}
                    </ul>
                `;
                container.appendChild(dayElement);
            });
        }

        // Fungsi untuk merender album foto
        function renderPhotoAlbums() {
            const container = document.getElementById('album-container');
            container.innerHTML = '';
            
            if (photoAlbums.length === 0) {
                container.innerHTML = '<p class="no-result">Belum ada album foto</p>';
                return;
            }
            
            photoAlbums.forEach(album => {
                const albumElement = document.createElement('div');
                albumElement.className = 'album-card';
                albumElement.innerHTML = `
                    <div class="album-thumbnail">
                        <img src="${album.cover}" alt="${album.name}">
                    </div>
                    <div class="album-info">
                        <h3 class="album-title">${album.name}</h3>
                        <p>${album.description}</p>
                        <div class="album-meta">
                            <span>${album.photos.length} foto</span>
                            <span>${album.created}</span>
                        </div>
                    </div>
                `;
                albumElement.addEventListener('click', () => openAlbum(album));
                container.appendChild(albumElement);
            });
        }

        // Fungsi untuk membuka album
        function openAlbum(album) {
            currentAlbum = album;
            currentPhotoIndex = 0;
            
            // Buat modal untuk menampilkan foto
            const modal = document.createElement('div');
            modal.className = 'modal-overlay active';
            modal.innerHTML = `
                <div class="user-modal" style="max-width: 90%;">
                    <div class="modal-header">
                        <h2>${album.name}</h2>
                        <button class="modal-close" id="album-modal-close">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <p>${album.description}</p>
                        <div class="photo-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 10px; margin-top: 20px;">
                            ${album.photos.map((photo, index) => `
                                <div class="photo-thumbnail" style="height: 150px; overflow: hidden; border-radius: 8px; cursor: pointer;">
                                    <img src="${photo.url}" alt="${photo.caption}" style="width: 100%; height: 100%; object-fit: cover;" data-index="${index}">
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Event listener untuk menutup modal
            modal.querySelector('#album-modal-close').addEventListener('click', () => {
                document.body.removeChild(modal);
            });
            
            // Event listener untuk membuka foto
            modal.querySelectorAll('.photo-thumbnail img').forEach(img => {
                img.addEventListener('click', (e) => {
                    const index = parseInt(e.target.getAttribute('data-index'));
                    openPhoto(album, index);
                    document.body.removeChild(modal);
                });
            });
            
            // Tutup modal saat klik di luar
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    document.body.removeChild(modal);
                }
            });
        }

        // Fungsi untuk membuka foto
        function openPhoto(album, index) {
            currentAlbum = album;
            currentPhotoIndex = index;
            
            const photo = album.photos[index];
            modalPhoto.src = photo.url;
            photoInfo.innerHTML = `
                <h3>${photo.caption}</h3>
                <p>Diunggah oleh: ${photo.uploader} pada ${photo.uploadDate}</p>
            `;
            
            photoModal.classList.add('active');
        }

        // Fungsi untuk menutup modal foto
        function closePhotoModal() {
            photoModal.classList.remove('active');
        }

        // Fungsi untuk menampilkan foto sebelumnya
        function showPrevPhoto() {
            if (currentAlbum && currentAlbum.photos.length > 0) {
                currentPhotoIndex = (currentPhotoIndex - 1 + currentAlbum.photos.length) % currentAlbum.photos.length;
                openPhoto(currentAlbum, currentPhotoIndex);
            }
        }

        // Fungsi untuk menampilkan foto berikutnya
        function showNextPhoto() {
            if (currentAlbum && currentAlbum.photos.length > 0) {
                currentPhotoIndex = (currentPhotoIndex + 1) % currentAlbum.photos.length;
                openPhoto(currentAlbum, currentPhotoIndex);
            }
        }

        // Fungsi untuk merender list anggota
        function renderListAnggota() {
            const tbody = document.getElementById('anggota-list-body');
            tbody.innerHTML = '';
            
            users.forEach((user, index) => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${user.username}</td>
                    <td>${user.fullname}</td>
                    <td>${user.role}</td>
                    <td>
                        ${user.isOnline ? 
                            '<span class="online-status"></span>Online' : 
                            '<span class="online-status offline"></span>Offline'
                        }
                    </td>
                    <td>
                        <div class="action-menu">
                            <button class="action-btn"><i class="fas fa-ellipsis-v"></i></button>
                            <div class="dropdown-menu">
                                <button onclick="viewUserDetails('${user.username}')"><i class="fas fa-eye"></i> Lihat Detail</button>
                                <button onclick="makeAdmin('${user.username}')"><i class="fas fa-crown"></i> Jadikan Admin</button>
                                <button onclick="deleteUser('${user.username}')"><i class="fas fa-trash"></i> Hapus</button>
                                <button onclick="resetPassword('${user.username}')"><i class="fas fa-key"></i> Reset Password</button>
                            </div>
                        </div>
                    </td>
                `;
                tbody.appendChild(tr);
            });
            
            // Tambahkan event listener untuk dropdown menu
            document.querySelectorAll('.action-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const menu = this.nextElementSibling;
                    const isShowing = menu.classList.contains('show');
                    
                    // Tutup semua menu dropdown lainnya
                    document.querySelectorAll('.dropdown-menu').forEach(m => {
                        m.classList.remove('show');
                    });
                    
                    // Buka/tutup menu yang diklik
                    if (!isShowing) {
                        menu.classList.add('show');
                    }
                });
            });
        }

        // Fungsi untuk merender list admin
        function renderAdminList() {
            const tbody = document.getElementById('admin-list-body');
            tbody.innerHTML = '';
            
            const admins = users.filter(u => u.role === 'admin');
            
            admins.forEach((admin, index) => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${admin.username}</td>
                    <td>${admin.fullname}</td>
                    <td>${admin.joinDate}</td>
                    <td>
                        ${admin.isOnline ? 
                            '<span class="online-status"></span>Online' : 
                            '<span class="online-status offline"></span>Offline'
                        }
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }

        // Fungsi untuk merender manajemen album
        function renderAlbumManagement() {
            const container = document.getElementById('album-management-container');
            container.innerHTML = '';
            
            if (photoAlbums.length === 0) {
                container.innerHTML = '<p class="no-result">Belum ada album foto</p>';
                return;
            }
            
            photoAlbums.forEach(album => {
                const albumElement = document.createElement('div');
                albumElement.className = 'admin-panel';
                albumElement.style.marginBottom = '15px';
                albumElement.innerHTML = `
                    <div style="display: flex; align-items: center; justify-content: space-between;">
                        <div>
                            <h3>${album.name}</h3>
                            <p>${album.description}</p>
                            <p><small>Dibuat oleh: ${album.createdBy} pada ${album.created}</small></p>
                            <p><small>Jumlah foto: ${album.photos.length}</small></p>
                        </div>
                        <div>
                            <input type="checkbox" class="album-checkbox" data-id="${album.id}" style="margin-right: 10px;">
                            <button class="btn btn-danger" onclick="deleteAlbum(${album.id})"><i class="fas fa-trash"></i> Hapus</button>
                        </div>
                    </div>
                `;
                container.appendChild(albumElement);
            });
            
            // Tampilkan tombol hapus terpilih jika ada album
            deleteAlbumsBtn.style.display = 'block';
        }
        
        // Fungsi untuk membuka modal gambar
function openImageModal(src, title) {
    const modal = document.createElement('div');
    modal.className = 'modal-overlay active';
    modal.style.zIndex = '3000';
    modal.innerHTML = `
        <div class="user-modal" style="max-width: 90%; max-height: 90%;">
            <div class="modal-header">
                <h2>${title}</h2>
                <button class="modal-close" id="image-modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" style="text-align: center; overflow: auto;">
                <img src="${src}" alt="${title}" style="max-width: 100%; max-height: 70vh; border-radius: 8px;">
            </div>
        </div>
    `;
    
    document.body.appendChild(modal);
    
    // Event listener untuk menutup modal
    modal.querySelector('#image-modal-close').addEventListener('click', () => {
        document.body.removeChild(modal);
    });
    
    // Tutup modal saat klik di luar
    modal.addEventListener('click', (e) => {
        if (e.target === modal) {
            document.body.removeChild(modal);
        }
    });
    
    // Tutup modal dengan tombol ESC
    const closeOnEsc = (e) => {
        if (e.key === 'Escape') {
            document.body.removeChild(modal);
            document.removeEventListener('keydown', closeOnEsc);
        }
    };
    document.addEventListener('keydown', closeOnEsc);
}

        // Fungsi untuk mempublish pengumuman baru
        function publishAnnouncement() {
            if (!currentUser || currentUser.role !== 'admin') {
                showNotification('Hanya admin yang dapat mempublish pengumuman!', true);
                return;
            }
            
            const title = document.getElementById('announcement-title').value;
            const content = document.getElementById('announcement-content').value;
            
            if (!title || !content) {
                showNotification('Judul dan konten pengumuman harus diisi!', true);
                return;
            }
            
            const today = new Date();
            const dateStr = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;
            
            announcements.unshift({
                title,
                content,
                date: dateStr,
                author: currentUser.fullname
            });
            
            // Simpan ke localStorage
            localStorage.setItem('kelas7d_announcements', JSON.stringify(announcements));
            
            renderAnnouncements();
            
            // Reset form
            document.getElementById('announcement-title').value = '';
            document.getElementById('announcement-content').value = '';
            
            showNotification('Pengumuman berhasil dipublikasikan!');
        }

        // Fungsi untuk update password
        function updatePassword() {
            const newPassword = document.getElementById('new-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            
            if (!newPassword || !confirmPassword) {
                showNotification('Password baru dan konfirmasi password harus diisi!', true);
                return;
            }
            
            if (newPassword !== confirmPassword) {
                showNotification('Password baru dan konfirmasi password tidak cocok!', true);
                return;
            }
            
            // Update password di data user
            const userIndex = users.findIndex(u => u.username === currentUser.username);
            if (userIndex !== -1) {
                users[userIndex].password = newPassword;
                saveUsers();
                showNotification('Password berhasil diperbarui!');
                
                // Reset form
                document.getElementById('new-password').value = '';
                document.getElementById('confirm-password').value = '';
            }
        }

        // Fungsi untuk membuat akun baru
        function createAccount() {
            if (!currentUser || currentUser.role !== 'admin') {
                showNotification('Hanya admin yang dapat membuat akun baru!', true);
                return;
            }
            
            const username = document.getElementById('new-username').value;
            const fullname = document.getElementById('new-fullname').value;
            const password = document.getElementById('new-user-password').value;
            const confirmPassword = document.getElementById('confirm-user-password').value;
            const role = document.getElementById('user-role').value;
            
            if (!username || !fullname || !password || !confirmPassword) {
                showNotification('Semua field harus diisi!', true);
                return;
            }
            
            if (password !== confirmPassword) {
                showNotification('Password dan konfirmasi password tidak cocok!', true);
                return;
            }
            
            // Cek apakah username sudah ada
            if (users.some(u => u.username === username)) {
                showNotification('Username sudah digunakan!', true);
                return;
            }
            
            // Tambahkan user baru
            const today = new Date();
            const dateStr = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;
            
            users.push({
                username,
                password,
                fullname,
                role,
                isOnline: false,
                joinDate: dateStr
            });
            
            // Simpan ke localStorage
            saveUsers();
            
            showNotification('Akun berhasil dibuat!');
            
            // Reset form
            document.getElementById('new-username').value = '';
            document.getElementById('new-fullname').value = '';
            document.getElementById('new-user-password').value = '';
            document.getElementById('confirm-user-password').value = '';
            document.getElementById('user-role').value = 'user';
            
            // Update list anggota
            renderListAnggota();
            renderAdminList();
            renderAnggotaKelas();
        }

        // Fungsi untuk menyimpan jadwal piket
        function savePiket() {
            if (!currentUser || currentUser.role !== 'admin') {
                showNotification('Hanya admin yang dapat mengubah jadwal piket!', true);
                return;
            }
            
            const day = document.getElementById('piket-day').value;
            const studentsText = document.getElementById('piket-students').value;
            
            if (!studentsText) {
                showNotification('Daftar siswa harus diisi!', true);
                return;
            }
            
            const students = studentsText.split(',').map(s => s.trim()).filter(s => s !== '');
            
            piketSchedule[day] = students;
            
            // Simpan ke localStorage
            localStorage.setItem('kelas7d_piket', JSON.stringify(piketSchedule));
            
            renderPiketSchedule();
            
            // Reset form
            document.getElementById('piket-students').value = '';
            
            showNotification('Jadwal piket berhasil disimpan!');
        }

        // Fungsi untuk menyimpan jadwal piket dari halaman kelola
        function savePiketManagement() {
            if (!currentUser || currentUser.role !== 'admin') {
                showNotification('Hanya admin yang dapat mengubah jadwal piket!', true);
                return;
            }
            
            const day = document.getElementById('piket-management-day').value;
            const studentsText = document.getElementById('piket-management-students').value;
            
            if (!studentsText) {
                showNotification('Daftar siswa harus diisi!', true);
                return;
            }
            
            const students = studentsText.split(',').map(s => s.trim()).filter(s => s !== '');
            
            piketSchedule[day] = students;
            
            // Simpan ke localStorage
            localStorage.setItem('kelas7d_piket', JSON.stringify(piketSchedule));
            
            // Reset form
            document.getElementById('piket-management-students').value = '';
            
            showNotification('Jadwal piket berhasil disimpan!');
        }

        // Fungsi untuk menangani pemilihan file
        function handleFileSelect(e) {
            const files = e.target.files;
            
            if (files.length === 0) return;
            
            uploadFiles = Array.from(files);
            uploadPreview.innerHTML = '';
            
            uploadFiles.forEach((file, index) => {
                if (!file.type.match('image.*')) {
                    showNotification('Hanya file gambar yang diizinkan!', true);
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    const previewItem = document.createElement('div');
                    previewItem.className = 'preview-item';
                    previewItem.innerHTML = `
                        <img src="${e.target.result}" alt="Preview">
                        <button class="preview-remove" data-index="${index}">
                            <i class="fas fa-times"></i>
                        </button>
                    `;
                    uploadPreview.appendChild(previewItem);
                    
                    // Event listener untuk menghapus preview
                    previewItem.querySelector('.preview-remove').addEventListener('click', (e) => {
                        e.stopPropagation();
                        const removeIndex = parseInt(e.target.closest('.preview-remove').getAttribute('data-index'));
                        uploadFiles.splice(removeIndex, 1);
                        uploadPreview.removeChild(previewItem);
                        
                        // Update data-index untuk item yang tersisa
                        uploadPreview.querySelectorAll('.preview-remove').forEach((btn, idx) => {
                            btn.setAttribute('data-index', idx);
                        });
                        
                        if (uploadFiles.length === 0) {
                            uploadBtn.disabled = true;
                        }
                    });
                };
                reader.readAsDataURL(file);
            });
            
            uploadBtn.disabled = false;
        }

        // Fungsi untuk mengupload foto
        function uploadPhotos() {
            if (!currentUser || currentUser.role !== 'admin') {
                showNotification('Hanya admin yang dapat mengupload foto!', true);
                return;
            }
            
            const albumName = document.getElementById('album-name').value;
            const albumDescription = document.getElementById('album-description').value;
            
            if (!albumName || !albumDescription) {
                showNotification('Nama dan deskripsi album harus diisi!', true);
                return;
            }
            
            if (uploadFiles.length === 0) {
                showNotification('Pilih setidaknya satu foto untuk diupload!', true);
                return;
            }
            
            const today = new Date();
            const dateStr = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;
            
            // Buat album baru
            const newAlbum = {
                id: Date.now(),
                name: albumName,
                description: albumDescription,
                cover: URL.createObjectURL(uploadFiles[0]),
                photos: [],
                created: dateStr,
                createdBy: currentUser.fullname
            };
            
            // Tambahkan foto ke album
            uploadFiles.forEach((file, index) => {
                newAlbum.photos.push({
                    id: Date.now() + index,
                    url: URL.createObjectURL(file),
                    caption: `Foto ${index + 1} - ${albumName}`,
                    uploadDate: dateStr,
                    uploader: currentUser.fullname
                });
            });
            
            // Tambahkan album ke daftar
            photoAlbums.push(newAlbum);
            
            // Simpan ke localStorage
            localStorage.setItem('kelas7d_albums', JSON.stringify(photoAlbums));
            
            // Reset form
            document.getElementById('album-name').value = '';
            document.getElementById('album-description').value = '';
            uploadFiles = [];
            uploadPreview.innerHTML = '';
            uploadBtn.disabled = true;
            fileInput.value = '';
            
            // Kembali ke tab lihat album
            document.querySelector('[data-tab="view-album"]').click();
            
            // Render ulang album
            renderPhotoAlbums();
            
            showNotification('Album berhasil diupload!');
        }

        // Fungsi untuk menghapus album
        function deleteAlbum(albumId) {
            if (!currentUser || currentUser.role !== 'admin') {
                showNotification('Hanya admin yang dapat menghapus album!', true);
                return;
            }
            
            if (confirm('Apakah Anda yakin ingin menghapus album ini?')) {
                const albumIndex = photoAlbums.findIndex(a => a.id === albumId);
                if (albumIndex !== -1) {
                    photoAlbums.splice(albumIndex, 1);
                    localStorage.setItem('kelas7d_albums', JSON.stringify(photoAlbums));
                    renderPhotoAlbums();
                    renderAlbumManagement();
                    showNotification('Album berhasil dihapus!');
                }
            }
        }

        // Fungsi untuk menghapus album terpilih
        function deleteSelectedAlbums() {
            if (!currentUser || currentUser.role !== 'admin') {
                showNotification('Hanya admin yang dapat menghapus album!', true);
                return;
            }
            
            const selectedAlbums = Array.from(document.querySelectorAll('.album-checkbox:checked'))
                .map(checkbox => parseInt(checkbox.getAttribute('data-id')));
            
            if (selectedAlbums.length === 0) {
                showNotification('Pilih setidaknya satu album untuk dihapus!', true);
                return;
            }
            
            if (confirm(`Apakah Anda yakin ingin menghapus ${selectedAlbums.length} album?`)) {
                photoAlbums = photoAlbums.filter(album => !selectedAlbums.includes(album.id));
                localStorage.setItem('kelas7d_albums', JSON.stringify(photoAlbums));
                renderAlbumManagement();
                renderPhotoAlbums();
                showNotification(`${selectedAlbums.length} album berhasil dihapus!`);
            }
        }

        // Fungsi untuk delete user
        function deleteUser(username) {
            if (!currentUser || currentUser.role !== 'admin') {
                showNotification('Hanya admin yang dapat menghapus user!', true);
                return;
            }
            
            if (confirm(`Apakah Anda yakin ingin menghapus user ${username}?`)) {
                const userIndex = users.findIndex(u => u.username === username);
                if (userIndex !== -1) {
                    users.splice(userIndex, 1);
                    saveUsers();
                    showNotification(`User ${username} telah dihapus!`);
                    renderListAnggota();
                    renderAdminList();
                    renderAnggotaKelas();
                }
            }
        }

        // Fungsi untuk menjadikan user sebagai admin
        function makeAdmin(username) {
            if (!currentUser || currentUser.role !== 'admin') {
                showNotification('Hanya admin yang dapat menjadikan user sebagai admin!', true);
                return;
            }
            
            if (confirm(`Apakah Anda yakin ingin menjadikan ${username} sebagai admin?`)) {
                const userIndex = users.findIndex(u => u.username === username);
                if (userIndex !== -1) {
                    users[userIndex].role = 'admin';
                    saveUsers();
                    showNotification(`User ${username} sekarang menjadi admin!`);
                    renderListAnggota();
                    renderAdminList();
                    renderAnggotaKelas();
                }
            }
        }

        // Fungsi untuk melihat detail user
        function viewUserDetails(username) {
            const user = users.find(u => u.username === username);
            if (user) {
                alert(`Detail Pengguna:\nUsername: ${user.username}\nNama Lengkap: ${user.fullname}\nPassword: ${user.password}\nPeran: ${user.role}\nStatus: ${user.isOnline ? 'Online' : 'Offline'}\nTanggal Bergabung: ${user.joinDate}`);
            }
        }

        // Fungsi untuk reset password user
        function resetPassword(username) {
            if (!currentUser || currentUser.role !== 'admin') {
                showNotification('Hanya admin yang dapat mereset password!', true);
                return;
            }
            
            if (confirm(`Apakah Anda yakin ingin mereset password ${username}?`)) {
                const userIndex = users.findIndex(u => u.username === username);
                if (userIndex !== -1) {
                    users[userIndex].password = 'password123'; // Password default
                    saveUsers();
                    showNotification(`Password ${username} telah direset ke 'password123'`);
                }
            }
        }

        // Fungsi untuk menyimpan data ke localStorage
        function saveUsers() {
            try {
                localStorage.setItem('kelas7d_user', JSON.stringify(users));
            } catch (e) {
                console.error("Error saving users to localStorage:", e);
                showNotification('Error menyimpan data pengguna!', true);
            }
        }

        // Fungsi untuk memuat komentar dari localStorage
        function loadComments() {
            const savedComments = localStorage.getItem('kelas7d_comments');
            if (savedComments) {
                comments = JSON.parse(savedComments);
            }
        }

        // Fungsi untuk menyimpan komentar ke localStorage
        function saveComments() {
            localStorage.setItem('kelas7d_comments', JSON.stringify(comments));
        }

        // Fungsi untuk merender komentar
        function renderComments() {
            const commentList = document.getElementById('comment-list');
            commentList.innerHTML = '';
            
            if (comments.length === 0) {
                commentList.innerHTML = '<p class="no-result">Belum ada komentar</p>';
                return;
            }
            
            comments.forEach(comment => {
                const commentItem = document.createElement('div');
                commentItem.className = 'comment-item';
                commentItem.innerHTML = `
                    <div class="comment-header">
                        <span class="comment-author">${comment.author}</span>
                        <span class="comment-date">${comment.date}</span>
                    </div>
                    <div class="comment-content">${comment.content}</div>
                `;
                commentList.appendChild(commentItem);
            });
        }

        // Fungsi untuk mengirim komentar
        function submitComment() {
            if (!isLoggedIn || !currentUser) {
                showNotification('Anda harus login untuk mengirim komentar!', true);
                return;
            }
            
            const commentText = document.getElementById('comment-text').value;
            
            if (!commentText) {
                showNotification('Komentar tidak boleh kosong!', true);
                return;
            }
            
            const today = new Date();
            const dateStr = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')} ${String(today.getHours()).padStart(2, '0')}:${String(today.getMinutes()).padStart(2, '0')}`;
            
            const newComment = {
                id: Date.now(),
                author: currentUser.fullname,
                content: commentText,
                date: dateStr
            };
            
            comments.unshift(newComment);
            saveComments();
            renderComments();
            
            // Reset form
            document.getElementById('comment-text').value = '';
            
            showNotification('Komentar berhasil dikirim!');
        }

        // Inisialisasi
        function init() {
            // Periksa apakah ada login yang diingat
            checkRememberedLogin();
            
            // Coba login otomatis jika ada sesi yang diingat
            checkAutoLogin();
            
            // Sembunyikan hamburger menu saat halaman login
            if (!isLoggedIn && !isGuestMode) {
                hamburger.style.display = 'none';
            }
            
            // Simpan data awal jika belum ada
            if (!localStorage.getItem('kelas7d_user')) {
                saveUsers();
            }
            if (!localStorage.getItem('kelas7d_announcements')) {
                localStorage.setItem('kelas7d_announcements', JSON.stringify(announcements));
            }
            if (!localStorage.getItem('kelas7d_piket')) {
                localStorage.setItem('kelas7d_piket', JSON.stringify(piketSchedule));
            }
            if (!localStorage.getItem('kelas7d_albums')) {
                localStorage.setItem('kelas7d_albums', JSON.stringify(photoAlbums));
            }
            if (!localStorage.getItem('kelas7d_comments')) {
                localStorage.setItem('kelas7d_comments', JSON.stringify(comments));
            }
            
            // Render data awal
            renderAnggotaKelas();
            renderPiketSchedule();
            renderPhotoAlbums();
        }

        // Tutup dropdown menu saat klik di tempat lain
        document.addEventListener('click', function() {
            document.querySelectorAll('.dropdown-menu').forEach(menu => {
                menu.classList.remove('show');
            });
        });

        // Event listener untuk keyboard navigation di modal foto
        document.addEventListener('keydown', function(e) {
            if (photoModal.classList.contains('active')) {
                if (e.key === 'Escape') {
                    closePhotoModal();
                } else if (e.key === 'ArrowLeft') {
                    showPrevPhoto();
                } else if (e.key === 'ArrowRight') {
                    showNextPhoto();
                }
            }
        });

        // Accordion functionality
        document.querySelectorAll('.accordion-header').forEach(header => {
            header.addEventListener('click', function() {
                const accordionItem = this.parentElement;
                const accordionContent = this.nextElementSibling;
                const arrow = this.querySelector('.accordion-arrow');
                
                // Close other accordions
                document.querySelectorAll('.accordion-item').forEach(item => {
                    if (item !== accordionItem) {
                        item.classList.remove('active');
                        item.querySelector('.accordion-content').classList.remove('active');
                    }
                });

                // Toggle current accordion
                accordionItem.classList.toggle('active');
                accordionContent.classList.toggle('active');
            });
        });

        // Jalankan inisialisasi
        init();
    </script>
</body>
</html>
